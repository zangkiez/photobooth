{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Latest development version: Photobooth Photobooth turns a connected camera and screen into an offline-friendly photo booth for events on Linux and Windows. It runs on your own hardware (Pi, PC, mini\u2011PC) and ships features like countdowns, live preview, photo/collage workflows, filters, printing and a gallery. Start here Install & setup: begin with the prerequisites and pick an install guide for your platform. Upgrade: follow the update guide for Linux and check the changelog for release details. Customize: tweak sounds, themes and styles in Customizing . Troubleshoot: find answers in the FAQ and tutorials . Community: join the Telegram chat or read the code of conduct . What Photobooth is (and is not) Self-hosted event software that stays local after setup and does not require cloud services or accounts. Not a hosted website where guests upload from home, nor a permanent online gallery or full image editor. Requires a supported OS and basic configuration; it is not a one\u2011click kiosk appliance. Project background Photobooth was initially developed by Andre Rinas ( original source ). In 2019 Andreas Skomski continued the work and, together with the community, grew Photobooth into the feature-rich project you see today. News and releases Catch up on recent announcements, release highlights and community updates in the News . Full version details are listed in the Changelog . Overall the code got optimized and cleaned up. There's also a lot of new options added. Photobooth is now again compatible with Windows, also PHP8 won't cause trouble. If you find a bug you're welcome to report it on the GitHub issue page . Update instructions have been updated, you can now easily update your existing git installation of Photobooth using the photobooth installer! Enjoy Photobooth v4! Contribute to this documentation See the contribution guide for setup, editing tips and how to run the docs locally before opening a PR.","title":"Home"},{"location":"#photobooth","text":"Photobooth turns a connected camera and screen into an offline-friendly photo booth for events on Linux and Windows. It runs on your own hardware (Pi, PC, mini\u2011PC) and ships features like countdowns, live preview, photo/collage workflows, filters, printing and a gallery.","title":"Photobooth"},{"location":"#start-here","text":"Install & setup: begin with the prerequisites and pick an install guide for your platform. Upgrade: follow the update guide for Linux and check the changelog for release details. Customize: tweak sounds, themes and styles in Customizing . Troubleshoot: find answers in the FAQ and tutorials . Community: join the Telegram chat or read the code of conduct .","title":"Start here"},{"location":"#what-photobooth-is-and-is-not","text":"Self-hosted event software that stays local after setup and does not require cloud services or accounts. Not a hosted website where guests upload from home, nor a permanent online gallery or full image editor. Requires a supported OS and basic configuration; it is not a one\u2011click kiosk appliance.","title":"What Photobooth is (and is not)"},{"location":"#project-background","text":"Photobooth was initially developed by Andre Rinas ( original source ). In 2019 Andreas Skomski continued the work and, together with the community, grew Photobooth into the feature-rich project you see today.","title":"Project background"},{"location":"#news-and-releases","text":"Catch up on recent announcements, release highlights and community updates in the News . Full version details are listed in the Changelog . Overall the code got optimized and cleaned up. There's also a lot of new options added. Photobooth is now again compatible with Windows, also PHP8 won't cause trouble. If you find a bug you're welcome to report it on the GitHub issue page . Update instructions have been updated, you can now easily update your existing git installation of Photobooth using the photobooth installer! Enjoy Photobooth v4!","title":"News and releases"},{"location":"#contribute-to-this-documentation","text":"See the contribution guide for setup, editing tips and how to run the docs locally before opening a PR.","title":"Contribute to this documentation"},{"location":"changelog/","text":"Changelog Upcoming Photobooth release To use a preview of the upcoming Version you need to install the Install last development version using the install-photobooth.sh installer (now also works on all devices running debian / a debian based OS). Last development version is installed by default! You can check the commit history for changes made since your installation here . An updated FAQ can always be found at localhost/faq (or http://localhost/photobooth/faq ). Please read the license notice here . 4.x development Features Virtual keyboard for email (layouts/colors, toggle), multi-recipient email, and configurable email fields. Uploadable/optional private keying backgrounds; configurable rotation ranges; CollageLayoutEnum; adjustable collage video previews; collage color presets; auto-enable background/frame and preview toggles; placeholder limits. Tailwind CSS v4 migration and dependency bumps; Turkish language option; JPEG quality floor raised. Printing: copy prompt, new print-limit endpoint, longer print timeout, multi-print fixes, queued message timing, hardware button photo support, hardware keyboard for admin PIN, Remotebuzzer on chroma capture. Rembg as built-in service with advanced options, logging, compositing fixes, and install script. Theme management with categories/docs, custom CSS, git version indicator, clear-cache button, custom stage.start.php , optional result blur, gallery dimension caching, preview URL migration. Setup: whiptail-based Setup Wizard, PHP 8.4 requirement, install_rembg improvements, USB sync hardening, installer self-update tweaks. QR-Code short text option on result screen and gallery for better understanding, configurable in admin settings. Introduced a new Screensaver feature with image/video/folder/gallery modes, configurable start timeout and slide interval. Added a font configuration section for UI texts so fonts/colors can be set centrally ( fixes #986 ) Configurable fixed size for gallery detail images and add toogle to use thumbs in gallery for better loading times Bug fixes Selfie rename robustness; chroma preview visibility; loader clearing; hide video background during capture. Installer fixes: PHP PPA validation, permissions/source lists/Wayland flag, unavailable PPA removal, software-properties-common fallback. Printing: copy casting and deprecations, rotate error surfacing, stop-second timing, iOS preview fixes, admin tooltip/label fixes, default path corrections. Rembg typing/logging/error handling; collage/theme path fixes; preview caching; safer uploads/video background handling; collage defaults tightening. Docs/link cleanups and various deprecation warnings addressed. 4.5.1 (17.09.2024) General sass: fix deprecated build warning by @andi34 in https://github.com/PhotoboothProject/photobooth/pull/863 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.5.0...v4.5.1 4.5.0 (17.09.2024) This release keeps the stable Photobooth v4 compatible with latest Photobooth installer and allows automated tests via GitHub actions. General update script locations Update build dependencies Move welcome page to http://localhost/welcome (or http://localhost/photobooth/welcome) for automated testing of installation script Add workflow for automated release on push to v* tags Use own fork of Onoff library Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.4.1...v4.5.0 4.4.1 (19.02.2024) General task: /boot/config.txt is not an symlink anymore by @andi34 in https://github.com/PhotoboothProject/photobooth/pull/618 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.4.0...v4.4.1 4.4.0 (09.01.2024) Breaking changes requires Node.js v18.17.0 or newer requires npm 9.6.7 or newer General api: get rid of deleteTmpPhoto cameracontrol.py: don't fail capturing images using Sony Cameras result screen: reload after all files have been deleted core: simplify print message handling core: define tempImageUrl if and where needed core: improve logging api (takePic): only log return value issues on loglevel > 1 core/gallery: central QR modal handling config: move preview bsm to commands section preview: remove arrow functions config(cleanup): remove unused success messages api(previewCamera): use play or stop string instead true and false preview: combine api.startWebcam and api.stopPreviewVideo functions preview: adjust logging preview: fix preview TEST mode preview: fix checking for frame config test(preview): fix preview with cmd core(print): remove unneeded delay optimized keyboard trigger Remove fake buttons to trigger actions, use global functions instead core: simplify check to.clear timeout core: blur picture / collage buttons as needed core: we already blur printBtn after print livechroma: add notification via modal message on trigger via keyCode livechroma: adjust keyCode trigger handling core: adjust keyCode trigger handling logging: adjust some console log messages core: remove unneded focusSet on QR btn click config: remove collage only config, allow to enable/disable picture instead configsetup: define remotebuzzer server port first lib(applyText): remove unneeded if-else statements lib(applyText): add error handling, return unmodified resource on error lib(applyText): throw Exception if text can't be applied lib(applyFrame): add error handling, return unmodified resource on error lib(applyFrame): throw Exceptions if needed lib(polaroid): return unmodified resource on error lib(polaroid): throw exceptions if needed lib(resize): add try-catch-block to rotateResizeImage function lib(resize): throw exceptions on rotateResizeImage if needed lib(resize): add try-catch-block to resizeImage function lib(resize): throw exceptions where needed on resizeImage lib(resize): validate dimensions lib(resize): add try-catch-block to resizePngImage function lib(resize): validate dimensions on resizePngImage function lib(resize): throw exceptions where needed on resizePngImage function lib(resize): add try-catch-block to resizeCropImage function lib(resize): validate dimensions on resizeCropImage function lib(resize): try to clear cache on error lib(resize): adjust check if resize was possible lib (collage): only test file if needed js(tools): add print image function to reuse gulp: updated with ECMAScript Modules (ESM) syntax task: bind docker do port 80 and 443 task: bump node version to v18 LTS and drop yarn task: only limit node and npm version by minimum versions package: switch to marked to formatt faq remotebuzzer server: log earlier remotebuzzer-server: update sanity check, only check if needed remotebuzzer-server: allow GPIO to be any number Bugfix fix: start shutter animation independent of cheese image cameracontrol.py: don't fail capturing images using Sony Cameras core: fix Test value for CameraDisplayMode test preview: fix Test value for CameraDisplayMode UI UI: use highlight color for hover gallery: respect button and font color Prettier display delete status ui: adjust modal transparency and font-weight core: use own div for general different modal messages delete: adjust delete notification messages style: use secondary color for backgrounds where needed task: fix colors while processing images ui(gallery): only show 3 images in a row on mobile phones core: fix delete on collage with interruption Check if images array is empty Standalone Gallerie: add missing js file core(fix): init PhotoSwipe after remoteBuzzer api (takePic): only abort if file was not created preview: respect offset to hide preview preview: respect offset to hide preview from URL slideshow: clear timeout to prevent from running timeout multiple times remotebuzzer server: Determine whether or not GPIO access is possible remotebuzzer server: fix checking for gpio config welcome: use index.php instead of detected URL api (admin): don't reset log on preview config error core(preview): remove preview mode check if image is captured from preview core: check for preview stream instead use of demo images core(preview): stop preview on countdown slightly earlier remotebuzzer server: fix for Node.js v16 submodules: ignore dirty state core: hide result screen on reset remotebuzzer client: fix log Revert \"stabilized rotary encoder handling\" remotebuzzer client: handle QR in gallery remotebuzzer client: close qr modals directly if needed added explicit int conversion gallery: Collage only config was removed sync-to-drive: fix for Node.js v16 Sync more Filetypes lib(config): adjust print command for Windows api (previewCamera): $config is not available, remove logging for now remotebuzzer: respect config also on get request trigger remotebuzzer: don't trigger a different action if disabled remotebuzzer client: check if taking pictures is enabled trigger.php: add missing options, respect hardware button config lib (db): fix for PHP 8 api(admin): check if fonts, frames and collage placeholder are valid core: clear/reset timeout on keyup lib (image): fix applying text to images, fail if text CAN NOT be applied lib(image): don't keep aspect ratio while resizing PNG bugfix: supprress error messages on getimagesize function api(admin): image filter depends on images in tmp folder fix hiding/showing home button independent of button bar on result screen index (frame): respect preview frame config core: don't add images to gallery if gallery is disabled core: print & qr code only if enabled bugfix: update dockerfile add missing python3 lib(resize): fix rotating images on PHP8 Feature config: make time adjustable a notification is visible preview: allow to delay the visibility of the preview from URL preview: allow execution of start/stop cmd without validation config: run preview CMD's without validation by default preview: run preview cmd & stop cmd independent of preview mode remotebuzzer: make print and rotary functions available via get request remotebuzzer: Reboot Button remotebuzzer: make shutdown and reboot available via get request task: enable lazy loading for gallery images FAQ FAQ: add note to fix broken v4l2loopback module FAQ: add notes about issues while taking a picture faq: a username is needed while running enable-usb-sync.sh Updated FAQ - how to upload pictures to remote server FAQ: preview bsm was moved FAQ: no need for success message FAQ: add instructions to update gphoto2 & libgphoto FAQ: adjust PiCamera information FAQ: Add possible preview error because of secure boot FAQ: adjust GPIO setup for PiOS Bookworm FAQ: adjust GPIO information for Raspberry Pi 5; adjust for Pi OS versions Install install: adjust PolKit rule naming install-photobooth: allow to add PolKit rule on all linux distros install-photobooth: PolKit rule doesn't depend on update install-photobooth: make system update optional on photobooth update install-photobooth: fix permissions on yarn folder install-photobooth: easy access to private folder install-photobooth: always ignore filemode changes on git install-photobooth: allow Node.js minor version to match or be newer install-photobooth: be flexible on Node.js version install: yarn: use of apt-key is deprecated install-photobooth: use PHP 8.2 by default install-photobooth: PHP8 sources needed earlier install-photobooth: add https://packages.sury.org/php/ only if distro is supported install: also run apt autoremove while removing nodejs install: switch to latest development version of Gphoto2 install: fix PHP8 install in Ubuntu 20 install-photobooth: improve/fix PHP8 install on Ubuntu install-photobooth: fix missing sources.lst on Ubuntu 22.04 install-photobooth: install npm on Raspberry Pi bugfix: correct installer install: add ppa for PHP on all Debian based distributions install: run commands as www-data user install: install needed packages for gphoto2 webcam service only if needed install: use wget to check internet connection install: update nodejs install install: suppress most progress infos, only display essential output install: fix permissions for www-data user on install install: check for npm on all devices install: remove npm from packages, uninstall libnode72 if installed install: update npm to latest install: fix Download of node-install (Raspberry Pi) install: also check NODEJS_MINOR version install: always install nodejs from official node source install: only fail on Node.js below v18, recheck version if update is skipped install: proof npm version, abort if needed install: fix checking npm version install: check for Firefox browser first install: also check for firefox-esr install-photobooth: remove autostart and hide mouse installer: remove leftover from removed questions/features install-photobooth: don't compile gphoto2 and libgphoto2 install: check if /boot/config.txt is a symlink install-photobooth: adjust Update for www-data user install-photobooth: install npm 9.6.7 if needed Full Changelog : https://github.com/PhotoboothProject/photobooth/compare/v4.3.1...v4.4.0 4.3.1 (06.12.2022) Bugfixes core: improve timings while taking an image by @andi34 in #95 Adjust the code to start taking an image before the Cheeeeeese message disappears (the Cheese-Message can be used to \"hide\" the delay we have until the camera triggers). Also adjust the code to respect the defined offset while taking an image. The take picture action now runs independent of the visible running countdown. Stop the shutter animation after 500ms which should look more fluid and also make sure we can't forget to stop it. If cheese is enabled cheese time will be used instead. Don't run shutter animation twice if an cheese image is used and cheese enabled. General build(deps): bump sass from 1.55.0 to 1.56.1 by @dependabot in #93 build(deps-dev): bump @babel/preset-env from 7.19.4 to 7.20.2 by @dependabot in #94 build(deps-dev): bump eslint from 8.26.0 to 8.28.0 by @dependabot in #92 build(deps): bump socket.io from 4.5.3 to 4.5.4 by @dependabot in #90 build(deps-dev): bump @prettier/plugin-php from 0.19.1 to 0.19.2 by @dependabot in #91 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.3.0...v4.3.1 4.3.0 (29.11.2022) Bugfixes FAQ: fix small typo by @modularTaco in #68 fix(documentation): remove reference to dev mode by @modularTaco in #71 fix(gallery): respect clickToCloseNonZoomable PhotoSwipe config by @andi34 in #72 fix(gallery): fix click on close button while an image is opened by @andi34 in #73 install-photobooth: also check for \"chromium\" package by @andi34 in #86 New Options New options for the QR Code on print by @fmiccolis in #65 Feature: make icons adjustable by @andi34 in #74 Show frame over the preview by @fmiccolis in #45 feature: add simple trigger ( http://localhost/trigger.php or http://localhost/photobooth/trigger.php ) for remotebuzzer server by @andi34 in #66 General allow collage background images to be in any filetype gd understands by @up-87 in #63 core(navbar): restructure navbar function by @andi34 in #64 Restructure preview handling, add testpage for preview settings ( http://localhost/test/preview.php or http://localhost/photobooth/test/preview.php ) by @andi34 in #61 make collage handling more configurable, fix collages and the retry mechanism by @up-87 in #69 cleanup: remove experimental updater & dependencies checker by @andi34 in #84 cleanup: api, also improve random image naming by @andi34 in #87 crowdin: translation import by @andi34 in #88 New Contributors @fmiccolis made their first contribution in #65 @modularTaco made their first contribution in #68 Full Changelog : https://github.com/PhotoboothProject/photobooth/compare/v4.2.0...v4.3.0 4.2.0 (16.10.2022) Bugfixes fix(admin): show 3rd line text of text on * in advanced view by @andi34 in #52 (fix) Stop shutter on fail, respect retry settings on fail by @andi34 in #54 api(takePic): fix flipping image taken from device cam preview, fix Issue 55 by @andi34 in #57 core(api.initializeMedia): retry every second by @andi34 in #56 tools(api.getRequest): don't use JSON.parse while getting a response install-photobooth: iputils-ping is needed to check Internet connection install-photobooth: fix placing Install log inside Photobooth folder General build(deps): bump sass from 1.54.8 to 1.55.0 by @dependabot in #47 build(deps-dev): bump eslint from 8.23.0 to 8.24.0 by @dependabot in #48 build(deps-dev): bump @babel/preset-env from 7.18.10 to 7.19.3 by @dependabot in #49 build(deps-dev): bump @prettier/plugin-php from 0.18.9 to 0.19.1 by @dependabot in #50 build(deps-dev): bump @babel/core from 7.18.13 to 7.19.3 by @dependabot in #51 crowdin: translation import by @andi34 in #58 vendor(PHPMailer): update to v6.6.5 by @andi34 in #59 core(preview): remove unneeded checks on preview handling Full Changelog: https://github.com/PhotoboothProject/photobooth/compare/v4.1.0...v4.2.0 4.1.0 (30.09.2022) Bugfixes fix(UI): don't run shutter animation twice by @andi34 in #32 fix(ui): add version tag to own stylesheets by @andi34 in #33 fix(ui): add version tag to own javascripts by @andi34 in #36 fix(admin): don't remove images from archives and private folder by @andi34 in #42 fix(admin): respect changed config before executing an reset by @andi34 in #43 New Options feature(collage): add background to collage for easier template creation. closes Issue #28 by @up-87 in #31 feature(debugpanel): add access to installation log by @andi34 in #37 feature(ui): allow to define language resource path, also fix path for javascript folders on subfolder installation by @andi34 in #38 feature(preview): allow to rotate all preview options by @andi34 in #44 rework(preview): remove gphoto preview option by @andi34 in #46 General lib(configsetup): make more settings available on basic view by @andi34 in #35 api(debug): log information from admin.php on config changes and reset by @andi34 in #41 crowdin: translation import by @andi34 in #39 Full Changelog: https://github.com/PhotoboothProject/photobooth/compare/v4.0.0...v4.1.0 4.0.0 (10.09.2022) Source code moved to https://github.com/PhotoboothProject/photobooth , old Releases etc. will still be available at https://github.com/andi34/photobooth Security - Security advice added to the README and welcome page #376 - PHPMailer: update to v6.6.4 Breaking changes QR code is now printed onto the image instead on the right side to not break the image ratio, new options have been added for best user experience (see New Options for details) Remove Greek, Polish and Spanish from Language options because they aren't maintained ( further information ) Collage: layout's changed slightly (positions and image size now get calculated depending on defined dpi). Existing frames might not fit anymore and need to be updated. vendor: remove rpihotspot from repo (it's still available on github, but we don't need it as a direct dependencie for Photobooth) Bugfixes - chromium: fix white screen of death on first start in kiosk mode (Raspberry Pi only) - livechroma: fix text formatting on error/retry - api(takePic): - fix error message, take picture command can be anything - check if picture exists: If a picture exists already, rename it before using the same filename for a new picture. This might fix an issue on collage where a retaken image isn't saved / used and should also prevent overriding an existing image by accident. - fix print with QR Code - Video preview #448 , #476 : - Fix gphoto preview on retry / next collage image. - fix taking pictures from gphoto preview #24 ( Note: Gphoto won't be used, it's more like taking a screenshot of the Preview. Since Gphoto won't be used there's no flash light of the camera!) - hide video preview in background of interrupted collage - fixed possible DSLR preview stop time bug - fixed bug: preview['flip'] was saved but not reloaded. So if the correct setting should be retained it needed to be set every time. - fixed bug: in the background of the continuos collage image preview the gphoto2 preview (without bsm) continued to run visibly - Improve preview handling #6 - core: - respect retry timeout: The timeout should not be a new countdown, it should be a timeout as it's name says. Retry notification will now be visible for defined time. Countdown for picture/next collage image is not touched and will be used as defined. - fix get request at countdown - handle errors on get requests #15 - welcome.php: use detected URL to start Photobooth - FAQ: fix command to execute setup-network.sh for hotspot - frame/font: again allow to be located outside of photobooth source - config(print): add fallback to defaults if print font/frame is not defined - collage: - Continue collage with keypress #408 - prevent caching of collage images with unique image name #425 - use collage countdown timer on first collage image #22 - installation script: - fix permissions on www-data users cachefolder and .yarnrc if exists - fix and improve use of lighttpd and nginx #477 - install curl (and raspberrypi-kernel-headers for PiOS) early enough to be used - stabilized rotary encoder handling #449 - email: - fix wrong button text if \"Store email addresses in file\" is enabled #462 (fixes Issue #461 ) - stop spinning loader icon once the email has been sent (fixes Issue #453 ) - language: - fix mixed up german translation for pre- and post-photo command (fixes Issue #451 ) - PHP8: - fix Deprecated Passing null to parameter error - fix Implicit conversion from float (number) to int loses precision New Options - Add traslate button to Adminpanel, opens Photobooth project on Crowdin - UI: - Shutter animation, enabled by default #368 - add config to define highlight color used on round buttons (modern style) - make UI and button style independent #442 - add modern squared design by @Moarqi #440 - QR #371 : - Error correction level adjustable - Gallery: - Add config option to enable/disable the figure caption in the gallery view #398 - Add config option to enable/disable action button footer (photo, collage) - Collage: - added simple 2+1 style that is to be used with a frame that fills the open space #424 - Added an option to set a placeholder (eg custom image / graphic) for one image of the collage #424 - simple customizable collage config with a json file #26 - Preview: - config: allow to adjust the time to stop the gphoto preview - choose to flip the preview along the X or Y axis #465 , fixup #476 - specify how the preview should be resized to fit: This setting uses the css object-fit property which is used to specify how the preview should be resized to fit. The following options are available: - fill - The image is resized to fill the given dimension. If necessary, the image will be stretched or squished to fit. - contain - The image keeps its aspect ratio, but is resized to fit within the given dimension. - cover - The image keeps its aspect ratio and fills the given dimension. The image will be clipped to fit. - none - The image is not resized. - scale-down - the image is scaled down to the smallest version of none or contain. - allow to set background-size to cover on URL preview - Print: - Always print the QR onto the image instead in the right side (see Breaking Changes ) - QR size adjustable - QR offset adjustable - QR position adjustable - allow to disable rotation before print - Countdown: - allow using a customizable image instead of cheese message if shutter animation is used #4 - Post picture command: - Passes the Filename (doesn't include the full path!) to the post-cmd . This can be used e.g. to manipulate the Image (e.g. with Imagemagick) after the Picture was taken. General - restore windows compatibility #23 - Import latest Crowdin translations - Cleanup core.js #369 : - remove unneeded if checks - improve readability - Let's start the picture process from beginning on retry. Also start all previews like defined at countdown. - Centralized preview start/stop functions, this helps getting a better overview of the code. - log error messages to console from api.errorPic - optimize error messages - time configurations moved to constants - move more ID selector to constants - Collage: - Collage code cleanup (can most likely still be improved by using php classes but this should be okay) - rename some collage styles (2+2 instead of 2x2 as x now always indicates pictures are reused - old name still works) #424 - Collage Images will be dynamically scaled based on a given resolution (eg 300dpi etc) #424 - configsetup: - add <input type=\"number\"> and use where possible to avoid issues on input - install script: - install-raspbian: rename to install-photobooth.sh, photobooth works fine on debian and other debian based distributions - pass options to the script (run sudo bash install-photobooth.sh -h to see all options) - ask to install Gutenprint drivers - make sure a new question is recognized - always mention the setup choice - adjust warning messages - fix git installation message - install latest development version via git by default (latest stable3 version can be passed to the installer via option) - prevent double entry in autostart while re-running the installer - allow to install gphoto2 Webcam Service - create installation log inside /tmp/photobooth - always install latest stable gphoto2 - adjust package array handling - Add new parameter to setup the php version #477 - Webserver #477 : - Apply PHP Version for nginx and lighttpd - Fix (improve) nginx / lighttpd service startup - Fix client_max_body_size problems on nginx - detect installed webbrowser and create autostart file depending on it - The following browser can be detected: chromium-browser , google-chrome , google-chrome-stable , google-chrome-beta , firefox - skip Desktop related config if lxde is not installed - avoid Chrome/Chromium asking for password to unlock keyring - run apt upgrade instead apt dist-upgrade: Users might have come to rely on packages that were installed implicitly because of other (explicitly installed) packages' dependency on them. Thus the packaging system cannot be aware of a user/administrator desire to retain certain functionality that might otherwise be removed via dist-upgrade. - fix permission on hidden files and folder - seperate general and pi specific permissions - ignore filemode changes on git install - Check for internet connection (we can't install without an internet connection) - allow to run an update on git installation: - to update to latest development version please run sudo bash install-photobooth.sh --update If local changes are detected, the installer can try to apply those changes after the update was completed. If the changes can not be applied after update, your local changes will be kept inside a backup branch and can be applied manually again (you might need to resolve conflicts because of source changes). If local changes are detected, the installer will abort on silent install. You can re-run the update-process without the -s flag and confirm backing up your local changes for update. - mention to clear Browser Cache on Update - enable-usb-sync.sh - Disable reboot for silent mode (fixes Issue #450 ) - support other users (fixes Issue #423 ) - gphoto: - Added another way to control dslr cameras with cameracontrol.py #386 , #387 , #393 - Add a docker setup for local testing and development #397 - Remote buzzer: - Add simple GET endpoints to trigger photos / collages (to support WiFi hardware buttons) #400 - Rework option to use remotebuzzer server without GPIO and remove hidden faulty HID and softbutton implementation - UI: - sass(button): convert button size from px to em - sass(modern button): adjust font awesome icon size - Dark UI Style by @Moarqi - replace default background image - add clouds background images - Email: - hide checkbox to add email to database, adjust information text - debloat: - remove outdated update-booth.sh - Video preview: - minor change: don't display \"please wait\" text for interrupted collage when the selection is shown on screen #476 - Improve preview handling #6 - sass/css: - video preview: - simplify rules - adjust position and video handling - scripts(pack-build): - remove unavailable files - add missing node_modules dependencies - admin: - hide experimental updater, instead use the install-photobooth.sh to update - pass filename to post cmd #7 - Overhaul Photobooth logging #14 - more code-cleanup in various places 3.3.0 (16.01.2022) Breaking changes - If you are using an older version of Rasperry Pi OS or Debian / Debian based distribution make sure Node.js v12.22.x is installed! Check your Node.js version while running node -v from your terminal. - (config) Switch from milliseconds to seconds the image is visible on result screen Please adjust your configuration if you've changed the default setting on previous version. If you've not changed the default setting there's nothing to do. - vendor: phpqrcode as submodule - config: Webserver IP should not contain subfolder/subpages, IP should be detected if not defined. QR now needs it's own URL defined (see new Options). Bugfixes - standalone slideshow: fix auto refresh - hide inner navigation panel if thrill is triggered from result page - remotebuzzer: - fix hang of remotebuzzer server on error - bugfix for hardware button to trigger collage mode #351 (fixes Issue #300 ) - fix socket.io Server on Photobooth subfolder installation #364 (fixes Issue #360 ) - picture and mail database always need a name, add fallback to default if empty - configsetup: add event option to basic view (fixes Issue #320 ) - build: fix build failing on macOS (fixes Issue #318 ) - Fix Typo in admin.php while using a custom style #322 - Fix preview from gphoto as background if BSM is disabled (thanks to Uwe Pieper), note: This is not recommended for a Raspberry Pi as it requires faster hardware! New Options - remotebuzzer: - Allow to configure GPIO debouce delay through admin panel #294 - ui: add option to show / hide button bar on result screen - general: add config to use sample pictures instead taking a picture, dev-mode now only enables advanced logging for debugging purpose - add button for reboot and shutdown on linux - collage: - continuous collage: allow to disable single images being visible - allow to define collage background color #324 - add option to add all images from collage to gallery #307 (fixes Issue #269 ) - add cutting lines on 2x4 collage layouts - feature: allow sending a GET request at countdown and/or after processing #308 - text on {picture,collage,print}: use color picker - This gives the possibility to use any color instead choosing one out of three defined colors! #312 - QR: - Add close button to QR #316 (fixes Issue #315 ) - Own QR menu entry #325 : - Enable/Disable QR-Code - Allow to define a own URL used for the QR-Code - Add fallback to default setting if not defined - Decide whether to append the filename to defined URL - Allow to define a own help text visible below the QR-Code - optional retry to take a picture on error #366 General - Add welcome screen on first access #296 , add config to skip by default - Add experimental Photobooth Updater and dependencies checker #285 - install-raspbian.sh: - ask all questions before installing anything - allow silent installation ( sudo bash install-raspbian.sh WEBSERVER silent ) - don't delete INSTALLFOLDERPATH if exists, make a backup instead - inform about URL to access Photobooth - ask if remote access to CUPS should be enabled - install Node.js v12.22 if needed (for Debian buster compatibility) - update-booth.sh: - also copy hidden files and folder - adjust default chromium flags - build: add \"clean\" task - style: allow adjustments via private/overrides.css (automatically used if the file exist) - debugpanel: show latest git changes of installation - Add script to disable automount and add polkit rules for USB Sync (Only needed if you have declined the question to enable the USB sync file backup while running the install-raspbian.sh and like to use the USB Sync feature.): wget https://raw.githubusercontent.com/andi34/photobooth/dev/enable-usb-sync.sh sudo bash enable-usb-sync.sh disabled version checker on dev branch add tools.js with central access to common functions Adjust and optimize different API endpoints Updated build dependencies general jquery improvements (thanks to Uwe Pieper) retry getting preview via gphoto if failed (thanks to Uwe Pieper) retry taking a picture if failed (thanks to Uwe Pieper) crowdin: translation import config: try to dectect Webserver IP if not defined FAQ - adjust chromium flags - Raspberry Touchpanel DSI simultaneously with HDMI - How to administer CUPS remotely using the web interface? 3.2.1 Bugfixes - fix collage without filter/effect applied to single images Compare changes with v3.2.0 . 3.2.0 Security - api: don't show mail password and sensible login data #274 - api: Bugfix for server-side node scripts to correctly parse the config file - Temporary removed numbered image naming option to prevent overriding existing images. For details see Issue 291 . Bugfixes - sync-to-drive: bugfix for depreciated handling of type error - cannot read property of undefined - collage: Apply defined effect(s) and/or filter to the single images instead of the final collage (partially #290 ) - core: new timeout only if no activity in progress #273 , fixes Issue #272 New Options - countdown offset to compensate shutter-delay and cheese time #286 - Remote-buzzer: - allow to enable/disable rotary control for standalone gallery #261 - allow parallel use of buttons- and rotary control #262 General - Updated build dependencies - Collage: Always show image after taken #271 , partially #290 - Debug Panel #275 and better logging on issues while taking a picture #277 and post-processing (partially #290 ): Implements a panel for to help debugging in case of issues. Focus is to be able to access through the browser key configuration and log files on the server side. This feature is 1) for fast and efficient debugging iterations and 2) also well positioned to help people with less experience on the server administration and Unix / Raspberry Pi OS side of things. Access to the debug panel is available through the admin panel (switch to expert view) or via direct URL http://localhost/admin/debugpanel.php (or http://localhost/photobooth/admin/debugpanel.php ) ( - Removed unneeded file-type checks all around the Photobooth api (we check for jpeg images already inside the api/applyEffects.php) - result screen: smaller QR code & smaller font-size Compare changes with v3.1.0 . 3.1.0 Bugfixes - fix horizontal flip of preview on some browser - fix decore line config #257 - fix rotary button support for standalone gallery #253 - core: fix background from device cam - login: protect Live keying if index is protected via login - lang (en): fix delete request New Options - Pre- / Post- Command #232 : - execute a shell command before a picture is taken (pre-command) - execute a shell command after processing is is completed (post-command) - Add HTML capability to E-Mail text #231 - Hide home button on results screen #256 General - updated build dependencies - hidden adminshortcut: direct to login panel - login panel: - allow to access Live keying - add link to Telegram Community Compare changes with v3.0.0 . 3.0.0 A lot of changes have been applied to Photobooth! We're proud to tell that some bugs have been fixed and a lot of user wishes could be realized! We have added a lot of new options to make Photobooth adjustable for much more use cases. A big thanks goes to jacques42@GitHub (who was involved a lot for this Release) and everyone who helped on making Photobooth this powerfull! Photobooth UI has changed to a modern look on most pages and our Admin panel and configuration setup has changed completely (please read the following Changelog). Breaking changes - The configuration setup has changed completely on Photobooth v3 and some config options have been removed! Please note: Your old config (Photobooth v2.x and older) won't work, you must setup your configuration via adminpanel (or adminpanel ) again! Bugfixes - Chromakeying: - respect thumnail config - Delete: - fix removing deleted images from database - Translations: - fix translation fallback on all *.js files - E-Mail: - fix small bug for mail subject and text templates to be applied - Compatibility: - adjust default background URL setup to fix backgrounds on iOS (don't use relative path) - qr: also display correct url on subfolder installation Fix #204 New Options - Standalone gallery: - continous check for new pictures #121 - Collage: - allow to deactivate standalone picture Fix #155 - new collage layouts: 1+3, 1+3 (2), 1+2 & 2x2 (2) - remove use of background images, user should apply frames instead - test your collage settings accessing localhost/test/collage.php (or http://localhost/photobooth/test/collage.php ) - Chroma keying: - Allow to switch between MarvinJ and Seriously.js algorithm for chroma keying #123 - Seriously.js: use color picker to define keyed color, use Seriously.js by default #213 - allow to define background path used for chroma keying, place your own backgrounds inside a subfolder of your Photobooth, e.g. inside private/backgrounds and define it via admin panel - added \"live chroma keying\" (choose a background -> take a picture -> get the keyed image with choosen background), access via http://localhost/livechroma.php or http://localhost/photobooth/livechroma.php or use the config option to use it as default start page #157 - Make imagesize for chromakeying adjustable - S = max 1000px - M = max 1500px (default like before) - L = max 2000px - XL = max 2500px - Userinterface: - feature: Allow custom index, add new index layout by Mathias Fiege #159 - allow to hide decore lines on start screen Partially #165 - allow to hide title and subtitle on start screen Partially #165 - Backup: - Allow syncing of new pictures to USB device using rsync #158 - Preview: - Options \"See preview by device cam\" and \"Preview from URL\" have been replaced by a select menu - live preview from gphoto2 #131 - Athentication: - allow to protect FAQ and manual #212 - allow to access login-protected pages without login on localhost access - Database: - make database optional, add button to (re)generate database to admin panel #203 - Remotebuzzer: - Add rotary switch support #202 , #221 - What else: - allow delete of images without request #215 - allow to take pictures right after the countdown, \"Cheese\" will be skipped #129 - allow to flip image after taken #209 - allow to add text to picture and/or collage #210 General - User Interface: - Switch to modern styling by default - Adminpanel - new adminpanel design #162 - choose between Basic View , Advanced View and Expert View : - Basic View: Show config elements relevant for most simple and most common use-case. Default settings are largely sufficient. Maybe 20-30 % of all config options. The focus are entry-level user, who start to get their feet wet. - Advanced View: Features and elements used more often - i.e. Printing, Frames for Pictures, Chroma-Keying, etc. - maybe around 50% of all options on top. This should be sufficient for most of the users. - Expert View: Dev-Setting, Data folders, Commands, etc. - the remaining 20-30% of options are mapped to this view. Geeks right here. - Admin panel option to hide / show panel headings by Operating System - Allow to download data folder as zip from http://localhost/admin/diskusage.php (or http://localhost/photobooth/admin/diskusage.php ) ( - Installation: - Installation Instructions for Windows added to Wiki - install-raspbian.sh script: - Ask if a Raspberry Pi (HQ) camera is used, if yes setup personal config with needed changes - allow to install from all devices running debian/debian based OS #181 - Error handling: - api (applyEffects): check if GD library is loaded - check if frames and font are valid - Lanugage support: - Add Italian to supported languages - Collage: - Rotate collage images and final collage if needed (Fix #156 ) #63 - Allow to retake a single picture on collage with interruption (Fix #166 ) - Remotebuzzer #201 , #202 : - replace gpio by onoff library - Add additional button support for collage, print and shutdown - Code style: - Add prettier-php plugin (and slightly adjust prettier config for php files) to force one codestyle #124 - Robustness and improvements: - don't use relative paths for font, frames and background images - folders are always part of data folder (besides data folder itself and archives folder) - e.g. images folder config before: data/images now: images (this will also point to data/images ) - use 100% picture quality while processing images to not lower given configured jpeg quality for the final image - Authentication: - handle login check earlier to protect other api endpoints #205 2.10.0 Bugfixes - check if we're already printing to avoid double printing - deletePhoto: also delete keying and tmp pictures - add back fallback to english if translation is missing New Options - allow to use thumnails for download - Choose thumbnail size: - XS = max 360px - S = max 540px - M = max 900px - L = max 1080px - XL = max 1260px\" - Advanced printing functions #109 : - Auto print function - allow to delay auto print - allow to adjust time \"Started printing! Please wait...\" is visible - allow to trigger print via defined key - options to show the print button independent (e.g. can be only visible on gallery) - Advanced collage options #108 : - Choose collage layout: - 2x2 - 2x4 - 2x4 + background image - Collage: apply frame once after taking or to every picture of the collage General - reordered folder setup - Crowdin translation import - add Polish to supported languages 2.9.0 Bugfixes - fix saving images on chroma keying New Options - allow to adjust PhotoSwipe (Gallery) config via Adminpanel, also allow to use some PhotoSwipe functions and make more PhotoSwipe settings available (settings explained inside the manual): - Mouse click on image should close the gallery (enable/disable) - Close gallery if clicked outside of the image (enable/disable) - Close picture on page scroll (enable/disable) - Close gallery when dragging vertically and when image is not zoomed (enable/disable) - Show image counter (enable/disable) - Show PhotoSwipe fullscreen button (enable/disable) - Show PhotoSwipe zoom button (enable/disable) - PhotoSwipe history module (enable/disable) - Pinch to close gallery (enable/disable) - Toggle visibility of controls/buttons by tap (enable/disable) - allow to adjust PhotoSwipe background opacity (0-1) - Loop images (enable/disable) - Slide transition effect (enable/disable) - Swiping to change slides (enable/disable) - gallery: add button to delete an image, enable by default - Remote Buzzer Server based on io sockets - Enables a GPIO pin connected hardware button / buzzer for a setup where the display / screen is connected via WLAN / network to the photobooth webserver (e.g. iPad). General - check for supported mime types on API files (print, chromakeying, applyEffects, deletePhoto) - core/chromakeying: Handle print.php API errors - Standalone slideshow & Gallery: - only use pictures if they exist and if they are readable - only use thumbnails if thumbnail exist and is readable, fallback to full-sized images if not - gallery: update picture counter font-size - Crop on print: set image quality to 100% by default - added disk usage page, access via admin panel or at localhost/admin/diskusage.php ( or localhost/photobooth/admin/diskusage.php ). - Updated PhotoSwipe - added private/ to .gitignore, can be used e.g. to store own background images - install-raspbian.sh: - check if gvfs-gphoto2-volume-monitor exists - remove unneeded \"sudo\" on yarn installation - make sure webserver is defined - Add missing common \"nodejs\" package - allow to choose between stable and development version - update build dependencies to it's latest versions - Photobooth joined Crowdin as localization manager, join here to translate Photobooth Workflow - github: add pull request template - github: don't allow empty issues, emojis to issue template names 2.8.0 Bugfixes - fix install-raspbian.sh - add missing units for crop on print values (fixes Issue #91 ) - exit slideshow on close if running - takeCollage: fix button size on small screens General - simple-translator updated to v2.0.2 - updated PHPMailer to latest version Behind the scenes - Add GitHub contribution doc - run yarn eslint once changes to our JavaScripts get pushed to GitHub or if a Pullrequest contains changes on them - run gulp sass once changes to our SCSS files get pushed to GitHub or if a Pullrequest contains changes on them New build pipeline and improved JavaScript (special thanks to Andreas Remdt ) #90 added Prettier to have consistent formatting for both JavaScript & SCSS Support older browser (should fix Issue #47 ) javascript transpiled to es5 to support older browsers (e.g. Safari 9) use \"whatwg-fetch\" polyfill which should enable Safari 9 to use simple translator 2.7.2 Bugfixes - use htmlentities on input type configuration (allows to load config containing quotes) General changes - Handle -1 & 100% picture quality the same way Changed default config - 100% picture quality by default - Don't print QR Code by default - Allow collage by default - Use collage without interruption by default - Show date below pictures inside Gallery by default - Disable Chromakeying by default 2.7.1 Bugfixes - Fix taking photo collage General changes - simple-translator updated to v1.2.0 2.7.0 New options - Add option to use numbered image names - Allow to change picture permissons while taking a photo - usefully if you e.g. like to delete pictures as different user General changes - Add database name to picture name if database changed from default name - Show \"Photobooth Gallery\" if using date formatted images but no date available - Add rpihotspot repo as submodule: - FAQ contains instructions to turn Photobooth into a WIFI Hotspot Bugfixes - Fix \"Cheeeeese\" on Apple devices - Fix loading language resources - Only take Photos if we aren't already 2.6.1 Bugfixes - Fix video--sensor canvas - Update Style for 5inch Display (800x480px) - Attempt to fix taking Pictures and Collage via defined keys General changes - Add offline FAQ, access directly via http://localhost/manual/faq.html (or http://localhost/photobooth/manual/faq.html ) - Update jQuery to v3.5.1 2.6.0 New options - Automatically reload Photobooth if an error occurs while taking a photo/collage (enabled by default) Bugfixes - Fix FC on Standalone Gallery if a keycode is defined to take a photo/collage - Close gallery if a keycode is defined to take a photo/collage General changes - update PHPMailer to latest version 2.5.0 New options - buttons inside gallery on bottom (can be put back on top via admin panel) #66 - define SSID used for QR on result page via admin panel #70 Bugfixes - Fix Start Screen on devices with max-width @ 1024px #68 General changes - install-raspbian: install recommended via git (easier update of Photobooth) - mention personal fork additions inside README 2.4.0 New Options - offline manual with settings explained under localhost/manual (or http://localhost/photobooth/manual ) (https://github.com/andi34/photobooth/pull/59) - define collage frame seperately (https://github.com/andi34/photobooth/pull/63) - event specific database: You can now rename the picture and email database via Adminpanel. Only pictures inside the defined database are visible via gallery. (https://github.com/andi34/photobooth/pull/61) - Preview/Stream from device cam as background on start page (https://github.com/andi34/photobooth/pull/58) 2.3.3 Bugfixes - qr code: no need to define width for the text General changes - index: remove unused \"blurred\" class - Remove focus on \"New Picture\" and \"New Collage\" buttons - update-booth.sh: delete old files if exist - result screen: don't reload page after print 2.3.2 Bugfixes - chromakeying: add favicon, add apple meta tags New options - Allow to rotate preview from URL General changes - Bump jquery from 3.4.1 to 3.5.0 (fixes a security vulnerability) - .gitignore changes: - config folder: ignore everything but not \"config.inc.php\" - ignore the whole css folder instead defining every .css seperately - Down-sized QR code - adjust countdown and cheese colors for default blue-gray theme 2.3.1 Bugfixes - Fix loading language files if Photobooth is installed in a subfolder General changes - add license files for node modules on packed builds - Installer: Allow using latest prebuild package again 2.3.0 General changes - Switch to blue-gray color theme by default - Admin panel: switch to range config and use toggles instead checkboxes - Switch to simple-translator for translations, use english as fallback language if a translation is missing. This also gives the possibility to easily translate Photobooth. ( How to update or add translations? ) New Options - Show/Hide button to toggle fullscreen mode Bugfixes - Fix placeholder for preview from stream URL 2.2.1 New Options - Allow to rotate photo after taking - Allow using a stream from URL at countdown for preview General changes - Remove unused resources/fonts/style.css - language: use correkt ISO 639-1 Language Code for Greek - Optimize picture size on result screen 2.2.0 General changes - install-raspbian: use Apache2 webserver by default again - added Slideshow option to Gallery - standalone slideshow localhost/slideshow (or http://localhost/photobooth/slideshow ) - access login via localhost/login (or http://localhost/photobooth/login ) instead localhost/login.php - fix windows compatibility - fix check for image filter - performance improvement (https://github.com/andreknieriem/photobooth/pull/226) - Improved width of admin- and login-panel (partially https://github.com/andreknieriem/photobooth/pull/221) - general bug-fixes if device cam is used to take pictures (https://github.com/andreknieriem/photobooth/pull/220) New options - Option to disable the delete button (https://github.com/andreknieriem/photobooth/pull/228) - Option to keep original images in tmp folder - Configurable image preview while post-processing - Adjustable time a image is shown after capture - Optional EXIF data preservation (disabled by default) 2.1.0 Optimize performance: - separate trigger and post-process task - if possible use faster method to resize a picture Many new features and options added: - new options: - Make collage countdown timer adjustable - enable/disable real error messages - Allow setting a default filter - allow to disable filter - JPEG quality configurable - enable/disable download button in gallery - Allow defining a background via admin panel: This also gives the possibility to define a livestream URL (e.g. http://192.168.239.77:8081 if motion is used ) to use a livestream as background. - Allow admins to choose what gets deleted at reset (inspired by https://github.com/andreknieriem/photobooth/issues/178) - always: - delete db.txt - optional (but enabled by default): - delete images - delete \"mail-addresses.txt - delete personal config (my.config.inc.php) - Allow defining Photobooth web server IP to fix image download via QR-Code if Photobooth is accessed via localhost/127.0.0.1 - Allow choosing a frame at take pic - Frames and font adjustable - allow protection of admin panel and index with password - allow using device cam to take pictures (save origin (localhost/127.0.0.1 if accessed on server, else HTTPS) needed! - define Photobooth colors using colorpicker - allow more elements to change color - allow defining default font size - optional rounded edges style - admin panel style: - change weeding config to event config and add several new symbols to choose - own printer submenu - Added raspi reset script - allow to abort collage creation - improve installation script - make kiosk mode optional - don't delete /var/www/html without request - use NGINX by default, optional allow to install Apache or Lighttpd - fix printer permissions and install CUPS by default General changes: - README: update formatting and cleanup - Fix undefined placeholder warnings - take picture: red error messages - choose a filter after picture was taken instead before - Display collage count before taking photo - Handle take photo error cases 2.0.2: fix saving of chroma keying results, style for chroma keying, style of gallery caption, datetime string on images without date info 2.0.1: fix deletion of db file, fix config changes via admin settings 2.0.0: Overhaul: reorganized all source files, completely overhaul coding New features: gallery standalone (localhost/gallery.php), add button to delete the picture after it was taken and displayed on the screen, change style via admin panel, add trigger keys via config, add option to force the use of a buzzer, add option to enable CUPS button, add option to resize and crop image by center at print, use same printing settings/options for chromakeying as for normal prints, take pictures for collage one after the other with or without interruption, add version checker to admin page, add greek, add option to specify data folder Some more bugfixes and improvements as usually 1.9.0: Responsive Layout. Use relative paths to allow running Photobooth in a subfolder. Fix config.json being ignored on chromakeying. Adjustments on blue-gray theme. Some more small adjustments and bugfixes. 1.8.3: Adjust scrollbar config and add blue-gray scrollbar theme, allow using Pi Cam for preview and to take pictures, add hidden shortcut for admin settings, add polaroid effect, add print confirmation dialogue 1.8.2: Added spanish as supported language, print text on picture feature, optional blue-gray theme, adjust admin panel. Small bugfixes and improvements as always. 1.8.1: Small bugfixes and improvements. New Features: enable/disable printing QR-Code, enable/disable photo collage function, enable/disable printing a frame on your picture 1.8.0: Update jQuery, GSAP and PhotoSwipe to latest versions, add chroma keying feature (green screen keying) 1.7.0: Add possibillity to choose an image filter before taking a picture 1.6.3: Add config and instructions to use a GPIO Button to take a picture (address https://github.com/andreknieriem/photobooth/issues/10), translate sucess and error messages while sending images via mail 1.6.2: Add wedding specific config, fix gallery settings not being saved from admin panel 1.6.1: Add possibillity to disable mobile view, update Kiosk Mode instruction 1.6.0: Button to send image via mail (uses PHPMailer ), add use of \"my.config.inc.php\" for personal use to prevent sharing personal data (e.g. E-Mail password and username) on Github by accident 1.5.3: Several new options (disable gallery via config, set countdown timer via config, set cheeeese! Timer via config, ability to show the date/time in the caption of the images in the gallery), all config changes now available in admin page, complete french translation, add empty Gallery message, Fullscreen Mode on old iOS-Devices when starting photobooth from homescreen, StartScreen message is an option in config/admin page now, add instructions for Kiosk Mode, should fix #11, and #2, improve instructions in README, some more small Bugfixes and improvements. Merged pull-request #53 which includes updated pull-requests #52 & #54 1.5.2: Bugfixing QR-Code from gallery and live-preview position. Merged pull #45 1.5.1: Bugfixing 1.5.0: Added Options page under /admin. Bugfix for homebtn. Added option for device webcam preview on countdown 1.4.0: Merged several pull requests 1.3.2: Bugfix for QR Code on result page 1.3.1: Merged pull-request #6,#15 and #16 1.3.0: Option for QR and Print Butons, code rework, gulp-sass feature enabled 1.2.0: Printing feature, code rework, bugfixes 1.1.1: Bugix - QR not working on touch devices 1.1.0: Added QR Code to Gallery 1.0.0: Initial Release","title":"Changelog"},{"location":"changelog/#changelog","text":"","title":"Changelog"},{"location":"changelog/#upcoming-photobooth-release","text":"To use a preview of the upcoming Version you need to install the Install last development version using the install-photobooth.sh installer (now also works on all devices running debian / a debian based OS). Last development version is installed by default! You can check the commit history for changes made since your installation here . An updated FAQ can always be found at localhost/faq (or http://localhost/photobooth/faq ). Please read the license notice here .","title":"Upcoming Photobooth release"},{"location":"changelog/#4x-development","text":"Features Virtual keyboard for email (layouts/colors, toggle), multi-recipient email, and configurable email fields. Uploadable/optional private keying backgrounds; configurable rotation ranges; CollageLayoutEnum; adjustable collage video previews; collage color presets; auto-enable background/frame and preview toggles; placeholder limits. Tailwind CSS v4 migration and dependency bumps; Turkish language option; JPEG quality floor raised. Printing: copy prompt, new print-limit endpoint, longer print timeout, multi-print fixes, queued message timing, hardware button photo support, hardware keyboard for admin PIN, Remotebuzzer on chroma capture. Rembg as built-in service with advanced options, logging, compositing fixes, and install script. Theme management with categories/docs, custom CSS, git version indicator, clear-cache button, custom stage.start.php , optional result blur, gallery dimension caching, preview URL migration. Setup: whiptail-based Setup Wizard, PHP 8.4 requirement, install_rembg improvements, USB sync hardening, installer self-update tweaks. QR-Code short text option on result screen and gallery for better understanding, configurable in admin settings. Introduced a new Screensaver feature with image/video/folder/gallery modes, configurable start timeout and slide interval. Added a font configuration section for UI texts so fonts/colors can be set centrally ( fixes #986 ) Configurable fixed size for gallery detail images and add toogle to use thumbs in gallery for better loading times Bug fixes Selfie rename robustness; chroma preview visibility; loader clearing; hide video background during capture. Installer fixes: PHP PPA validation, permissions/source lists/Wayland flag, unavailable PPA removal, software-properties-common fallback. Printing: copy casting and deprecations, rotate error surfacing, stop-second timing, iOS preview fixes, admin tooltip/label fixes, default path corrections. Rembg typing/logging/error handling; collage/theme path fixes; preview caching; safer uploads/video background handling; collage defaults tightening. Docs/link cleanups and various deprecation warnings addressed.","title":"4.x development"},{"location":"changelog/#451-17092024","text":"General sass: fix deprecated build warning by @andi34 in https://github.com/PhotoboothProject/photobooth/pull/863 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.5.0...v4.5.1","title":"4.5.1 (17.09.2024)"},{"location":"changelog/#450-17092024","text":"This release keeps the stable Photobooth v4 compatible with latest Photobooth installer and allows automated tests via GitHub actions. General update script locations Update build dependencies Move welcome page to http://localhost/welcome (or http://localhost/photobooth/welcome) for automated testing of installation script Add workflow for automated release on push to v* tags Use own fork of Onoff library Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.4.1...v4.5.0","title":"4.5.0 (17.09.2024)"},{"location":"changelog/#441-19022024","text":"General task: /boot/config.txt is not an symlink anymore by @andi34 in https://github.com/PhotoboothProject/photobooth/pull/618 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.4.0...v4.4.1","title":"4.4.1 (19.02.2024)"},{"location":"changelog/#440-09012024","text":"Breaking changes requires Node.js v18.17.0 or newer requires npm 9.6.7 or newer General api: get rid of deleteTmpPhoto cameracontrol.py: don't fail capturing images using Sony Cameras result screen: reload after all files have been deleted core: simplify print message handling core: define tempImageUrl if and where needed core: improve logging api (takePic): only log return value issues on loglevel > 1 core/gallery: central QR modal handling config: move preview bsm to commands section preview: remove arrow functions config(cleanup): remove unused success messages api(previewCamera): use play or stop string instead true and false preview: combine api.startWebcam and api.stopPreviewVideo functions preview: adjust logging preview: fix preview TEST mode preview: fix checking for frame config test(preview): fix preview with cmd core(print): remove unneeded delay optimized keyboard trigger Remove fake buttons to trigger actions, use global functions instead core: simplify check to.clear timeout core: blur picture / collage buttons as needed core: we already blur printBtn after print livechroma: add notification via modal message on trigger via keyCode livechroma: adjust keyCode trigger handling core: adjust keyCode trigger handling logging: adjust some console log messages core: remove unneded focusSet on QR btn click config: remove collage only config, allow to enable/disable picture instead configsetup: define remotebuzzer server port first lib(applyText): remove unneeded if-else statements lib(applyText): add error handling, return unmodified resource on error lib(applyText): throw Exception if text can't be applied lib(applyFrame): add error handling, return unmodified resource on error lib(applyFrame): throw Exceptions if needed lib(polaroid): return unmodified resource on error lib(polaroid): throw exceptions if needed lib(resize): add try-catch-block to rotateResizeImage function lib(resize): throw exceptions on rotateResizeImage if needed lib(resize): add try-catch-block to resizeImage function lib(resize): throw exceptions where needed on resizeImage lib(resize): validate dimensions lib(resize): add try-catch-block to resizePngImage function lib(resize): validate dimensions on resizePngImage function lib(resize): throw exceptions where needed on resizePngImage function lib(resize): add try-catch-block to resizeCropImage function lib(resize): validate dimensions on resizeCropImage function lib(resize): try to clear cache on error lib(resize): adjust check if resize was possible lib (collage): only test file if needed js(tools): add print image function to reuse gulp: updated with ECMAScript Modules (ESM) syntax task: bind docker do port 80 and 443 task: bump node version to v18 LTS and drop yarn task: only limit node and npm version by minimum versions package: switch to marked to formatt faq remotebuzzer server: log earlier remotebuzzer-server: update sanity check, only check if needed remotebuzzer-server: allow GPIO to be any number Bugfix fix: start shutter animation independent of cheese image cameracontrol.py: don't fail capturing images using Sony Cameras core: fix Test value for CameraDisplayMode test preview: fix Test value for CameraDisplayMode UI UI: use highlight color for hover gallery: respect button and font color Prettier display delete status ui: adjust modal transparency and font-weight core: use own div for general different modal messages delete: adjust delete notification messages style: use secondary color for backgrounds where needed task: fix colors while processing images ui(gallery): only show 3 images in a row on mobile phones core: fix delete on collage with interruption Check if images array is empty Standalone Gallerie: add missing js file core(fix): init PhotoSwipe after remoteBuzzer api (takePic): only abort if file was not created preview: respect offset to hide preview preview: respect offset to hide preview from URL slideshow: clear timeout to prevent from running timeout multiple times remotebuzzer server: Determine whether or not GPIO access is possible remotebuzzer server: fix checking for gpio config welcome: use index.php instead of detected URL api (admin): don't reset log on preview config error core(preview): remove preview mode check if image is captured from preview core: check for preview stream instead use of demo images core(preview): stop preview on countdown slightly earlier remotebuzzer server: fix for Node.js v16 submodules: ignore dirty state core: hide result screen on reset remotebuzzer client: fix log Revert \"stabilized rotary encoder handling\" remotebuzzer client: handle QR in gallery remotebuzzer client: close qr modals directly if needed added explicit int conversion gallery: Collage only config was removed sync-to-drive: fix for Node.js v16 Sync more Filetypes lib(config): adjust print command for Windows api (previewCamera): $config is not available, remove logging for now remotebuzzer: respect config also on get request trigger remotebuzzer: don't trigger a different action if disabled remotebuzzer client: check if taking pictures is enabled trigger.php: add missing options, respect hardware button config lib (db): fix for PHP 8 api(admin): check if fonts, frames and collage placeholder are valid core: clear/reset timeout on keyup lib (image): fix applying text to images, fail if text CAN NOT be applied lib(image): don't keep aspect ratio while resizing PNG bugfix: supprress error messages on getimagesize function api(admin): image filter depends on images in tmp folder fix hiding/showing home button independent of button bar on result screen index (frame): respect preview frame config core: don't add images to gallery if gallery is disabled core: print & qr code only if enabled bugfix: update dockerfile add missing python3 lib(resize): fix rotating images on PHP8 Feature config: make time adjustable a notification is visible preview: allow to delay the visibility of the preview from URL preview: allow execution of start/stop cmd without validation config: run preview CMD's without validation by default preview: run preview cmd & stop cmd independent of preview mode remotebuzzer: make print and rotary functions available via get request remotebuzzer: Reboot Button remotebuzzer: make shutdown and reboot available via get request task: enable lazy loading for gallery images FAQ FAQ: add note to fix broken v4l2loopback module FAQ: add notes about issues while taking a picture faq: a username is needed while running enable-usb-sync.sh Updated FAQ - how to upload pictures to remote server FAQ: preview bsm was moved FAQ: no need for success message FAQ: add instructions to update gphoto2 & libgphoto FAQ: adjust PiCamera information FAQ: Add possible preview error because of secure boot FAQ: adjust GPIO setup for PiOS Bookworm FAQ: adjust GPIO information for Raspberry Pi 5; adjust for Pi OS versions Install install: adjust PolKit rule naming install-photobooth: allow to add PolKit rule on all linux distros install-photobooth: PolKit rule doesn't depend on update install-photobooth: make system update optional on photobooth update install-photobooth: fix permissions on yarn folder install-photobooth: easy access to private folder install-photobooth: always ignore filemode changes on git install-photobooth: allow Node.js minor version to match or be newer install-photobooth: be flexible on Node.js version install: yarn: use of apt-key is deprecated install-photobooth: use PHP 8.2 by default install-photobooth: PHP8 sources needed earlier install-photobooth: add https://packages.sury.org/php/ only if distro is supported install: also run apt autoremove while removing nodejs install: switch to latest development version of Gphoto2 install: fix PHP8 install in Ubuntu 20 install-photobooth: improve/fix PHP8 install on Ubuntu install-photobooth: fix missing sources.lst on Ubuntu 22.04 install-photobooth: install npm on Raspberry Pi bugfix: correct installer install: add ppa for PHP on all Debian based distributions install: run commands as www-data user install: install needed packages for gphoto2 webcam service only if needed install: use wget to check internet connection install: update nodejs install install: suppress most progress infos, only display essential output install: fix permissions for www-data user on install install: check for npm on all devices install: remove npm from packages, uninstall libnode72 if installed install: update npm to latest install: fix Download of node-install (Raspberry Pi) install: also check NODEJS_MINOR version install: always install nodejs from official node source install: only fail on Node.js below v18, recheck version if update is skipped install: proof npm version, abort if needed install: fix checking npm version install: check for Firefox browser first install: also check for firefox-esr install-photobooth: remove autostart and hide mouse installer: remove leftover from removed questions/features install-photobooth: don't compile gphoto2 and libgphoto2 install: check if /boot/config.txt is a symlink install-photobooth: adjust Update for www-data user install-photobooth: install npm 9.6.7 if needed Full Changelog : https://github.com/PhotoboothProject/photobooth/compare/v4.3.1...v4.4.0","title":"4.4.0 (09.01.2024)"},{"location":"changelog/#431-06122022","text":"Bugfixes core: improve timings while taking an image by @andi34 in #95 Adjust the code to start taking an image before the Cheeeeeese message disappears (the Cheese-Message can be used to \"hide\" the delay we have until the camera triggers). Also adjust the code to respect the defined offset while taking an image. The take picture action now runs independent of the visible running countdown. Stop the shutter animation after 500ms which should look more fluid and also make sure we can't forget to stop it. If cheese is enabled cheese time will be used instead. Don't run shutter animation twice if an cheese image is used and cheese enabled. General build(deps): bump sass from 1.55.0 to 1.56.1 by @dependabot in #93 build(deps-dev): bump @babel/preset-env from 7.19.4 to 7.20.2 by @dependabot in #94 build(deps-dev): bump eslint from 8.26.0 to 8.28.0 by @dependabot in #92 build(deps): bump socket.io from 4.5.3 to 4.5.4 by @dependabot in #90 build(deps-dev): bump @prettier/plugin-php from 0.19.1 to 0.19.2 by @dependabot in #91 Full Changelog https://github.com/PhotoboothProject/photobooth/compare/v4.3.0...v4.3.1","title":"4.3.1 (06.12.2022)"},{"location":"changelog/#430-29112022","text":"Bugfixes FAQ: fix small typo by @modularTaco in #68 fix(documentation): remove reference to dev mode by @modularTaco in #71 fix(gallery): respect clickToCloseNonZoomable PhotoSwipe config by @andi34 in #72 fix(gallery): fix click on close button while an image is opened by @andi34 in #73 install-photobooth: also check for \"chromium\" package by @andi34 in #86 New Options New options for the QR Code on print by @fmiccolis in #65 Feature: make icons adjustable by @andi34 in #74 Show frame over the preview by @fmiccolis in #45 feature: add simple trigger ( http://localhost/trigger.php or http://localhost/photobooth/trigger.php ) for remotebuzzer server by @andi34 in #66 General allow collage background images to be in any filetype gd understands by @up-87 in #63 core(navbar): restructure navbar function by @andi34 in #64 Restructure preview handling, add testpage for preview settings ( http://localhost/test/preview.php or http://localhost/photobooth/test/preview.php ) by @andi34 in #61 make collage handling more configurable, fix collages and the retry mechanism by @up-87 in #69 cleanup: remove experimental updater & dependencies checker by @andi34 in #84 cleanup: api, also improve random image naming by @andi34 in #87 crowdin: translation import by @andi34 in #88 New Contributors @fmiccolis made their first contribution in #65 @modularTaco made their first contribution in #68 Full Changelog : https://github.com/PhotoboothProject/photobooth/compare/v4.2.0...v4.3.0","title":"4.3.0 (29.11.2022)"},{"location":"changelog/#420-16102022","text":"Bugfixes fix(admin): show 3rd line text of text on * in advanced view by @andi34 in #52 (fix) Stop shutter on fail, respect retry settings on fail by @andi34 in #54 api(takePic): fix flipping image taken from device cam preview, fix Issue 55 by @andi34 in #57 core(api.initializeMedia): retry every second by @andi34 in #56 tools(api.getRequest): don't use JSON.parse while getting a response install-photobooth: iputils-ping is needed to check Internet connection install-photobooth: fix placing Install log inside Photobooth folder General build(deps): bump sass from 1.54.8 to 1.55.0 by @dependabot in #47 build(deps-dev): bump eslint from 8.23.0 to 8.24.0 by @dependabot in #48 build(deps-dev): bump @babel/preset-env from 7.18.10 to 7.19.3 by @dependabot in #49 build(deps-dev): bump @prettier/plugin-php from 0.18.9 to 0.19.1 by @dependabot in #50 build(deps-dev): bump @babel/core from 7.18.13 to 7.19.3 by @dependabot in #51 crowdin: translation import by @andi34 in #58 vendor(PHPMailer): update to v6.6.5 by @andi34 in #59 core(preview): remove unneeded checks on preview handling Full Changelog: https://github.com/PhotoboothProject/photobooth/compare/v4.1.0...v4.2.0","title":"4.2.0 (16.10.2022)"},{"location":"changelog/#410-30092022","text":"Bugfixes fix(UI): don't run shutter animation twice by @andi34 in #32 fix(ui): add version tag to own stylesheets by @andi34 in #33 fix(ui): add version tag to own javascripts by @andi34 in #36 fix(admin): don't remove images from archives and private folder by @andi34 in #42 fix(admin): respect changed config before executing an reset by @andi34 in #43 New Options feature(collage): add background to collage for easier template creation. closes Issue #28 by @up-87 in #31 feature(debugpanel): add access to installation log by @andi34 in #37 feature(ui): allow to define language resource path, also fix path for javascript folders on subfolder installation by @andi34 in #38 feature(preview): allow to rotate all preview options by @andi34 in #44 rework(preview): remove gphoto preview option by @andi34 in #46 General lib(configsetup): make more settings available on basic view by @andi34 in #35 api(debug): log information from admin.php on config changes and reset by @andi34 in #41 crowdin: translation import by @andi34 in #39 Full Changelog: https://github.com/PhotoboothProject/photobooth/compare/v4.0.0...v4.1.0","title":"4.1.0 (30.09.2022)"},{"location":"changelog/#400-10092022","text":"Source code moved to https://github.com/PhotoboothProject/photobooth , old Releases etc. will still be available at https://github.com/andi34/photobooth Security - Security advice added to the README and welcome page #376 - PHPMailer: update to v6.6.4 Breaking changes QR code is now printed onto the image instead on the right side to not break the image ratio, new options have been added for best user experience (see New Options for details) Remove Greek, Polish and Spanish from Language options because they aren't maintained ( further information ) Collage: layout's changed slightly (positions and image size now get calculated depending on defined dpi). Existing frames might not fit anymore and need to be updated. vendor: remove rpihotspot from repo (it's still available on github, but we don't need it as a direct dependencie for Photobooth) Bugfixes - chromium: fix white screen of death on first start in kiosk mode (Raspberry Pi only) - livechroma: fix text formatting on error/retry - api(takePic): - fix error message, take picture command can be anything - check if picture exists: If a picture exists already, rename it before using the same filename for a new picture. This might fix an issue on collage where a retaken image isn't saved / used and should also prevent overriding an existing image by accident. - fix print with QR Code - Video preview #448 , #476 : - Fix gphoto preview on retry / next collage image. - fix taking pictures from gphoto preview #24 ( Note: Gphoto won't be used, it's more like taking a screenshot of the Preview. Since Gphoto won't be used there's no flash light of the camera!) - hide video preview in background of interrupted collage - fixed possible DSLR preview stop time bug - fixed bug: preview['flip'] was saved but not reloaded. So if the correct setting should be retained it needed to be set every time. - fixed bug: in the background of the continuos collage image preview the gphoto2 preview (without bsm) continued to run visibly - Improve preview handling #6 - core: - respect retry timeout: The timeout should not be a new countdown, it should be a timeout as it's name says. Retry notification will now be visible for defined time. Countdown for picture/next collage image is not touched and will be used as defined. - fix get request at countdown - handle errors on get requests #15 - welcome.php: use detected URL to start Photobooth - FAQ: fix command to execute setup-network.sh for hotspot - frame/font: again allow to be located outside of photobooth source - config(print): add fallback to defaults if print font/frame is not defined - collage: - Continue collage with keypress #408 - prevent caching of collage images with unique image name #425 - use collage countdown timer on first collage image #22 - installation script: - fix permissions on www-data users cachefolder and .yarnrc if exists - fix and improve use of lighttpd and nginx #477 - install curl (and raspberrypi-kernel-headers for PiOS) early enough to be used - stabilized rotary encoder handling #449 - email: - fix wrong button text if \"Store email addresses in file\" is enabled #462 (fixes Issue #461 ) - stop spinning loader icon once the email has been sent (fixes Issue #453 ) - language: - fix mixed up german translation for pre- and post-photo command (fixes Issue #451 ) - PHP8: - fix Deprecated Passing null to parameter error - fix Implicit conversion from float (number) to int loses precision New Options - Add traslate button to Adminpanel, opens Photobooth project on Crowdin - UI: - Shutter animation, enabled by default #368 - add config to define highlight color used on round buttons (modern style) - make UI and button style independent #442 - add modern squared design by @Moarqi #440 - QR #371 : - Error correction level adjustable - Gallery: - Add config option to enable/disable the figure caption in the gallery view #398 - Add config option to enable/disable action button footer (photo, collage) - Collage: - added simple 2+1 style that is to be used with a frame that fills the open space #424 - Added an option to set a placeholder (eg custom image / graphic) for one image of the collage #424 - simple customizable collage config with a json file #26 - Preview: - config: allow to adjust the time to stop the gphoto preview - choose to flip the preview along the X or Y axis #465 , fixup #476 - specify how the preview should be resized to fit: This setting uses the css object-fit property which is used to specify how the preview should be resized to fit. The following options are available: - fill - The image is resized to fill the given dimension. If necessary, the image will be stretched or squished to fit. - contain - The image keeps its aspect ratio, but is resized to fit within the given dimension. - cover - The image keeps its aspect ratio and fills the given dimension. The image will be clipped to fit. - none - The image is not resized. - scale-down - the image is scaled down to the smallest version of none or contain. - allow to set background-size to cover on URL preview - Print: - Always print the QR onto the image instead in the right side (see Breaking Changes ) - QR size adjustable - QR offset adjustable - QR position adjustable - allow to disable rotation before print - Countdown: - allow using a customizable image instead of cheese message if shutter animation is used #4 - Post picture command: - Passes the Filename (doesn't include the full path!) to the post-cmd . This can be used e.g. to manipulate the Image (e.g. with Imagemagick) after the Picture was taken. General - restore windows compatibility #23 - Import latest Crowdin translations - Cleanup core.js #369 : - remove unneeded if checks - improve readability - Let's start the picture process from beginning on retry. Also start all previews like defined at countdown. - Centralized preview start/stop functions, this helps getting a better overview of the code. - log error messages to console from api.errorPic - optimize error messages - time configurations moved to constants - move more ID selector to constants - Collage: - Collage code cleanup (can most likely still be improved by using php classes but this should be okay) - rename some collage styles (2+2 instead of 2x2 as x now always indicates pictures are reused - old name still works) #424 - Collage Images will be dynamically scaled based on a given resolution (eg 300dpi etc) #424 - configsetup: - add <input type=\"number\"> and use where possible to avoid issues on input - install script: - install-raspbian: rename to install-photobooth.sh, photobooth works fine on debian and other debian based distributions - pass options to the script (run sudo bash install-photobooth.sh -h to see all options) - ask to install Gutenprint drivers - make sure a new question is recognized - always mention the setup choice - adjust warning messages - fix git installation message - install latest development version via git by default (latest stable3 version can be passed to the installer via option) - prevent double entry in autostart while re-running the installer - allow to install gphoto2 Webcam Service - create installation log inside /tmp/photobooth - always install latest stable gphoto2 - adjust package array handling - Add new parameter to setup the php version #477 - Webserver #477 : - Apply PHP Version for nginx and lighttpd - Fix (improve) nginx / lighttpd service startup - Fix client_max_body_size problems on nginx - detect installed webbrowser and create autostart file depending on it - The following browser can be detected: chromium-browser , google-chrome , google-chrome-stable , google-chrome-beta , firefox - skip Desktop related config if lxde is not installed - avoid Chrome/Chromium asking for password to unlock keyring - run apt upgrade instead apt dist-upgrade: Users might have come to rely on packages that were installed implicitly because of other (explicitly installed) packages' dependency on them. Thus the packaging system cannot be aware of a user/administrator desire to retain certain functionality that might otherwise be removed via dist-upgrade. - fix permission on hidden files and folder - seperate general and pi specific permissions - ignore filemode changes on git install - Check for internet connection (we can't install without an internet connection) - allow to run an update on git installation: - to update to latest development version please run sudo bash install-photobooth.sh --update If local changes are detected, the installer can try to apply those changes after the update was completed. If the changes can not be applied after update, your local changes will be kept inside a backup branch and can be applied manually again (you might need to resolve conflicts because of source changes). If local changes are detected, the installer will abort on silent install. You can re-run the update-process without the -s flag and confirm backing up your local changes for update. - mention to clear Browser Cache on Update - enable-usb-sync.sh - Disable reboot for silent mode (fixes Issue #450 ) - support other users (fixes Issue #423 ) - gphoto: - Added another way to control dslr cameras with cameracontrol.py #386 , #387 , #393 - Add a docker setup for local testing and development #397 - Remote buzzer: - Add simple GET endpoints to trigger photos / collages (to support WiFi hardware buttons) #400 - Rework option to use remotebuzzer server without GPIO and remove hidden faulty HID and softbutton implementation - UI: - sass(button): convert button size from px to em - sass(modern button): adjust font awesome icon size - Dark UI Style by @Moarqi - replace default background image - add clouds background images - Email: - hide checkbox to add email to database, adjust information text - debloat: - remove outdated update-booth.sh - Video preview: - minor change: don't display \"please wait\" text for interrupted collage when the selection is shown on screen #476 - Improve preview handling #6 - sass/css: - video preview: - simplify rules - adjust position and video handling - scripts(pack-build): - remove unavailable files - add missing node_modules dependencies - admin: - hide experimental updater, instead use the install-photobooth.sh to update - pass filename to post cmd #7 - Overhaul Photobooth logging #14 - more code-cleanup in various places","title":"4.0.0 (10.09.2022)"},{"location":"changelog/#330-16012022","text":"Breaking changes - If you are using an older version of Rasperry Pi OS or Debian / Debian based distribution make sure Node.js v12.22.x is installed! Check your Node.js version while running node -v from your terminal. - (config) Switch from milliseconds to seconds the image is visible on result screen Please adjust your configuration if you've changed the default setting on previous version. If you've not changed the default setting there's nothing to do. - vendor: phpqrcode as submodule - config: Webserver IP should not contain subfolder/subpages, IP should be detected if not defined. QR now needs it's own URL defined (see new Options). Bugfixes - standalone slideshow: fix auto refresh - hide inner navigation panel if thrill is triggered from result page - remotebuzzer: - fix hang of remotebuzzer server on error - bugfix for hardware button to trigger collage mode #351 (fixes Issue #300 ) - fix socket.io Server on Photobooth subfolder installation #364 (fixes Issue #360 ) - picture and mail database always need a name, add fallback to default if empty - configsetup: add event option to basic view (fixes Issue #320 ) - build: fix build failing on macOS (fixes Issue #318 ) - Fix Typo in admin.php while using a custom style #322 - Fix preview from gphoto as background if BSM is disabled (thanks to Uwe Pieper), note: This is not recommended for a Raspberry Pi as it requires faster hardware! New Options - remotebuzzer: - Allow to configure GPIO debouce delay through admin panel #294 - ui: add option to show / hide button bar on result screen - general: add config to use sample pictures instead taking a picture, dev-mode now only enables advanced logging for debugging purpose - add button for reboot and shutdown on linux - collage: - continuous collage: allow to disable single images being visible - allow to define collage background color #324 - add option to add all images from collage to gallery #307 (fixes Issue #269 ) - add cutting lines on 2x4 collage layouts - feature: allow sending a GET request at countdown and/or after processing #308 - text on {picture,collage,print}: use color picker - This gives the possibility to use any color instead choosing one out of three defined colors! #312 - QR: - Add close button to QR #316 (fixes Issue #315 ) - Own QR menu entry #325 : - Enable/Disable QR-Code - Allow to define a own URL used for the QR-Code - Add fallback to default setting if not defined - Decide whether to append the filename to defined URL - Allow to define a own help text visible below the QR-Code - optional retry to take a picture on error #366 General - Add welcome screen on first access #296 , add config to skip by default - Add experimental Photobooth Updater and dependencies checker #285 - install-raspbian.sh: - ask all questions before installing anything - allow silent installation ( sudo bash install-raspbian.sh WEBSERVER silent ) - don't delete INSTALLFOLDERPATH if exists, make a backup instead - inform about URL to access Photobooth - ask if remote access to CUPS should be enabled - install Node.js v12.22 if needed (for Debian buster compatibility) - update-booth.sh: - also copy hidden files and folder - adjust default chromium flags - build: add \"clean\" task - style: allow adjustments via private/overrides.css (automatically used if the file exist) - debugpanel: show latest git changes of installation - Add script to disable automount and add polkit rules for USB Sync (Only needed if you have declined the question to enable the USB sync file backup while running the install-raspbian.sh and like to use the USB Sync feature.): wget https://raw.githubusercontent.com/andi34/photobooth/dev/enable-usb-sync.sh sudo bash enable-usb-sync.sh disabled version checker on dev branch add tools.js with central access to common functions Adjust and optimize different API endpoints Updated build dependencies general jquery improvements (thanks to Uwe Pieper) retry getting preview via gphoto if failed (thanks to Uwe Pieper) retry taking a picture if failed (thanks to Uwe Pieper) crowdin: translation import config: try to dectect Webserver IP if not defined FAQ - adjust chromium flags - Raspberry Touchpanel DSI simultaneously with HDMI - How to administer CUPS remotely using the web interface?","title":"3.3.0 (16.01.2022)"},{"location":"changelog/#321","text":"Bugfixes - fix collage without filter/effect applied to single images Compare changes with v3.2.0 .","title":"3.2.1"},{"location":"changelog/#320","text":"Security - api: don't show mail password and sensible login data #274 - api: Bugfix for server-side node scripts to correctly parse the config file - Temporary removed numbered image naming option to prevent overriding existing images. For details see Issue 291 . Bugfixes - sync-to-drive: bugfix for depreciated handling of type error - cannot read property of undefined - collage: Apply defined effect(s) and/or filter to the single images instead of the final collage (partially #290 ) - core: new timeout only if no activity in progress #273 , fixes Issue #272 New Options - countdown offset to compensate shutter-delay and cheese time #286 - Remote-buzzer: - allow to enable/disable rotary control for standalone gallery #261 - allow parallel use of buttons- and rotary control #262 General - Updated build dependencies - Collage: Always show image after taken #271 , partially #290 - Debug Panel #275 and better logging on issues while taking a picture #277 and post-processing (partially #290 ): Implements a panel for to help debugging in case of issues. Focus is to be able to access through the browser key configuration and log files on the server side. This feature is 1) for fast and efficient debugging iterations and 2) also well positioned to help people with less experience on the server administration and Unix / Raspberry Pi OS side of things. Access to the debug panel is available through the admin panel (switch to expert view) or via direct URL http://localhost/admin/debugpanel.php (or http://localhost/photobooth/admin/debugpanel.php ) ( - Removed unneeded file-type checks all around the Photobooth api (we check for jpeg images already inside the api/applyEffects.php) - result screen: smaller QR code & smaller font-size Compare changes with v3.1.0 .","title":"3.2.0"},{"location":"changelog/#310","text":"Bugfixes - fix horizontal flip of preview on some browser - fix decore line config #257 - fix rotary button support for standalone gallery #253 - core: fix background from device cam - login: protect Live keying if index is protected via login - lang (en): fix delete request New Options - Pre- / Post- Command #232 : - execute a shell command before a picture is taken (pre-command) - execute a shell command after processing is is completed (post-command) - Add HTML capability to E-Mail text #231 - Hide home button on results screen #256 General - updated build dependencies - hidden adminshortcut: direct to login panel - login panel: - allow to access Live keying - add link to Telegram Community Compare changes with v3.0.0 .","title":"3.1.0"},{"location":"changelog/#300","text":"A lot of changes have been applied to Photobooth! We're proud to tell that some bugs have been fixed and a lot of user wishes could be realized! We have added a lot of new options to make Photobooth adjustable for much more use cases. A big thanks goes to jacques42@GitHub (who was involved a lot for this Release) and everyone who helped on making Photobooth this powerfull! Photobooth UI has changed to a modern look on most pages and our Admin panel and configuration setup has changed completely (please read the following Changelog). Breaking changes - The configuration setup has changed completely on Photobooth v3 and some config options have been removed! Please note: Your old config (Photobooth v2.x and older) won't work, you must setup your configuration via adminpanel (or adminpanel ) again! Bugfixes - Chromakeying: - respect thumnail config - Delete: - fix removing deleted images from database - Translations: - fix translation fallback on all *.js files - E-Mail: - fix small bug for mail subject and text templates to be applied - Compatibility: - adjust default background URL setup to fix backgrounds on iOS (don't use relative path) - qr: also display correct url on subfolder installation Fix #204 New Options - Standalone gallery: - continous check for new pictures #121 - Collage: - allow to deactivate standalone picture Fix #155 - new collage layouts: 1+3, 1+3 (2), 1+2 & 2x2 (2) - remove use of background images, user should apply frames instead - test your collage settings accessing localhost/test/collage.php (or http://localhost/photobooth/test/collage.php ) - Chroma keying: - Allow to switch between MarvinJ and Seriously.js algorithm for chroma keying #123 - Seriously.js: use color picker to define keyed color, use Seriously.js by default #213 - allow to define background path used for chroma keying, place your own backgrounds inside a subfolder of your Photobooth, e.g. inside private/backgrounds and define it via admin panel - added \"live chroma keying\" (choose a background -> take a picture -> get the keyed image with choosen background), access via http://localhost/livechroma.php or http://localhost/photobooth/livechroma.php or use the config option to use it as default start page #157 - Make imagesize for chromakeying adjustable - S = max 1000px - M = max 1500px (default like before) - L = max 2000px - XL = max 2500px - Userinterface: - feature: Allow custom index, add new index layout by Mathias Fiege #159 - allow to hide decore lines on start screen Partially #165 - allow to hide title and subtitle on start screen Partially #165 - Backup: - Allow syncing of new pictures to USB device using rsync #158 - Preview: - Options \"See preview by device cam\" and \"Preview from URL\" have been replaced by a select menu - live preview from gphoto2 #131 - Athentication: - allow to protect FAQ and manual #212 - allow to access login-protected pages without login on localhost access - Database: - make database optional, add button to (re)generate database to admin panel #203 - Remotebuzzer: - Add rotary switch support #202 , #221 - What else: - allow delete of images without request #215 - allow to take pictures right after the countdown, \"Cheese\" will be skipped #129 - allow to flip image after taken #209 - allow to add text to picture and/or collage #210 General - User Interface: - Switch to modern styling by default - Adminpanel - new adminpanel design #162 - choose between Basic View , Advanced View and Expert View : - Basic View: Show config elements relevant for most simple and most common use-case. Default settings are largely sufficient. Maybe 20-30 % of all config options. The focus are entry-level user, who start to get their feet wet. - Advanced View: Features and elements used more often - i.e. Printing, Frames for Pictures, Chroma-Keying, etc. - maybe around 50% of all options on top. This should be sufficient for most of the users. - Expert View: Dev-Setting, Data folders, Commands, etc. - the remaining 20-30% of options are mapped to this view. Geeks right here. - Admin panel option to hide / show panel headings by Operating System - Allow to download data folder as zip from http://localhost/admin/diskusage.php (or http://localhost/photobooth/admin/diskusage.php ) ( - Installation: - Installation Instructions for Windows added to Wiki - install-raspbian.sh script: - Ask if a Raspberry Pi (HQ) camera is used, if yes setup personal config with needed changes - allow to install from all devices running debian/debian based OS #181 - Error handling: - api (applyEffects): check if GD library is loaded - check if frames and font are valid - Lanugage support: - Add Italian to supported languages - Collage: - Rotate collage images and final collage if needed (Fix #156 ) #63 - Allow to retake a single picture on collage with interruption (Fix #166 ) - Remotebuzzer #201 , #202 : - replace gpio by onoff library - Add additional button support for collage, print and shutdown - Code style: - Add prettier-php plugin (and slightly adjust prettier config for php files) to force one codestyle #124 - Robustness and improvements: - don't use relative paths for font, frames and background images - folders are always part of data folder (besides data folder itself and archives folder) - e.g. images folder config before: data/images now: images (this will also point to data/images ) - use 100% picture quality while processing images to not lower given configured jpeg quality for the final image - Authentication: - handle login check earlier to protect other api endpoints #205","title":"3.0.0"},{"location":"changelog/#2100","text":"Bugfixes - check if we're already printing to avoid double printing - deletePhoto: also delete keying and tmp pictures - add back fallback to english if translation is missing New Options - allow to use thumnails for download - Choose thumbnail size: - XS = max 360px - S = max 540px - M = max 900px - L = max 1080px - XL = max 1260px\" - Advanced printing functions #109 : - Auto print function - allow to delay auto print - allow to adjust time \"Started printing! Please wait...\" is visible - allow to trigger print via defined key - options to show the print button independent (e.g. can be only visible on gallery) - Advanced collage options #108 : - Choose collage layout: - 2x2 - 2x4 - 2x4 + background image - Collage: apply frame once after taking or to every picture of the collage General - reordered folder setup - Crowdin translation import - add Polish to supported languages","title":"2.10.0"},{"location":"changelog/#290","text":"Bugfixes - fix saving images on chroma keying New Options - allow to adjust PhotoSwipe (Gallery) config via Adminpanel, also allow to use some PhotoSwipe functions and make more PhotoSwipe settings available (settings explained inside the manual): - Mouse click on image should close the gallery (enable/disable) - Close gallery if clicked outside of the image (enable/disable) - Close picture on page scroll (enable/disable) - Close gallery when dragging vertically and when image is not zoomed (enable/disable) - Show image counter (enable/disable) - Show PhotoSwipe fullscreen button (enable/disable) - Show PhotoSwipe zoom button (enable/disable) - PhotoSwipe history module (enable/disable) - Pinch to close gallery (enable/disable) - Toggle visibility of controls/buttons by tap (enable/disable) - allow to adjust PhotoSwipe background opacity (0-1) - Loop images (enable/disable) - Slide transition effect (enable/disable) - Swiping to change slides (enable/disable) - gallery: add button to delete an image, enable by default - Remote Buzzer Server based on io sockets - Enables a GPIO pin connected hardware button / buzzer for a setup where the display / screen is connected via WLAN / network to the photobooth webserver (e.g. iPad). General - check for supported mime types on API files (print, chromakeying, applyEffects, deletePhoto) - core/chromakeying: Handle print.php API errors - Standalone slideshow & Gallery: - only use pictures if they exist and if they are readable - only use thumbnails if thumbnail exist and is readable, fallback to full-sized images if not - gallery: update picture counter font-size - Crop on print: set image quality to 100% by default - added disk usage page, access via admin panel or at localhost/admin/diskusage.php ( or localhost/photobooth/admin/diskusage.php ). - Updated PhotoSwipe - added private/ to .gitignore, can be used e.g. to store own background images - install-raspbian.sh: - check if gvfs-gphoto2-volume-monitor exists - remove unneeded \"sudo\" on yarn installation - make sure webserver is defined - Add missing common \"nodejs\" package - allow to choose between stable and development version - update build dependencies to it's latest versions - Photobooth joined Crowdin as localization manager, join here to translate Photobooth Workflow - github: add pull request template - github: don't allow empty issues, emojis to issue template names","title":"2.9.0"},{"location":"changelog/#280","text":"Bugfixes - fix install-raspbian.sh - add missing units for crop on print values (fixes Issue #91 ) - exit slideshow on close if running - takeCollage: fix button size on small screens General - simple-translator updated to v2.0.2 - updated PHPMailer to latest version Behind the scenes - Add GitHub contribution doc - run yarn eslint once changes to our JavaScripts get pushed to GitHub or if a Pullrequest contains changes on them - run gulp sass once changes to our SCSS files get pushed to GitHub or if a Pullrequest contains changes on them New build pipeline and improved JavaScript (special thanks to Andreas Remdt ) #90 added Prettier to have consistent formatting for both JavaScript & SCSS Support older browser (should fix Issue #47 ) javascript transpiled to es5 to support older browsers (e.g. Safari 9) use \"whatwg-fetch\" polyfill which should enable Safari 9 to use simple translator","title":"2.8.0"},{"location":"changelog/#272","text":"Bugfixes - use htmlentities on input type configuration (allows to load config containing quotes) General changes - Handle -1 & 100% picture quality the same way Changed default config - 100% picture quality by default - Don't print QR Code by default - Allow collage by default - Use collage without interruption by default - Show date below pictures inside Gallery by default - Disable Chromakeying by default","title":"2.7.2"},{"location":"changelog/#271","text":"Bugfixes - Fix taking photo collage General changes - simple-translator updated to v1.2.0","title":"2.7.1"},{"location":"changelog/#270","text":"New options - Add option to use numbered image names - Allow to change picture permissons while taking a photo - usefully if you e.g. like to delete pictures as different user General changes - Add database name to picture name if database changed from default name - Show \"Photobooth Gallery\" if using date formatted images but no date available - Add rpihotspot repo as submodule: - FAQ contains instructions to turn Photobooth into a WIFI Hotspot Bugfixes - Fix \"Cheeeeese\" on Apple devices - Fix loading language resources - Only take Photos if we aren't already","title":"2.7.0"},{"location":"changelog/#261","text":"Bugfixes - Fix video--sensor canvas - Update Style for 5inch Display (800x480px) - Attempt to fix taking Pictures and Collage via defined keys General changes - Add offline FAQ, access directly via http://localhost/manual/faq.html (or http://localhost/photobooth/manual/faq.html ) - Update jQuery to v3.5.1","title":"2.6.1"},{"location":"changelog/#260","text":"New options - Automatically reload Photobooth if an error occurs while taking a photo/collage (enabled by default) Bugfixes - Fix FC on Standalone Gallery if a keycode is defined to take a photo/collage - Close gallery if a keycode is defined to take a photo/collage General changes - update PHPMailer to latest version","title":"2.6.0"},{"location":"changelog/#250","text":"New options - buttons inside gallery on bottom (can be put back on top via admin panel) #66 - define SSID used for QR on result page via admin panel #70 Bugfixes - Fix Start Screen on devices with max-width @ 1024px #68 General changes - install-raspbian: install recommended via git (easier update of Photobooth) - mention personal fork additions inside README","title":"2.5.0"},{"location":"changelog/#240","text":"New Options - offline manual with settings explained under localhost/manual (or http://localhost/photobooth/manual ) (https://github.com/andi34/photobooth/pull/59) - define collage frame seperately (https://github.com/andi34/photobooth/pull/63) - event specific database: You can now rename the picture and email database via Adminpanel. Only pictures inside the defined database are visible via gallery. (https://github.com/andi34/photobooth/pull/61) - Preview/Stream from device cam as background on start page (https://github.com/andi34/photobooth/pull/58)","title":"2.4.0"},{"location":"changelog/#233","text":"Bugfixes - qr code: no need to define width for the text General changes - index: remove unused \"blurred\" class - Remove focus on \"New Picture\" and \"New Collage\" buttons - update-booth.sh: delete old files if exist - result screen: don't reload page after print","title":"2.3.3"},{"location":"changelog/#232","text":"Bugfixes - chromakeying: add favicon, add apple meta tags New options - Allow to rotate preview from URL General changes - Bump jquery from 3.4.1 to 3.5.0 (fixes a security vulnerability) - .gitignore changes: - config folder: ignore everything but not \"config.inc.php\" - ignore the whole css folder instead defining every .css seperately - Down-sized QR code - adjust countdown and cheese colors for default blue-gray theme","title":"2.3.2"},{"location":"changelog/#231","text":"Bugfixes - Fix loading language files if Photobooth is installed in a subfolder General changes - add license files for node modules on packed builds - Installer: Allow using latest prebuild package again","title":"2.3.1"},{"location":"changelog/#230","text":"General changes - Switch to blue-gray color theme by default - Admin panel: switch to range config and use toggles instead checkboxes - Switch to simple-translator for translations, use english as fallback language if a translation is missing. This also gives the possibility to easily translate Photobooth. ( How to update or add translations? ) New Options - Show/Hide button to toggle fullscreen mode Bugfixes - Fix placeholder for preview from stream URL","title":"2.3.0"},{"location":"changelog/#221","text":"New Options - Allow to rotate photo after taking - Allow using a stream from URL at countdown for preview General changes - Remove unused resources/fonts/style.css - language: use correkt ISO 639-1 Language Code for Greek - Optimize picture size on result screen","title":"2.2.1"},{"location":"changelog/#220","text":"General changes - install-raspbian: use Apache2 webserver by default again - added Slideshow option to Gallery - standalone slideshow localhost/slideshow (or http://localhost/photobooth/slideshow ) - access login via localhost/login (or http://localhost/photobooth/login ) instead localhost/login.php - fix windows compatibility - fix check for image filter - performance improvement (https://github.com/andreknieriem/photobooth/pull/226) - Improved width of admin- and login-panel (partially https://github.com/andreknieriem/photobooth/pull/221) - general bug-fixes if device cam is used to take pictures (https://github.com/andreknieriem/photobooth/pull/220) New options - Option to disable the delete button (https://github.com/andreknieriem/photobooth/pull/228) - Option to keep original images in tmp folder - Configurable image preview while post-processing - Adjustable time a image is shown after capture - Optional EXIF data preservation (disabled by default)","title":"2.2.0"},{"location":"changelog/#210","text":"Optimize performance: - separate trigger and post-process task - if possible use faster method to resize a picture Many new features and options added: - new options: - Make collage countdown timer adjustable - enable/disable real error messages - Allow setting a default filter - allow to disable filter - JPEG quality configurable - enable/disable download button in gallery - Allow defining a background via admin panel: This also gives the possibility to define a livestream URL (e.g. http://192.168.239.77:8081 if motion is used ) to use a livestream as background. - Allow admins to choose what gets deleted at reset (inspired by https://github.com/andreknieriem/photobooth/issues/178) - always: - delete db.txt - optional (but enabled by default): - delete images - delete \"mail-addresses.txt - delete personal config (my.config.inc.php) - Allow defining Photobooth web server IP to fix image download via QR-Code if Photobooth is accessed via localhost/127.0.0.1 - Allow choosing a frame at take pic - Frames and font adjustable - allow protection of admin panel and index with password - allow using device cam to take pictures (save origin (localhost/127.0.0.1 if accessed on server, else HTTPS) needed! - define Photobooth colors using colorpicker - allow more elements to change color - allow defining default font size - optional rounded edges style - admin panel style: - change weeding config to event config and add several new symbols to choose - own printer submenu - Added raspi reset script - allow to abort collage creation - improve installation script - make kiosk mode optional - don't delete /var/www/html without request - use NGINX by default, optional allow to install Apache or Lighttpd - fix printer permissions and install CUPS by default General changes: - README: update formatting and cleanup - Fix undefined placeholder warnings - take picture: red error messages - choose a filter after picture was taken instead before - Display collage count before taking photo - Handle take photo error cases","title":"2.1.0"},{"location":"changelog/#202","text":"fix saving of chroma keying results, style for chroma keying, style of gallery caption, datetime string on images without date info","title":"2.0.2:"},{"location":"changelog/#201","text":"fix deletion of db file, fix config changes via admin settings","title":"2.0.1:"},{"location":"changelog/#200","text":"Overhaul: reorganized all source files, completely overhaul coding New features: gallery standalone (localhost/gallery.php), add button to delete the picture after it was taken and displayed on the screen, change style via admin panel, add trigger keys via config, add option to force the use of a buzzer, add option to enable CUPS button, add option to resize and crop image by center at print, use same printing settings/options for chromakeying as for normal prints, take pictures for collage one after the other with or without interruption, add version checker to admin page, add greek, add option to specify data folder Some more bugfixes and improvements as usually","title":"2.0.0:"},{"location":"changelog/#190","text":"Responsive Layout. Use relative paths to allow running Photobooth in a subfolder. Fix config.json being ignored on chromakeying. Adjustments on blue-gray theme. Some more small adjustments and bugfixes.","title":"1.9.0:"},{"location":"changelog/#183","text":"Adjust scrollbar config and add blue-gray scrollbar theme, allow using Pi Cam for preview and to take pictures, add hidden shortcut for admin settings, add polaroid effect, add print confirmation dialogue","title":"1.8.3:"},{"location":"changelog/#182","text":"Added spanish as supported language, print text on picture feature, optional blue-gray theme, adjust admin panel. Small bugfixes and improvements as always.","title":"1.8.2:"},{"location":"changelog/#181","text":"Small bugfixes and improvements. New Features: enable/disable printing QR-Code, enable/disable photo collage function, enable/disable printing a frame on your picture","title":"1.8.1:"},{"location":"changelog/#180","text":"Update jQuery, GSAP and PhotoSwipe to latest versions, add chroma keying feature (green screen keying)","title":"1.8.0:"},{"location":"changelog/#170","text":"Add possibillity to choose an image filter before taking a picture","title":"1.7.0:"},{"location":"changelog/#163","text":"Add config and instructions to use a GPIO Button to take a picture (address https://github.com/andreknieriem/photobooth/issues/10), translate sucess and error messages while sending images via mail","title":"1.6.3:"},{"location":"changelog/#162","text":"Add wedding specific config, fix gallery settings not being saved from admin panel","title":"1.6.2:"},{"location":"changelog/#161","text":"Add possibillity to disable mobile view, update Kiosk Mode instruction","title":"1.6.1:"},{"location":"changelog/#160","text":"Button to send image via mail (uses PHPMailer ), add use of \"my.config.inc.php\" for personal use to prevent sharing personal data (e.g. E-Mail password and username) on Github by accident","title":"1.6.0:"},{"location":"changelog/#153","text":"Several new options (disable gallery via config, set countdown timer via config, set cheeeese! Timer via config, ability to show the date/time in the caption of the images in the gallery), all config changes now available in admin page, complete french translation, add empty Gallery message, Fullscreen Mode on old iOS-Devices when starting photobooth from homescreen, StartScreen message is an option in config/admin page now, add instructions for Kiosk Mode, should fix #11, and #2, improve instructions in README, some more small Bugfixes and improvements. Merged pull-request #53 which includes updated pull-requests #52 & #54","title":"1.5.3:"},{"location":"changelog/#152","text":"Bugfixing QR-Code from gallery and live-preview position. Merged pull #45","title":"1.5.2:"},{"location":"changelog/#151","text":"Bugfixing","title":"1.5.1:"},{"location":"changelog/#150","text":"Added Options page under /admin. Bugfix for homebtn. Added option for device webcam preview on countdown","title":"1.5.0:"},{"location":"changelog/#140","text":"Merged several pull requests","title":"1.4.0:"},{"location":"changelog/#132","text":"Bugfix for QR Code on result page","title":"1.3.2:"},{"location":"changelog/#131","text":"Merged pull-request #6,#15 and #16","title":"1.3.1:"},{"location":"changelog/#130","text":"Option for QR and Print Butons, code rework, gulp-sass feature enabled","title":"1.3.0:"},{"location":"changelog/#120","text":"Printing feature, code rework, bugfixes","title":"1.2.0:"},{"location":"changelog/#111","text":"Bugix - QR not working on touch devices","title":"1.1.1:"},{"location":"changelog/#110","text":"Added QR Code to Gallery","title":"1.1.0:"},{"location":"changelog/#100","text":"Initial Release","title":"1.0.0:"},{"location":"code_of_conduct/","text":"Contributor Covenant Code of Conduct Our Pledge We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation. We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community. Our Standards Examples of behavior that contributes to a positive environment for our community include: Demonstrating empathy and kindness toward other people Being respectful of differing opinions, viewpoints, and experiences Giving and gracefully accepting constructive feedback Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience Focusing on what is best not just for us as individuals, but for the overall community Examples of unacceptable behavior include: The use of sexualized language or imagery, and sexual attention or advances of any kind Trolling, insulting or derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or email address, without their explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting Enforcement Responsibilities Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful. Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate. Scope This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event. Enforcement Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at our Telegram community via private message to our administrators. All complaints will be reviewed and investigated promptly and fairly. All community leaders are obligated to respect the privacy and security of the reporter of any incident. Enforcement Guidelines Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct: 1. Correction Community Impact : Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community. Consequence : A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested. 2. Warning Community Impact : A violation through a single incident or series of actions. Consequence : A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban. 3. Temporary Ban Community Impact : A serious violation of community standards, including sustained inappropriate behavior. Consequence : A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban. 4. Permanent Ban Community Impact : Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals. Consequence : A permanent ban from any sort of public interaction within the community. Attribution This Code of Conduct is adapted from the Contributor Covenant , version 2.1, available at https://www.contributor-covenant.org/version/2/1/code_of_conduct.html . Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder . For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq . Translations are available at https://www.contributor-covenant.org/translations .","title":"Contributor Covenant Code of Conduct"},{"location":"code_of_conduct/#contributor-covenant-code-of-conduct","text":"","title":"Contributor Covenant Code of Conduct"},{"location":"code_of_conduct/#our-pledge","text":"We as members, contributors, and leaders pledge to make participation in our community a harassment-free experience for everyone, regardless of age, body size, visible or invisible disability, ethnicity, sex characteristics, gender identity and expression, level of experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, or sexual identity and orientation. We pledge to act and interact in ways that contribute to an open, welcoming, diverse, inclusive, and healthy community.","title":"Our Pledge"},{"location":"code_of_conduct/#our-standards","text":"Examples of behavior that contributes to a positive environment for our community include: Demonstrating empathy and kindness toward other people Being respectful of differing opinions, viewpoints, and experiences Giving and gracefully accepting constructive feedback Accepting responsibility and apologizing to those affected by our mistakes, and learning from the experience Focusing on what is best not just for us as individuals, but for the overall community Examples of unacceptable behavior include: The use of sexualized language or imagery, and sexual attention or advances of any kind Trolling, insulting or derogatory comments, and personal or political attacks Public or private harassment Publishing others' private information, such as a physical or email address, without their explicit permission Other conduct which could reasonably be considered inappropriate in a professional setting","title":"Our Standards"},{"location":"code_of_conduct/#enforcement-responsibilities","text":"Community leaders are responsible for clarifying and enforcing our standards of acceptable behavior and will take appropriate and fair corrective action in response to any behavior that they deem inappropriate, threatening, offensive, or harmful. Community leaders have the right and responsibility to remove, edit, or reject comments, commits, code, wiki edits, issues, and other contributions that are not aligned to this Code of Conduct, and will communicate reasons for moderation decisions when appropriate.","title":"Enforcement Responsibilities"},{"location":"code_of_conduct/#scope","text":"This Code of Conduct applies within all community spaces, and also applies when an individual is officially representing the community in public spaces. Examples of representing our community include using an official e-mail address, posting via an official social media account, or acting as an appointed representative at an online or offline event.","title":"Scope"},{"location":"code_of_conduct/#enforcement","text":"Instances of abusive, harassing, or otherwise unacceptable behavior may be reported to the community leaders responsible for enforcement at our Telegram community via private message to our administrators. All complaints will be reviewed and investigated promptly and fairly. All community leaders are obligated to respect the privacy and security of the reporter of any incident.","title":"Enforcement"},{"location":"code_of_conduct/#enforcement-guidelines","text":"Community leaders will follow these Community Impact Guidelines in determining the consequences for any action they deem in violation of this Code of Conduct:","title":"Enforcement Guidelines"},{"location":"code_of_conduct/#1-correction","text":"Community Impact : Use of inappropriate language or other behavior deemed unprofessional or unwelcome in the community. Consequence : A private, written warning from community leaders, providing clarity around the nature of the violation and an explanation of why the behavior was inappropriate. A public apology may be requested.","title":"1. Correction"},{"location":"code_of_conduct/#2-warning","text":"Community Impact : A violation through a single incident or series of actions. Consequence : A warning with consequences for continued behavior. No interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, for a specified period of time. This includes avoiding interactions in community spaces as well as external channels like social media. Violating these terms may lead to a temporary or permanent ban.","title":"2. Warning"},{"location":"code_of_conduct/#3-temporary-ban","text":"Community Impact : A serious violation of community standards, including sustained inappropriate behavior. Consequence : A temporary ban from any sort of interaction or public communication with the community for a specified period of time. No public or private interaction with the people involved, including unsolicited interaction with those enforcing the Code of Conduct, is allowed during this period. Violating these terms may lead to a permanent ban.","title":"3. Temporary Ban"},{"location":"code_of_conduct/#4-permanent-ban","text":"Community Impact : Demonstrating a pattern of violation of community standards, including sustained inappropriate behavior, harassment of an individual, or aggression toward or disparagement of classes of individuals. Consequence : A permanent ban from any sort of public interaction within the community.","title":"4. Permanent Ban"},{"location":"code_of_conduct/#attribution","text":"This Code of Conduct is adapted from the Contributor Covenant , version 2.1, available at https://www.contributor-covenant.org/version/2/1/code_of_conduct.html . Community Impact Guidelines were inspired by Mozilla's code of conduct enforcement ladder . For answers to common questions about this code of conduct, see the FAQ at https://www.contributor-covenant.org/faq . Translations are available at https://www.contributor-covenant.org/translations .","title":"Attribution"},{"location":"contributing-docs/","text":"Contribute to the documentation Help improve the Photobooth docs by following these steps. 1) Fork and clone Fork the repository on GitHub, then clone your fork. Work from the dev branch for documentation changes. 2) Set up a docs environment Create and activate a virtual environment: python3 -m venv .venv source .venv/bin/activate Install MkDocs and the theme: pip install mkdocs mkdocs-material 3) Run the docs locally From the repo root, build the docs and start the preview server: mkdocs build --config-file mkdocs_remote.yml mkdocs serve -f mkdocs_remote.yml Open the URL shown in the terminal (typically http://127.0.0.1:8000 ) to review your changes live. 4) Edit guidelines Don't commit changes to the faq/ directory directly; it's generated from the docs/ source files during the build step. Your local build files are stored inside site/ and not tracked by git. Keep text concise and practical; prefer short paragraphs and bullet lists. Use relative links to other docs pages (e.g. faq/index.md ), and ensure new pages are added to mkdocs_remote.yml . Place new images in docs/assets/ and reference them with relative paths. Stick to ASCII unless an existing page already uses extended characters. Check for build warnings (missing nav entries, broken links) before opening a PR. 5) Open a pull request Commit your changes to a feature branch on your fork. Open a PR against PhotoboothProject/photobooth targeting the dev branch. Include a brief summary of what you changed and how you tested the docs (e.g. mkdocs serve build output).","title":"Contribute to the docs"},{"location":"contributing-docs/#contribute-to-the-documentation","text":"Help improve the Photobooth docs by following these steps.","title":"Contribute to the documentation"},{"location":"contributing-docs/#1-fork-and-clone","text":"Fork the repository on GitHub, then clone your fork. Work from the dev branch for documentation changes.","title":"1) Fork and clone"},{"location":"contributing-docs/#2-set-up-a-docs-environment","text":"Create and activate a virtual environment: python3 -m venv .venv source .venv/bin/activate Install MkDocs and the theme: pip install mkdocs mkdocs-material","title":"2) Set up a docs environment"},{"location":"contributing-docs/#3-run-the-docs-locally","text":"From the repo root, build the docs and start the preview server: mkdocs build --config-file mkdocs_remote.yml mkdocs serve -f mkdocs_remote.yml Open the URL shown in the terminal (typically http://127.0.0.1:8000 ) to review your changes live.","title":"3) Run the docs locally"},{"location":"contributing-docs/#4-edit-guidelines","text":"Don't commit changes to the faq/ directory directly; it's generated from the docs/ source files during the build step. Your local build files are stored inside site/ and not tracked by git. Keep text concise and practical; prefer short paragraphs and bullet lists. Use relative links to other docs pages (e.g. faq/index.md ), and ensure new pages are added to mkdocs_remote.yml . Place new images in docs/assets/ and reference them with relative paths. Stick to ASCII unless an existing page already uses extended characters. Check for build warnings (missing nav entries, broken links) before opening a PR.","title":"4) Edit guidelines"},{"location":"contributing-docs/#5-open-a-pull-request","text":"Commit your changes to a feature branch on your fork. Open a PR against PhotoboothProject/photobooth targeting the dev branch. Include a brief summary of what you changed and how you tested the docs (e.g. mkdocs serve build output).","title":"5) Open a pull request"},{"location":"contributing/","text":"Contributing Thanks for being willing to contribute! Is this your first time contributing to a different project? You might be interested in learning more about the workflow in this free course . Project setup Fork and clone the repo Run npm install to install all dependencies To install all needed submodules git submodule update --init Create a branch for your PR with git checkout -b pr/your-branch-name If you want to build the project, run npm run build . Tip: Keep your dev branch pointing at the original repository and make pull requests from branches on your fork. To do this, run: git remote add upstream https://github.com/PhotoboothProject/photobooth.git git fetch upstream git branch --set-upstream-to=upstream/dev dev This will add the original repository as a \"remote\" called \"upstream,\" Then fetch the git information from that remote, then set your local dev branch to use the upstream master branch whenever you run git pull . Then you can make all of your pull request branches based on this dev branch. Whenever you want to update your version of dev , do a regular git pull . Committing and pushing changes Please make sure to run npm run build , npm run eslint and npm run composer:cgl before you commit your changes. Running npm run eslint:fix might be able to fix general issues on *.js files for you. General Notes Contribute to the documentation changes to the css-files need to be done inside assets/sass/ changes to the js-files need to be done inside assets/js/ translation need to be done on Crowdin Help needed Please checkout the open issues . Also, please watch the repo and respond to questions / bug reports / feature requests. Thanks!","title":"Contribute to Photobooth"},{"location":"contributing/#contributing","text":"Thanks for being willing to contribute! Is this your first time contributing to a different project? You might be interested in learning more about the workflow in this free course .","title":"Contributing"},{"location":"contributing/#project-setup","text":"Fork and clone the repo Run npm install to install all dependencies To install all needed submodules git submodule update --init Create a branch for your PR with git checkout -b pr/your-branch-name If you want to build the project, run npm run build . Tip: Keep your dev branch pointing at the original repository and make pull requests from branches on your fork. To do this, run: git remote add upstream https://github.com/PhotoboothProject/photobooth.git git fetch upstream git branch --set-upstream-to=upstream/dev dev This will add the original repository as a \"remote\" called \"upstream,\" Then fetch the git information from that remote, then set your local dev branch to use the upstream master branch whenever you run git pull . Then you can make all of your pull request branches based on this dev branch. Whenever you want to update your version of dev , do a regular git pull .","title":"Project setup"},{"location":"contributing/#committing-and-pushing-changes","text":"Please make sure to run npm run build , npm run eslint and npm run composer:cgl before you commit your changes. Running npm run eslint:fix might be able to fix general issues on *.js files for you. General Notes Contribute to the documentation changes to the css-files need to be done inside assets/sass/ changes to the js-files need to be done inside assets/js/ translation need to be done on Crowdin","title":"Committing and pushing changes"},{"location":"contributing/#help-needed","text":"Please checkout the open issues . Also, please watch the repo and respond to questions / bug reports / feature requests. Thanks!","title":"Help needed"},{"location":"donation/","text":"Donation If you like our work and consider a donation, we have to tell you that we don't accept any money. We're happy about every contribution to this project and strive to make it better every day. Just get in touch with us on Telegram to say thank you or help us find ways to improve. If you still want to donate money to make us happy: consider a donation to the seal station Norddeich ( donate via Paypal ) or to the DKMS ( donate via Paypal ) to provide blood cancer patients with a second chance at life. Thanks for reading!","title":"Donation"},{"location":"donation/#donation","text":"If you like our work and consider a donation, we have to tell you that we don't accept any money. We're happy about every contribution to this project and strive to make it better every day. Just get in touch with us on Telegram to say thank you or help us find ways to improve. If you still want to donate money to make us happy: consider a donation to the seal station Norddeich ( donate via Paypal ) or to the DKMS ( donate via Paypal ) to provide blood cancer patients with a second chance at life. Thanks for reading!","title":"Donation"},{"location":"news/","text":"News Updates, announcements and release notes from the Photobooth team. December 2025 2025 was a big year\u2014more polish, smarter tools, and plenty of community-driven wins. We folded in long-requested features, hardened the setup path, and smoothed rough edges across capture, printing, and theming so the booth feels faster and friendlier. Here\u2019s what landed. Custom collage refresh \u2014 Simplified, customizable collage flow with a new 2+1 layout, per-slot placeholders, and clearer guidance so layouts can be built without hand-editing JSON. Documentation cleanup \u2014 Streamlined navigation, refreshed guides, and general restructuring for easier browsing and search. New Setup Wizard \u2014 The whiptail-based wizard now logs stdout/stderr, avoids screen flashing, and guides kiosk/autostart and permission setup with saner defaults. Background magic \u2014 Native rembg integration with advanced controls, logging, safer installation, and improved compositing. Look & feel \u2014 Theme management (with documentation), custom CSS, collage color presets, virtual keyboard layouts and colors, Git version indicator, clearer admin hints, and uploadable keying backgrounds. Collages & media \u2014 New layout enum, rotation range control, video preview sizing, safer placeholders, automatic background/frame toggles, preview caching, gallery dimension caching, optional result blur, iOS preview fixes, and custom stage.start.php support. Printing & sharing \u2014 Copy prompts and print-limit endpoint, longer timeouts, multi-print fixes, queued message timing improvements, multi-recipient email with virtual keyboard support, higher minimum JPEG quality, configurable email fields, and Turkish language support. Hardware & inputs \u2014 Hardware photo button support, improved USB HID hardware-button handling, hardware keyboard for admin PIN entry, remote buzzer on chroma, support for all input types, IP whitelisting, and refreshed keypad interactions. Setup & reliability \u2014 Tailwind v4 and PHP 8.4 upgrades, more robust install_rembg , hardened USB sync, resettable box info, safer uploads and video backgrounds, cached IP/host resolution, tighter collage defaults, and smoother installer updates. Bug fixes \u2014 More resilient selfie and chroma previews, loader cleanup, proper hiding of video backgrounds during capture, validated PHP PPAs/flags/permissions, fixed multi-print casting and deprecations, explicit rotate errors, stronger rembg typing/logging/error handling, corrected stop-second timing, fixed collage/theme paths and placeholder limits, iOS preview fixes, admin tooltip/label and default path corrections, and extensive documentation/link cleanups. and many doc/link cleanups. Thank you for all the contributions, testing, and thoughtful feedback that shaped these releases. Keep sharing what you build and what you need\u2014we\u2019ll keep pushing Photobooth forward. See you in 2026! December 2024 Hey together! This year almost comes to an end. I am glad to see the community is growing every day and I am proud about the support and help from everyone! It's kind of special and unique seeing user helping each other like done in our community! I am happy about all the contributions made to the project - especially Benjamin Kott helped a lot reworking and improving the source of Photobooth! With the improved source and code quality Photobooth runs always stable on latest development version! There's still work left before Photobooth v5 can be released as a stable release, due to changes in private life I haven't had the time needed for it. Photobooth stays feature complete for this year in latest development source, only dependencies updates will be applied. I hope everyone can enjoy the Christmas days and have a good start into the new year 2025! Best regards Andi 17 September 2024 Photobooth v4.5.1 has been released. The release keeps Photobooth v4 compatible with latest Photobooth installer and allows automated installation tests via GitHub actions. Besides that only dependencies have been updated to latest version. The changed Onoff library should be able to handle the changed GPIO sysfs on latest PiOS kernel. We're still working on rewriting the Photobooth source for the upcoming v5 release - there's still some work left before the new version can be released. The current development version runs nicely and stable for most user! We are always happy about feedback and helping hands! New feature have been added already and the UI got an overhaul in a lot of places. Like always: The full Changelog can be found here . If you're running latest development version already: there's no need to install Photobooth v4.5! Your Photobooth-Team 09 January 2024 It's been a while, but here's some news outside of our Community on Telegram. Actually the source code of Photobooth is rewritten in almost all sections of Photobooth and there's still some work left before Photobooth v5 can be released. Photobooth v4.4.0 was released! This release is meant as bugfix-release to fix some known bugs, retain Windows compatibility and to keep compatibility with the changed install steps on latest development version. A few new features have made it inside this release, but more to come with the upcoming Photobooth v5! And don't worry! The current development version runs nicely and stable for most user! We are always happy about feedback and helping hands! Like always: The full Changelog can be found here . Your Photobooth-Team 24 December 2022 Hey everyone! Photobooth again was improved a lot this year and a lot of user wishes have been added to the project. Thanks to everyone for being part of this community, your feedback and your help to make Photobooth such a great OpenSource Project! We hope you have a safe and relaxing christmas time! Your Photobooth-Team 06 December 2022 Photobooth v4.3.1 released! Build dependencies have been updated and the process of taking an image was improved to optimize the timings between the single actions. The visible countdown now is independent of the time we need to take an image, the defined offset will be respected now. Also we now don't wait for the cheese message to end, the picture will be taken without waiting for it. A small bug was fixed, where the shutter animation was started twice if an cheese image is used. Like always: The full Changelog can be found here . Enjoy Photobooth v4.3.1! 28 November 2022 Photobooth v4.3.0 released! Some minor bugs have been fixed, build dependencies have been updated, new Features have been added. Like always: The full Changelog can be found here . Enjoy Photobooth v4.3.0! 16 October 2022 Photobooth v4.2.0 released today! Some minor bugs have been fixed, PHPMailer and build dependencies have been updated. The full Changelog can be found here . Enjoy Photobooth v4.2.0! 30 September 2022 We're proud to release Photobooth v4.1.0! Some bugs have been fixed, some new features have made it's way into the new version and some code have been cleaned. Logging is added to save and reset actions via Adminpanel for easier debugging. The full Changelog can be found here . Enjoy Photobooth v4.1.0! 10 September 2022 We're proud to release Photobooth v4.0.0 with the code switch to PhotoboothProject which contains a lot of Bugfixes and user-wishes could be integrated. Photobooth v4.0.0 comes in a new modern squared look!","title":"News & Releases"},{"location":"news/#news","text":"Updates, announcements and release notes from the Photobooth team.","title":"News"},{"location":"news/#december-2025","text":"2025 was a big year\u2014more polish, smarter tools, and plenty of community-driven wins. We folded in long-requested features, hardened the setup path, and smoothed rough edges across capture, printing, and theming so the booth feels faster and friendlier. Here\u2019s what landed. Custom collage refresh \u2014 Simplified, customizable collage flow with a new 2+1 layout, per-slot placeholders, and clearer guidance so layouts can be built without hand-editing JSON. Documentation cleanup \u2014 Streamlined navigation, refreshed guides, and general restructuring for easier browsing and search. New Setup Wizard \u2014 The whiptail-based wizard now logs stdout/stderr, avoids screen flashing, and guides kiosk/autostart and permission setup with saner defaults. Background magic \u2014 Native rembg integration with advanced controls, logging, safer installation, and improved compositing. Look & feel \u2014 Theme management (with documentation), custom CSS, collage color presets, virtual keyboard layouts and colors, Git version indicator, clearer admin hints, and uploadable keying backgrounds. Collages & media \u2014 New layout enum, rotation range control, video preview sizing, safer placeholders, automatic background/frame toggles, preview caching, gallery dimension caching, optional result blur, iOS preview fixes, and custom stage.start.php support. Printing & sharing \u2014 Copy prompts and print-limit endpoint, longer timeouts, multi-print fixes, queued message timing improvements, multi-recipient email with virtual keyboard support, higher minimum JPEG quality, configurable email fields, and Turkish language support. Hardware & inputs \u2014 Hardware photo button support, improved USB HID hardware-button handling, hardware keyboard for admin PIN entry, remote buzzer on chroma, support for all input types, IP whitelisting, and refreshed keypad interactions. Setup & reliability \u2014 Tailwind v4 and PHP 8.4 upgrades, more robust install_rembg , hardened USB sync, resettable box info, safer uploads and video backgrounds, cached IP/host resolution, tighter collage defaults, and smoother installer updates. Bug fixes \u2014 More resilient selfie and chroma previews, loader cleanup, proper hiding of video backgrounds during capture, validated PHP PPAs/flags/permissions, fixed multi-print casting and deprecations, explicit rotate errors, stronger rembg typing/logging/error handling, corrected stop-second timing, fixed collage/theme paths and placeholder limits, iOS preview fixes, admin tooltip/label and default path corrections, and extensive documentation/link cleanups. and many doc/link cleanups. Thank you for all the contributions, testing, and thoughtful feedback that shaped these releases. Keep sharing what you build and what you need\u2014we\u2019ll keep pushing Photobooth forward. See you in 2026!","title":"December 2025"},{"location":"news/#december-2024","text":"Hey together! This year almost comes to an end. I am glad to see the community is growing every day and I am proud about the support and help from everyone! It's kind of special and unique seeing user helping each other like done in our community! I am happy about all the contributions made to the project - especially Benjamin Kott helped a lot reworking and improving the source of Photobooth! With the improved source and code quality Photobooth runs always stable on latest development version! There's still work left before Photobooth v5 can be released as a stable release, due to changes in private life I haven't had the time needed for it. Photobooth stays feature complete for this year in latest development source, only dependencies updates will be applied. I hope everyone can enjoy the Christmas days and have a good start into the new year 2025! Best regards Andi","title":"December 2024"},{"location":"news/#17-september-2024","text":"Photobooth v4.5.1 has been released. The release keeps Photobooth v4 compatible with latest Photobooth installer and allows automated installation tests via GitHub actions. Besides that only dependencies have been updated to latest version. The changed Onoff library should be able to handle the changed GPIO sysfs on latest PiOS kernel. We're still working on rewriting the Photobooth source for the upcoming v5 release - there's still some work left before the new version can be released. The current development version runs nicely and stable for most user! We are always happy about feedback and helping hands! New feature have been added already and the UI got an overhaul in a lot of places. Like always: The full Changelog can be found here . If you're running latest development version already: there's no need to install Photobooth v4.5! Your Photobooth-Team","title":"17 September 2024"},{"location":"news/#09-january-2024","text":"It's been a while, but here's some news outside of our Community on Telegram. Actually the source code of Photobooth is rewritten in almost all sections of Photobooth and there's still some work left before Photobooth v5 can be released. Photobooth v4.4.0 was released! This release is meant as bugfix-release to fix some known bugs, retain Windows compatibility and to keep compatibility with the changed install steps on latest development version. A few new features have made it inside this release, but more to come with the upcoming Photobooth v5! And don't worry! The current development version runs nicely and stable for most user! We are always happy about feedback and helping hands! Like always: The full Changelog can be found here . Your Photobooth-Team","title":"09 January 2024"},{"location":"news/#24-december-2022","text":"Hey everyone! Photobooth again was improved a lot this year and a lot of user wishes have been added to the project. Thanks to everyone for being part of this community, your feedback and your help to make Photobooth such a great OpenSource Project! We hope you have a safe and relaxing christmas time! Your Photobooth-Team","title":"24 December 2022"},{"location":"news/#06-december-2022","text":"Photobooth v4.3.1 released! Build dependencies have been updated and the process of taking an image was improved to optimize the timings between the single actions. The visible countdown now is independent of the time we need to take an image, the defined offset will be respected now. Also we now don't wait for the cheese message to end, the picture will be taken without waiting for it. A small bug was fixed, where the shutter animation was started twice if an cheese image is used. Like always: The full Changelog can be found here . Enjoy Photobooth v4.3.1!","title":"06 December 2022"},{"location":"news/#28-november-2022","text":"Photobooth v4.3.0 released! Some minor bugs have been fixed, build dependencies have been updated, new Features have been added. Like always: The full Changelog can be found here . Enjoy Photobooth v4.3.0!","title":"28 November 2022"},{"location":"news/#16-october-2022","text":"Photobooth v4.2.0 released today! Some minor bugs have been fixed, PHPMailer and build dependencies have been updated. The full Changelog can be found here . Enjoy Photobooth v4.2.0!","title":"16 October 2022"},{"location":"news/#30-september-2022","text":"We're proud to release Photobooth v4.1.0! Some bugs have been fixed, some new features have made it's way into the new version and some code have been cleaned. Logging is added to save and reset actions via Adminpanel for easier debugging. The full Changelog can be found here . Enjoy Photobooth v4.1.0!","title":"30 September 2022"},{"location":"news/#10-september-2022","text":"We're proud to release Photobooth v4.0.0 with the code switch to PhotoboothProject which contains a lot of Bugfixes and user-wishes could be integrated. Photobooth v4.0.0 comes in a new modern squared look!","title":"10 September 2022"},{"location":"security/","text":"Security Policy Security advice Photobooth is not hardened against any kind of targeted attacks. It uses user defined commands for tasks like taking photos and is allowed to replace its own files for easy updating. Because of this it's not advised to operate Photobooth in an untrusted network and you should absolutely not make Photobooth accessible through the internet without heavy modifications!","title":"Security Policy"},{"location":"security/#security-policy","text":"","title":"Security Policy"},{"location":"security/#security-advice","text":"Photobooth is not hardened against any kind of targeted attacks. It uses user defined commands for tasks like taking photos and is allowed to replace its own files for easy updating. Because of this it's not advised to operate Photobooth in an untrusted network and you should absolutely not make Photobooth accessible through the internet without heavy modifications!","title":"Security advice"},{"location":"customizing/","text":"Customize & extend Sounds \u2013 swap out sound assets and cues. Themes \u2013 adjust the look and feel through themes. Customizing SCSS styles \u2013 override styles for deeper changes.","title":"Overview"},{"location":"customizing/#customize-extend","text":"Sounds \u2013 swap out sound assets and cues. Themes \u2013 adjust the look and feel through themes. Customizing SCSS styles \u2013 override styles for deeper changes.","title":"Customize &amp; extend"},{"location":"customizing/sounds/","text":"Sounds If you have speakers connected to your Photobooth, you can enable the sound functionality in the settings. There are multiple switches you can toggle to enable or disable sounds for specific actions. These actions will play sounds if enabled: Countdown: For every second a sound file is played (file format: counter-$i.mp3 ) The sounds are grouped by voice and language . Possible voice values are: woman: sounds with a female voice man: sounds with a male voice custom: sounds in your /private/sounds directory","title":"Sounds"},{"location":"customizing/sounds/#sounds","text":"If you have speakers connected to your Photobooth, you can enable the sound functionality in the settings. There are multiple switches you can toggle to enable or disable sounds for specific actions. These actions will play sounds if enabled: Countdown: For every second a sound file is played (file format: counter-$i.mp3 ) The sounds are grouped by voice and language . Possible voice values are: woman: sounds with a female voice man: sounds with a male voice custom: sounds in your /private/sounds directory","title":"Sounds"},{"location":"customizing/styles/","text":"Customizing SCSS styles Photobooth uses a small SCSS build pipeline based on gulp and sass . You can add your own styles that will be compiled to CSS and loaded together with the default styles. Recommended: _custom.scss (loaded automatically) This means: If private/sass/_custom.scss exists, it is automatically imported into framework.scss . No template changes are needed \u2013 your styles are bundled into resources/css/framework.css , which is already loaded by Photobooth. To use this: Create a new file called _custom.scss in private/sass . Add your overrides or additional styles to this file. Building the CSS From the project root run: npm install (first time only, to install Node.js dependencies) npm run build:sass to only compile SCSS, or npm run build to run the full asset build (SCSS, JS, etc.).","title":"CSS styles"},{"location":"customizing/styles/#customizing-scss-styles","text":"Photobooth uses a small SCSS build pipeline based on gulp and sass . You can add your own styles that will be compiled to CSS and loaded together with the default styles.","title":"Customizing SCSS styles"},{"location":"customizing/styles/#recommended-_customscss-loaded-automatically","text":"This means: If private/sass/_custom.scss exists, it is automatically imported into framework.scss . No template changes are needed \u2013 your styles are bundled into resources/css/framework.css , which is already loaded by Photobooth. To use this: Create a new file called _custom.scss in private/sass . Add your overrides or additional styles to this file.","title":"Recommended: _custom.scss (loaded automatically)"},{"location":"customizing/styles/#building-the-css","text":"From the project root run: npm install (first time only, to install Node.js dependencies) npm run build:sass to only compile SCSS, or npm run build to run the full asset build (SCSS, JS, etc.).","title":"Building the CSS"},{"location":"customizing/themes/","text":"Themes Themes allow you to save and restore groups of visual and event\u2011related settings from the admin panel. Where to find it Open the admin panel. Go to the General section and look for the Themes card. What gets saved All inputs in the admin panel that are marked as theme\u2011relevant are saved when you create a theme. Typical examples include: Colors (primary, secondary, background, countdown, etc.) Background images and frames Event text and icon Logo visibility, path and position Picture/collage specific appearance options (polaroid effect, text overlays, placeholders, \u2026) How themes are stored Themes are stored as JSON files in private/themes . File name: <theme-name>.theme.config.json Format: grouped by category , similar to my.config.inc.php , for example: { \"event\": { \"symbol\": \"fa-birthday-cake\", \"textLeft\": \"Lisa & Tom\", \"textRight\": \"01.01.\" }, \"colors\": { \"primary\": \"#4a7c1f\", \"secondary\": \"#6b8a55\", \"background_countdown\": \"#eef4ea\", \"countdown\": \"#5b7d4a\" }, \"picture\": { \"frame\": \"private/images/frames/birthday.png\", \"extend_by_frame\": \"false\" }, \"collage\": { \"background_color\": \"#292035\", \"take_frame\": \"once\" } } Keys correspond to the configuration categories (for example event , colors , picture , collage ). Inside each category, the keys match the setting names (for example symbol , frame , background_color ). Using themes In the Themes card you can: Save a theme Configure your settings in the admin panel. Enter a name in the theme name input. Click Save theme . A JSON file is created or updated in private/themes . Export a theme Select a theme from the dropdown. Click Export . A ZIP is downloaded containing: private/themes/<theme-name>.theme.config.json All files referenced by the theme (for example background images, frames, logos) from private/ and resources/ . The folder structure inside the ZIP preserves the paths relative to the project root. Import a theme Click Import and choose a ZIP created by the export feature. The theme name is taken from the .theme.config.json filename inside the ZIP. If a theme with the same name already exists, it is overwritten. The ZIP is unpacked into the project preserving its contained folder structure (only private/ and resources/ are written). The imported theme shows up in the dropdown and will be applied immediately. Load a theme Select a theme from the dropdown. Click Load theme . All theme\u2011related fields are updated to the saved values. Delete a theme Select a theme from the dropdown. Click Delete theme . The corresponding JSON file in private/themes is removed. Relation to my.config.inc.php config/my.config.inc.php contains your current active configuration. Themes are templates that contain only the theme\u2011relevant parts of this configuration. Loading a theme updates the corresponding settings in the admin form. After loading a theme, you still have to save the configuration in the admin panel to write the values back to my.config.inc.php .","title":"Themes"},{"location":"customizing/themes/#themes","text":"Themes allow you to save and restore groups of visual and event\u2011related settings from the admin panel.","title":"Themes"},{"location":"customizing/themes/#where-to-find-it","text":"Open the admin panel. Go to the General section and look for the Themes card.","title":"Where to find it"},{"location":"customizing/themes/#what-gets-saved","text":"All inputs in the admin panel that are marked as theme\u2011relevant are saved when you create a theme. Typical examples include: Colors (primary, secondary, background, countdown, etc.) Background images and frames Event text and icon Logo visibility, path and position Picture/collage specific appearance options (polaroid effect, text overlays, placeholders, \u2026)","title":"What gets saved"},{"location":"customizing/themes/#how-themes-are-stored","text":"Themes are stored as JSON files in private/themes . File name: <theme-name>.theme.config.json Format: grouped by category , similar to my.config.inc.php , for example: { \"event\": { \"symbol\": \"fa-birthday-cake\", \"textLeft\": \"Lisa & Tom\", \"textRight\": \"01.01.\" }, \"colors\": { \"primary\": \"#4a7c1f\", \"secondary\": \"#6b8a55\", \"background_countdown\": \"#eef4ea\", \"countdown\": \"#5b7d4a\" }, \"picture\": { \"frame\": \"private/images/frames/birthday.png\", \"extend_by_frame\": \"false\" }, \"collage\": { \"background_color\": \"#292035\", \"take_frame\": \"once\" } } Keys correspond to the configuration categories (for example event , colors , picture , collage ). Inside each category, the keys match the setting names (for example symbol , frame , background_color ).","title":"How themes are stored"},{"location":"customizing/themes/#using-themes","text":"In the Themes card you can: Save a theme Configure your settings in the admin panel. Enter a name in the theme name input. Click Save theme . A JSON file is created or updated in private/themes . Export a theme Select a theme from the dropdown. Click Export . A ZIP is downloaded containing: private/themes/<theme-name>.theme.config.json All files referenced by the theme (for example background images, frames, logos) from private/ and resources/ . The folder structure inside the ZIP preserves the paths relative to the project root. Import a theme Click Import and choose a ZIP created by the export feature. The theme name is taken from the .theme.config.json filename inside the ZIP. If a theme with the same name already exists, it is overwritten. The ZIP is unpacked into the project preserving its contained folder structure (only private/ and resources/ are written). The imported theme shows up in the dropdown and will be applied immediately. Load a theme Select a theme from the dropdown. Click Load theme . All theme\u2011related fields are updated to the saved values. Delete a theme Select a theme from the dropdown. Click Delete theme . The corresponding JSON file in private/themes is removed.","title":"Using themes"},{"location":"customizing/themes/#relation-to-myconfigincphp","text":"config/my.config.inc.php contains your current active configuration. Themes are templates that contain only the theme\u2011relevant parts of this configuration. Loading a theme updates the corresponding settings in the admin form. After loading a theme, you still have to save the configuration in the admin panel to write the values back to my.config.inc.php .","title":"Relation to my.config.inc.php"},{"location":"faq/","text":"FAQ - Frequently asked questions FAQ on https://photoboothproject.github.io/ always matches latest development version of Photobooth. Some options might not be available on older version or might be handled different. An FAQ matching your installed version can be found at http://localhost/faq (or http://localhost/photobooth/faq ). Is my Camera supported? Some DSLR and Compact Cameras are not supported by this project. Please check for your specific model here . Is Pi Camera supported? Yes. See the dedicated steps in Pi Camera setup . I've found a bug, how can I report? Please take a look at the issue page here , if your bug isn't mentioned already you can create a new issue. Please give informations detailed as possible to reproduce and analyse the problem. I've a white page after updating to latest Source, how can I solve this? If you updated from v1.9.0 or older and get a white page, your old admin/config.json may be incompatible. Remove the legacy file and retry; current versions store changes in config/my.config.inc.php : sudo rm /var/www/html/admin/config.json How do I change the configuration? Open http://localhost/admin ( or http://localhost/photobooth/admin ) in your Webbrowser and change the configuration for your personal needs. Changed options are stored inside config/my.config.inc.php to prevent sharing personal data on Github by accident and to make an update of Photobooth easier. How do I set up the screensaver? Use the Admin Panel \u2192 General \u2192 Screensaver and follow Screensaver function for modes, file locations, and timing tips. How to change the language? Open http://localhost/admin ( or http://localhost/photobooth/admin ) in your Webbrowser and change the configuration for your personal needs. How to update or add translations? Photobooth joined Crowdin as localization manager, join here to translate Photobooth. Crowdin gives a nice webinterface to make translating easy as possible. If there's different translations for a string, translator can use the vote function on suggested translations. With Crowdin and your help translating we're able to get high-quality translations for all supported languages. Also it's easy to support a wider range of languages! Your language is missing? Don't worry, create a localization request here and we'll add it to the project. How can I test my current photo settings? Open http://localhost/test/photo.php (or http://localhost/photobooth/test/photo.php ) in your Webbrowser and you can find a photo that is created with your current settings. How can I test my current collage settings? Open http://localhost/test/collage.php (or http://localhost/photobooth/test/collage.php ) in your Webbrowser and you can find a collage that is created with your current settings. How can setup a custom collage design? See the detailed walkthrough in Custom collage design . How to keep pictures on my Camera using gphoto2? Add --keep (or --keep-raw to keep only the raw version on camera) option for gphoto2 via admin panel: gphoto2 --capture-image-and-download --keep --filename=%s On some cameras you also need to define the capturetarget because Internal RAM is used to store captured picture. To do this use --set-config capturetarget=X option for gphoto2 (replace \"X\" with the target of your choice): gphoto2 --set-config capturetarget=1 --capture-image-and-download --keep --filename=%s To know which capturetarget needs to be defined you need to run: gphoto2 --get-config capturetarget Example: pi@raspberrypi:~ $ gphoto2 --get-config capturetarget Label: Capture Target Readonly: 0 Type: RADIO Current: Internal RAM Choice: 0 Internal RAM Choice: 1 Memory card My external flash is not working after using the live preview The reason for this might be that the camera is still in PC mode. Try setting the output setting to Off in your capture command, for example like this: gphoto2 --set-config output=Off --capture-image-and-download Chromakeying is saving without finishing saving Checking the browser console you'll see a 413 Request Entity Too Large error. To fix that you'll have to update your nginx.conf Follow the steps mentioned here: How to Fix NGINX 413 Request Entity Too Large Error Can I use Hardware Button to take a Picture? Yes. See the dedicated page Remote Buttons & Triggers for: Browser hotkeys (HID to focused browser) Direct USB HID on the Photobooth host (no browser focus) Socket.io triggers Simple HTTP triggers and example devices (ESP, Pico, myStrom, Shelly) Troubleshooting tips How do I enable Kiosk Mode to automatically start Photobooth in full screen? Use the kiosk mode guide . How to hide the mouse cursor, disable screen blanking and screen saver? See Hide cursor, screen blanking and screen saver for Pi OS-specific steps. How to use a live stream as background at countdown? See the dedicated Preview and live background guide. Can I use a video as background? Yes you can. Using the file uploader you can add your video into the /private/videos/background folder. Once done go to User interface (or User interface ), switch from image to video as background and choose your video in \"Background video path\". You can also use a youtube video/livestream! In the background video path put the link pulled from youtube. Note that the link should be in the following format: https://www.youtube.com/embed/<video_id> . To get a link like that you have to choose your youtube video/livestream and click on the \"share\" button. Then by choosing \"incorporate\" it will be shown an HTML code <iframe /> you have to copy the content of the \"src\" property from the start till the first question mark ? in order to resemble the format. Can I use a live stream as background? Yes you can. There's different ways depending on your needs and personal setup: On Photobooth v2.4.0 and newer you can use the option \"Use stream from device cam as background\" inside admin panel. If enabled, a stream from your device cam is used as background on start screen. It's still possible to use preview from your device cam as background on countdown. It is not possible capturing via raspistill / libcamera-still / rpicam-still for Pi Camera. You need to change the background URL path via config or admin panel. Replace url(../img/bg.jpg) with your IP-Adress and port (if needed) as URL. Example: Use http://192.168.0.2:8081 (or your own stream URL) in place of /img/bg.jpg . To use an DSLR or an Raspberry Pi Camera module see _Setting up a preview stream from your DSLR or PiCamera_ above. I've trouble setting up E-Mail config. How do I solve my problem? If connection fails some help can be found inside the official PHPMailer Wiki , especially gmail needs some special config. Should be obvious but the photobooth must be connected to WIFI/internet to send photos live. Otherwise, tell them to check the box to send them the photo later and it will add everyone's email to a list for you. For gmail you need to generate an app password if you have 2-factor authentication on. Tested working setup: gmail.com Email host adress: smtp.gmail.com Username: *****@gmail.com Port: 587 Security: TLS gmx.de Email host adress: mail.gmx.net Username: *****@gmx.de Port: 587 Security: TLS web.de Email host adress: smtp.web.de Username: ***** (@web.de is not needed in your username) Port: 587 Security: TLS How to only open the gallery to avoid people taking pictures? Open http://localhost/gallery (or http://localhost/photobooth/gallery ) in your browser (you can replace localhost with your IP adress). Chromakeying isn't working if I access the Photobooth page on my Raspberry Pi, but it works if I access Photobooth from an external device (e.g. mobile phone or tablet). How can I solve the problem? Open chrome://flags in your browser. Look for \"Accelerated 2D canvas\" and change it to \"disabled\" . Now restart your Chromium browser. How to adjust the php.ini file? Open http://localhost/phpinfo.php (or http://localhost/photobooth/phpinfo.php ) in your browser. Take a look for \"Loaded Configuration File\" to get the path of your php.ini, you need sudo rights to edit the file. Automatic picture syncing to USB stick This feature will automatically and in regular intervals copy (sync) new pictures to a plugged-in USB stick Use the Photobooth Setup Wizard to get the operating system setup in place. Permissions -> USB Sync policy The target USB device is selected through the admin panel. A USB drive / stick can be identified either by the USB stick label (e.g. photobooth ), the operating system specific USB device name (e.g. /dev/sda1 ) or the USB device system subsystem name (e.g. sda ). The preferred method would be the USB stick label (for use of a single USB stick) or the very specific USB device name, for different USB stick use. The default config will look for a drive with the label photobooth. The script only supports one single USB stick connected at a time Pictures will be synced to the USB stick matched by the pattern, as long as it is mounted (aka USB stick is plugged in) Debugging: Check the server logs for errors at the Debug panel: http://localhost/admin/debugpanel ( or http://localhost/photobooth/admin/debugpanel ). Raspberry Touchpanel DSI simultaneously with HDMI When using a touchscreen on DSI and an HDMI screen simultaneously, the touch input is offset. This is because both monitors are recognized as one screen. The remedy is the following: xinput list remember the device id=[X] of the touchscreen. xinput list-props \"Device Name\" Get the ID in brackets (Y) of Coordinate Transformation Matrix xinput set-prop [X] --type=float [Y] c0 0 c1 0 c2 c3 0 0 1 adjust the coding c0 0 c1 0 c2 c3 0 0 1 with your own data. You can get the values of your screens with the following command: xrandr | grep \\* # xrandr uses \"*\" to identify the screen being used c0 = touch_area_width / total_width (width of touch screen divided by width of both screens) c2 = touch_area_height / total_height (height touch screen divided by height of both screens) c1 = touch_area_x_offset / total_width c3 = touch_area_y_offset / total_height and execute the above command again with your own coding! Example: xinput set-prop 6 --type=float 136 0.3478260869565217 0 0 0.55555555555556 0 0 0 1 Now unfortunately the settings are only valid for the current session. So create the following desktop startup file with your own values: nano ~/.config/autostart/touch.desktop Example: [Desktop Entry] Name=TouchSettingsAutostart Comment=Set up touch screen setting when starting desktop Type=Application ## Adapt command to own values Exec=xinput set-prop 6 --type=float 136 0.3478260869565217 0 0 0 0.55555555555556 0 0 0 1 Terminal=false If you want to use the touchscreen as photobooth and the second monitor for the standalone slideshow for example, open the autostart file: sudo nano /etc/xdg/lxsession/LXDE-pi/autostart and enter/adjust the @chromium-browser entries as followed (adjust the value 1920 to your own resolution and URL if necessary): @chromium-browser --new-window --start-fullscreen --kiosk http://localhost --window-position=1920,0 --user-data-dir=Default @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/photobooth --window-position=1920,0 --user-data-dir=Default @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/slideshow/ --window-position=0,0 --user-data-dir='Profile 1' @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/photobooth/slideshow/ --window-position=0,0 --user-data-dir='Profile 1' How does the connection to the FTP server work? The connection to the FTP server needs 4 distinct properties. baseURL which is the url where all requests will be made port for ssl connection (the default value is 21) username the username of the user authorized to interact to the FTP server password the password of the user With these four variables you can test the connection to the FTP server to check if everything is alright. The next variables are for the place where you want the pictures to be stored: baseFolder is the folder of your website (if you have multiple websites living on the server with this property you can choose on which of these the file should be stored) folder the folder dedicated to the upload of the files title if you are doing an event you can set the title of the event to create another folder (the system will slugify the string) In the end the processed picture, and the thumbnails, will be uploaded in the folder according to these variables. If you have a website, you can use the following variables to generate the qr codes that will point to the photos uploaded to the ftp server useForQr to enable this functionality website accessible from the internet, it will be the base of the qr code link urlTemplate starting from the previous set of variables, you have to define the template which will be used to generate the qrcode link (each variable should be written whit '%' before e.g. %website/%folder/%date) Last but not least you can upload a php file on the title folder on the FTP server to create an online gallery which is updated with every new picture (and collage) taken. The variable to manage this feature are the following: create_webpage to enable this functionality template_location which is the location of the index.php file, which is formatted with the title of the current event and uploaded to the FTP server In the end you can enable the delete functionality that will delete photos (and collages) from the ftp server when they are deleted from the photobooth gallery (no admin reset) I get the error message \"Something went wrong.\" while taking a picure, what can i do? There's different reasons if you get the error \"Something went wrong. Please try it again. Photobooth reloads automatically.\" while taking an image. First of all, please set the Loglevel to 2 via admin panel (GENERAL section, http://localhost/admin or http://localhost/photobooth/admin ) and try again. You'll still see the error message, but we make sure to log enough information to see what's wrong. Now open the Debug panel ( http://localhost/admin/debugpanel or http://localhost/photobooth/admin/debugpanel ) and check the Photobooth log for error messages. You should see something like this: 2023-01-03T08:34:37+01:00: Array ( [error] => Take picture command returned an error code [cmd] => gphoto2 --capture-image-and-download --filename=/var/www/html/data/tmp/20230103_083437.jpg 2>&1 [returnValue] => 1 [output] => Array ( [0] => [1] => *** Error *** [2] => Could not detect any camera [3] => *** Error (-105: 'Unknown model') *** [4] => [5] => For debugging messages, please use the --debug option. [6] => Debugging messages may help finding a solution to your problem. [7] => If you intend to send any error or debug messages to the gphoto [8] => developer mailing list , please run [9] => gphoto2 as follows: [10] => [11] => env LANG=C gphoto2 --debug --debug-logfile=my-logfile.txt --capture-image-and-download --filename=/var/www/html/testa/data/tmp/20230103_083437.jpg [12] => [13] => Please make sure there is sufficient quoting around the arguments. [14] => ) [php] => takePic.php ) Most of the time the error messages are self explained (in our case no camera was detected, the cable wasn't plugged in), if you're still having trouble you can check the troubleshooting section. How to upload pictures to a remote server after picture has been taken? Goal: After a picture is taken with the photobox upload it automatically to a remote server. Usecase: You have a remote server (e.g. with your website on it) or another Raspberry Pi to which you\u2019d like instantly synchronizing your taken pictures. Also you could upload the pictures to a remote server and make them available through the QR code over the internet. By this you would not require people to access a local Wifi to download the picture from your local device which is running your Photobox. How to: You should have a remote server with an SSH login. Know your username and password: (e.g.: [username.strato-hosting.eu]@ssh.strato.de ) We will be using the Post-photo script / command of the Photobox which you can find in the admin panel in the section Commands. The command is being executed after the picture has been taken and gets the picture\u2019s name as an attribute. Command (adjust path if needed): scp /var/www/html/data/images/%s [username@remotehost]:/[path_to_where_you_want_to_store_the_pictures_on_the_remote_host] If we keep it like that the remote server would require the source server to type in a password each time a picture is being copied to the remote server. An SSH connection using a private/public SSH key needs to be established: Create a public/private key-pair for the www-data user on the source machine (why for that user? The www-data user is executing the Post-photo script/command in the background) \u2013 Do not enter a passphrase when prompted. sudo -u www-data ssh-keygen -t rsa Copy the public key to the remote (destination) server sudo -u www-data ssh-copy-id [username@remotehost] You can now manually test whether the connection works. Try to copy anything to the remote server and change the file in the below example to a file that you actually have on your source machine. You shouldn\u2019t be prompted with a password, but the copy and transfer should complete successfully just with the following command. If that is going to be successful, copying your pictures automatically should work now. sudo -u www-data scp /var/www/html/data/images/20230129_125148.jpg [username@remotehost]:/[path_to_where_you_want_to_store_the_pictures] You can now use the URL with which you can access your remote server from the internet and paste it into the QR code field in the Photobox admin panel. Now using the QR code your pictures can be downloaded from your remote server. How do I use QR codes for downloads? Touch-friendly viewer page: view.php?image=<filename> shows the photo/video with a large download button. Direct file download (no UI): api/download.php?image=<filename> . Set the QR target in the admin config under qr[url] ; a good default is view.php?image= so guests open the viewer after scanning. Network reminder: guests must reach the URL in the QR. Either put them on the same Wi-Fi/LAN as the Photobooth (no internet needed) or point the QR to a public endpoint that serves the image. How to use the image randomizer To use the image randomizer images must be placed inside private/images/{folderName} . For hassle-free (ssh/sftp-free) upload, you may want to use the integrated images uploader: http://localhost/admin/upload ( or http://localhost/photobooth/admin/upload ). Use for PICTURE FRAMES: Upload / Copy all the (transparent) frames you want to private/images/{FrameFolder} Enable picture_take_frame specify picture_frame url : http://localhost/api/randomImg.php?dir={FrameFolder} (or http://localhost/photobooth/api/randomImg.php?dir={FrameFolder} ) Use for COLLAGE FRAMES: Upload / Copy all the (transparent) frames you want to private/images/{FrameFolder} Enable collage_take_frame (always or once) specify collage_frame url : http://localhost/api/randomImg.php?dir={FrameFolder} (or http://localhost/photobooth/api/randomImg.php?dir={FrameFolder} ) Use for BACKGROUNDS: Upload / Copy all the backgrounds you want to private/images/{BgFolder} specify collage_background url : http://localhost/api/randomImg.php?dir={BgFolder} (or http://localhost/photobooth/api/randomImg.php?dir={BgFolder} ) NOTES: Replace \"localhost\" with your IP-Adress. Same thing can be applied for collage_placeholderpath so a random holder image takes place. You can specify a diffrent {FrameFolder} for collage frames if needed. How do I reset keypad login attempts? If the keypad is blocked after too many wrong PINs, clear the throttle file to reset attempts: Open a shell on the photobooth host. Delete the throttle JSON that stores attempt counts: Path may vary based on your installation: rm /var/www/html/photobooth/var/run/login_throttle.json or rm /var/www/html/var/run/login_throttle.json How to use Magic Greenscreen (AI Background Removal) Magic Greenscreen is a feature that uses AI to automatically remove backgrounds from photos, creating professional-looking images with transparent or custom backgrounds. This feature is powered by the rembg library and requires Python 3. Prerequisites Python: >=3.10, <3.14 Internet connection for initial setup Sufficient disk space (approximately 200MB for the AI model) Installation Download and run the the Photobooth Setup Wizard Choose 8 Rembg Setup This script will: Check for Python 3 and required packages Create a virtual environment in /var/www/rembg/rembg_venv Install rembg and its dependencies (PIL, onnxruntime) Verify the installation start rembg server via a system service on port 7000 (API endpoints are used by Photobooth), access rembg server at localhost:7000 ). Configuration Open the Admin Panel: Navigate to http://localhost/admin (or http://localhost/photobooth/admin ) Enable Magic Greenscreen: Go to the \"Magic Greenscreen\" section (positioned between \"Custom\" and \"Gallery\") Check \"Remove background\" to enable the feature Optionally configure: Background image: Path to a custom background image (leave empty for transparent background) Background scaling mode: How the background image is scaled/cropped (default: scale-fill) scale-fill (recommended): Covers entire canvas, preserves aspect ratio, may crop edges scale-fit : Fits inside canvas, preserves aspect ratio, may have black bars crop-center : Crops from center to exact canvas size stretch : Stretches to fit (may distort) none : Direct copy without scaling (original behavior) AI model: Choose the AI model (default: u2net) Alpha matting: Enable for better edge quality Alpha matting thresholds: Fine-tune edge detection (advanced users) Post-processing: Enable for improved results Save Configuration: Click the \"Save\" button in the admin panel Usage Once enabled, Magic Greenscreen will automatically process photos after they are taken: Take a photo as usual using the photobooth The AI will automatically remove the background The processed image will be saved with a transparent or custom background Both original and processed images are available in the gallery Supported Formats Input: JPEG, PNG, and other common image formats Output: PNG (for transparency) or JPEG (with custom background) Performance Notes Processing is performed on the CPU, it requires faster hardware to achieve optimal performance (not recommended for Raspberry Pi 4 or older) First processing may take longer as the AI model loads Processing time depends on image size and complexity Processing happens after photo capture and doesn't delay the user experience Troubleshooting First, make sure the rembg server is avalable ( localhost:7000 ). In case you're unable to access the rembg server, check the rembg server status: sudo systemctl status rembg.service \"rembg virtual environment not found\" error Ensure the installation completed successfully Processing fails or takes too long Check available disk space Verify internet connection (some models may require online access) Check server logs in the debug panel: http://localhost/admin/debug ( or http://localhost/photobooth/admin/debugpanel ). Background not removed properly Try a different AI model (u2net, u2netp, u2net_cloth_seg) Enable alpha matting for better edge detection Adjust alpha matting thresholds Ensure good lighting and contrast in the original photo Memory issues Disable post-processing if memory is limited Consider using a more powerful device Advanced Configuration For advanced users, you can modify the rembg processing parameters: AI Models: u2net : General purpose (default) u2netp : Portrait optimized u2net_cloth_seg : Clothing segmentation silueta : Simple backgrounds isnet : High quality Alpha Matting: Improves edge quality around hair and fine details Post-processing: Applies additional smoothing and refinement File Locations Virtual environment: /var/www/rembg/rembg_venv Processed images: /var/www/html/data/images/ (with background removed) Installation and uninstall: Run the Photobooth Setup Wizard Updating To update rembg to the latest version: source /var/www/rembg/rembg_venv/bin/activate pip install --upgrade rembg For additional support, check the Photobooth logs.","title":"FAQ"},{"location":"faq/#faq-frequently-asked-questions","text":"FAQ on https://photoboothproject.github.io/ always matches latest development version of Photobooth. Some options might not be available on older version or might be handled different. An FAQ matching your installed version can be found at http://localhost/faq (or http://localhost/photobooth/faq ).","title":"FAQ - Frequently asked questions"},{"location":"faq/#is-my-camera-supported","text":"Some DSLR and Compact Cameras are not supported by this project. Please check for your specific model here .","title":"Is my Camera supported?"},{"location":"faq/#is-pi-camera-supported","text":"Yes. See the dedicated steps in Pi Camera setup .","title":"Is Pi Camera supported?"},{"location":"faq/#ive-found-a-bug-how-can-i-report","text":"Please take a look at the issue page here , if your bug isn't mentioned already you can create a new issue. Please give informations detailed as possible to reproduce and analyse the problem.","title":"I've found a bug, how can I report?"},{"location":"faq/#ive-a-white-page-after-updating-to-latest-source-how-can-i-solve-this","text":"If you updated from v1.9.0 or older and get a white page, your old admin/config.json may be incompatible. Remove the legacy file and retry; current versions store changes in config/my.config.inc.php : sudo rm /var/www/html/admin/config.json","title":"I've a white page after updating to latest Source, how can I solve this?"},{"location":"faq/#how-do-i-change-the-configuration","text":"Open http://localhost/admin ( or http://localhost/photobooth/admin ) in your Webbrowser and change the configuration for your personal needs. Changed options are stored inside config/my.config.inc.php to prevent sharing personal data on Github by accident and to make an update of Photobooth easier.","title":"How do I change the configuration?"},{"location":"faq/#how-do-i-set-up-the-screensaver","text":"Use the Admin Panel \u2192 General \u2192 Screensaver and follow Screensaver function for modes, file locations, and timing tips.","title":"How do I set up the screensaver?"},{"location":"faq/#how-to-change-the-language","text":"Open http://localhost/admin ( or http://localhost/photobooth/admin ) in your Webbrowser and change the configuration for your personal needs.","title":"How to change the language?"},{"location":"faq/#how-to-update-or-add-translations","text":"Photobooth joined Crowdin as localization manager, join here to translate Photobooth. Crowdin gives a nice webinterface to make translating easy as possible. If there's different translations for a string, translator can use the vote function on suggested translations. With Crowdin and your help translating we're able to get high-quality translations for all supported languages. Also it's easy to support a wider range of languages! Your language is missing? Don't worry, create a localization request here and we'll add it to the project.","title":"How to update or add translations?"},{"location":"faq/#how-can-i-test-my-current-photo-settings","text":"Open http://localhost/test/photo.php (or http://localhost/photobooth/test/photo.php ) in your Webbrowser and you can find a photo that is created with your current settings.","title":"How can I test my current photo settings?"},{"location":"faq/#how-can-i-test-my-current-collage-settings","text":"Open http://localhost/test/collage.php (or http://localhost/photobooth/test/collage.php ) in your Webbrowser and you can find a collage that is created with your current settings.","title":"How can I test my current collage settings?"},{"location":"faq/#how-can-setup-a-custom-collage-design","text":"See the detailed walkthrough in Custom collage design .","title":"How can setup a custom collage design?"},{"location":"faq/#how-to-keep-pictures-on-my-camera-using-gphoto2","text":"Add --keep (or --keep-raw to keep only the raw version on camera) option for gphoto2 via admin panel: gphoto2 --capture-image-and-download --keep --filename=%s On some cameras you also need to define the capturetarget because Internal RAM is used to store captured picture. To do this use --set-config capturetarget=X option for gphoto2 (replace \"X\" with the target of your choice): gphoto2 --set-config capturetarget=1 --capture-image-and-download --keep --filename=%s To know which capturetarget needs to be defined you need to run: gphoto2 --get-config capturetarget Example: pi@raspberrypi:~ $ gphoto2 --get-config capturetarget Label: Capture Target Readonly: 0 Type: RADIO Current: Internal RAM Choice: 0 Internal RAM Choice: 1 Memory card","title":"How to keep pictures on my Camera using gphoto2?"},{"location":"faq/#my-external-flash-is-not-working-after-using-the-live-preview","text":"The reason for this might be that the camera is still in PC mode. Try setting the output setting to Off in your capture command, for example like this: gphoto2 --set-config output=Off --capture-image-and-download","title":"My external flash is not working after using the live preview"},{"location":"faq/#chromakeying-is-saving-without-finishing-saving","text":"Checking the browser console you'll see a 413 Request Entity Too Large error. To fix that you'll have to update your nginx.conf Follow the steps mentioned here: How to Fix NGINX 413 Request Entity Too Large Error","title":"Chromakeying is saving without finishing saving"},{"location":"faq/#can-i-use-hardware-button-to-take-a-picture","text":"Yes. See the dedicated page Remote Buttons & Triggers for: Browser hotkeys (HID to focused browser) Direct USB HID on the Photobooth host (no browser focus) Socket.io triggers Simple HTTP triggers and example devices (ESP, Pico, myStrom, Shelly) Troubleshooting tips","title":"Can I use Hardware Button to take a Picture?"},{"location":"faq/#how-do-i-enable-kiosk-mode-to-automatically-start-photobooth-in-full-screen","text":"Use the kiosk mode guide .","title":"How do I enable Kiosk Mode to automatically start Photobooth in full screen?"},{"location":"faq/#how-to-hide-the-mouse-cursor-disable-screen-blanking-and-screen-saver","text":"See Hide cursor, screen blanking and screen saver for Pi OS-specific steps.","title":"How to hide the mouse cursor, disable screen blanking and screen saver?"},{"location":"faq/#how-to-use-a-live-stream-as-background-at-countdown","text":"See the dedicated Preview and live background guide.","title":"How to use a live stream as background at countdown?"},{"location":"faq/#can-i-use-a-video-as-background","text":"Yes you can. Using the file uploader you can add your video into the /private/videos/background folder. Once done go to User interface (or User interface ), switch from image to video as background and choose your video in \"Background video path\". You can also use a youtube video/livestream! In the background video path put the link pulled from youtube. Note that the link should be in the following format: https://www.youtube.com/embed/<video_id> . To get a link like that you have to choose your youtube video/livestream and click on the \"share\" button. Then by choosing \"incorporate\" it will be shown an HTML code <iframe /> you have to copy the content of the \"src\" property from the start till the first question mark ? in order to resemble the format.","title":"Can I use a video as background?"},{"location":"faq/#can-i-use-a-live-stream-as-background","text":"Yes you can. There's different ways depending on your needs and personal setup: On Photobooth v2.4.0 and newer you can use the option \"Use stream from device cam as background\" inside admin panel. If enabled, a stream from your device cam is used as background on start screen. It's still possible to use preview from your device cam as background on countdown. It is not possible capturing via raspistill / libcamera-still / rpicam-still for Pi Camera. You need to change the background URL path via config or admin panel. Replace url(../img/bg.jpg) with your IP-Adress and port (if needed) as URL. Example: Use http://192.168.0.2:8081 (or your own stream URL) in place of /img/bg.jpg . To use an DSLR or an Raspberry Pi Camera module see _Setting up a preview stream from your DSLR or PiCamera_ above.","title":"Can I use a live stream as background?"},{"location":"faq/#ive-trouble-setting-up-e-mail-config-how-do-i-solve-my-problem","text":"If connection fails some help can be found inside the official PHPMailer Wiki , especially gmail needs some special config. Should be obvious but the photobooth must be connected to WIFI/internet to send photos live. Otherwise, tell them to check the box to send them the photo later and it will add everyone's email to a list for you. For gmail you need to generate an app password if you have 2-factor authentication on. Tested working setup: gmail.com Email host adress: smtp.gmail.com Username: *****@gmail.com Port: 587 Security: TLS gmx.de Email host adress: mail.gmx.net Username: *****@gmx.de Port: 587 Security: TLS web.de Email host adress: smtp.web.de Username: ***** (@web.de is not needed in your username) Port: 587 Security: TLS","title":"I've trouble setting up E-Mail config. How do I solve my problem?"},{"location":"faq/#how-to-only-open-the-gallery-to-avoid-people-taking-pictures","text":"Open http://localhost/gallery (or http://localhost/photobooth/gallery ) in your browser (you can replace localhost with your IP adress).","title":"How to only open the gallery to avoid people taking pictures?"},{"location":"faq/#chromakeying-isnt-working-if-i-access-the-photobooth-page-on-my-raspberry-pi-but-it-works-if-i-access-photobooth-from-an-external-device-eg-mobile-phone-or-tablet-how-can-i-solve-the-problem","text":"Open chrome://flags in your browser. Look for \"Accelerated 2D canvas\" and change it to \"disabled\" . Now restart your Chromium browser.","title":"Chromakeying isn't working if I access the Photobooth page on my Raspberry Pi, but it works if I access Photobooth from an external device (e.g. mobile phone or tablet). How can I solve the problem?"},{"location":"faq/#how-to-adjust-the-phpini-file","text":"Open http://localhost/phpinfo.php (or http://localhost/photobooth/phpinfo.php ) in your browser. Take a look for \"Loaded Configuration File\" to get the path of your php.ini, you need sudo rights to edit the file.","title":"How to adjust the php.ini file?"},{"location":"faq/#automatic-picture-syncing-to-usb-stick","text":"This feature will automatically and in regular intervals copy (sync) new pictures to a plugged-in USB stick Use the Photobooth Setup Wizard to get the operating system setup in place. Permissions -> USB Sync policy The target USB device is selected through the admin panel. A USB drive / stick can be identified either by the USB stick label (e.g. photobooth ), the operating system specific USB device name (e.g. /dev/sda1 ) or the USB device system subsystem name (e.g. sda ). The preferred method would be the USB stick label (for use of a single USB stick) or the very specific USB device name, for different USB stick use. The default config will look for a drive with the label photobooth. The script only supports one single USB stick connected at a time Pictures will be synced to the USB stick matched by the pattern, as long as it is mounted (aka USB stick is plugged in) Debugging: Check the server logs for errors at the Debug panel: http://localhost/admin/debugpanel ( or http://localhost/photobooth/admin/debugpanel ).","title":"Automatic picture syncing to USB stick"},{"location":"faq/#raspberry-touchpanel-dsi-simultaneously-with-hdmi","text":"When using a touchscreen on DSI and an HDMI screen simultaneously, the touch input is offset. This is because both monitors are recognized as one screen. The remedy is the following: xinput list remember the device id=[X] of the touchscreen. xinput list-props \"Device Name\" Get the ID in brackets (Y) of Coordinate Transformation Matrix xinput set-prop [X] --type=float [Y] c0 0 c1 0 c2 c3 0 0 1 adjust the coding c0 0 c1 0 c2 c3 0 0 1 with your own data. You can get the values of your screens with the following command: xrandr | grep \\* # xrandr uses \"*\" to identify the screen being used c0 = touch_area_width / total_width (width of touch screen divided by width of both screens) c2 = touch_area_height / total_height (height touch screen divided by height of both screens) c1 = touch_area_x_offset / total_width c3 = touch_area_y_offset / total_height and execute the above command again with your own coding! Example: xinput set-prop 6 --type=float 136 0.3478260869565217 0 0 0.55555555555556 0 0 0 1 Now unfortunately the settings are only valid for the current session. So create the following desktop startup file with your own values: nano ~/.config/autostart/touch.desktop Example: [Desktop Entry] Name=TouchSettingsAutostart Comment=Set up touch screen setting when starting desktop Type=Application ## Adapt command to own values Exec=xinput set-prop 6 --type=float 136 0.3478260869565217 0 0 0 0.55555555555556 0 0 0 1 Terminal=false If you want to use the touchscreen as photobooth and the second monitor for the standalone slideshow for example, open the autostart file: sudo nano /etc/xdg/lxsession/LXDE-pi/autostart and enter/adjust the @chromium-browser entries as followed (adjust the value 1920 to your own resolution and URL if necessary): @chromium-browser --new-window --start-fullscreen --kiosk http://localhost --window-position=1920,0 --user-data-dir=Default @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/photobooth --window-position=1920,0 --user-data-dir=Default @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/slideshow/ --window-position=0,0 --user-data-dir='Profile 1' @chromium-browser --new-window --start-fullscreen --kiosk http://localhost/photobooth/slideshow/ --window-position=0,0 --user-data-dir='Profile 1'","title":"Raspberry Touchpanel DSI simultaneously with HDMI"},{"location":"faq/#how-does-the-connection-to-the-ftp-server-work","text":"The connection to the FTP server needs 4 distinct properties. baseURL which is the url where all requests will be made port for ssl connection (the default value is 21) username the username of the user authorized to interact to the FTP server password the password of the user With these four variables you can test the connection to the FTP server to check if everything is alright. The next variables are for the place where you want the pictures to be stored: baseFolder is the folder of your website (if you have multiple websites living on the server with this property you can choose on which of these the file should be stored) folder the folder dedicated to the upload of the files title if you are doing an event you can set the title of the event to create another folder (the system will slugify the string) In the end the processed picture, and the thumbnails, will be uploaded in the folder according to these variables. If you have a website, you can use the following variables to generate the qr codes that will point to the photos uploaded to the ftp server useForQr to enable this functionality website accessible from the internet, it will be the base of the qr code link urlTemplate starting from the previous set of variables, you have to define the template which will be used to generate the qrcode link (each variable should be written whit '%' before e.g. %website/%folder/%date) Last but not least you can upload a php file on the title folder on the FTP server to create an online gallery which is updated with every new picture (and collage) taken. The variable to manage this feature are the following: create_webpage to enable this functionality template_location which is the location of the index.php file, which is formatted with the title of the current event and uploaded to the FTP server In the end you can enable the delete functionality that will delete photos (and collages) from the ftp server when they are deleted from the photobooth gallery (no admin reset)","title":"How does the connection to the FTP server work?"},{"location":"faq/#i-get-the-error-message-something-went-wrong-while-taking-a-picure-what-can-i-do","text":"There's different reasons if you get the error \"Something went wrong. Please try it again. Photobooth reloads automatically.\" while taking an image. First of all, please set the Loglevel to 2 via admin panel (GENERAL section, http://localhost/admin or http://localhost/photobooth/admin ) and try again. You'll still see the error message, but we make sure to log enough information to see what's wrong. Now open the Debug panel ( http://localhost/admin/debugpanel or http://localhost/photobooth/admin/debugpanel ) and check the Photobooth log for error messages. You should see something like this: 2023-01-03T08:34:37+01:00: Array ( [error] => Take picture command returned an error code [cmd] => gphoto2 --capture-image-and-download --filename=/var/www/html/data/tmp/20230103_083437.jpg 2>&1 [returnValue] => 1 [output] => Array ( [0] => [1] => *** Error *** [2] => Could not detect any camera [3] => *** Error (-105: 'Unknown model') *** [4] => [5] => For debugging messages, please use the --debug option. [6] => Debugging messages may help finding a solution to your problem. [7] => If you intend to send any error or debug messages to the gphoto [8] => developer mailing list , please run [9] => gphoto2 as follows: [10] => [11] => env LANG=C gphoto2 --debug --debug-logfile=my-logfile.txt --capture-image-and-download --filename=/var/www/html/testa/data/tmp/20230103_083437.jpg [12] => [13] => Please make sure there is sufficient quoting around the arguments. [14] => ) [php] => takePic.php ) Most of the time the error messages are self explained (in our case no camera was detected, the cable wasn't plugged in), if you're still having trouble you can check the troubleshooting section.","title":"I get the error message \"Something went wrong.\" while taking a picure, what can i do?"},{"location":"faq/#how-to-upload-pictures-to-a-remote-server-after-picture-has-been-taken","text":"","title":"How to upload pictures to a remote server after picture has been taken?"},{"location":"faq/#goal","text":"After a picture is taken with the photobox upload it automatically to a remote server.","title":"Goal:"},{"location":"faq/#usecase","text":"You have a remote server (e.g. with your website on it) or another Raspberry Pi to which you\u2019d like instantly synchronizing your taken pictures. Also you could upload the pictures to a remote server and make them available through the QR code over the internet. By this you would not require people to access a local Wifi to download the picture from your local device which is running your Photobox.","title":"Usecase:"},{"location":"faq/#how-to","text":"You should have a remote server with an SSH login. Know your username and password: (e.g.: [username.strato-hosting.eu]@ssh.strato.de ) We will be using the Post-photo script / command of the Photobox which you can find in the admin panel in the section Commands. The command is being executed after the picture has been taken and gets the picture\u2019s name as an attribute. Command (adjust path if needed): scp /var/www/html/data/images/%s [username@remotehost]:/[path_to_where_you_want_to_store_the_pictures_on_the_remote_host] If we keep it like that the remote server would require the source server to type in a password each time a picture is being copied to the remote server. An SSH connection using a private/public SSH key needs to be established: Create a public/private key-pair for the www-data user on the source machine (why for that user? The www-data user is executing the Post-photo script/command in the background) \u2013 Do not enter a passphrase when prompted. sudo -u www-data ssh-keygen -t rsa Copy the public key to the remote (destination) server sudo -u www-data ssh-copy-id [username@remotehost] You can now manually test whether the connection works. Try to copy anything to the remote server and change the file in the below example to a file that you actually have on your source machine. You shouldn\u2019t be prompted with a password, but the copy and transfer should complete successfully just with the following command. If that is going to be successful, copying your pictures automatically should work now. sudo -u www-data scp /var/www/html/data/images/20230129_125148.jpg [username@remotehost]:/[path_to_where_you_want_to_store_the_pictures] You can now use the URL with which you can access your remote server from the internet and paste it into the QR code field in the Photobox admin panel. Now using the QR code your pictures can be downloaded from your remote server.","title":"How to:"},{"location":"faq/#how-do-i-use-qr-codes-for-downloads","text":"Touch-friendly viewer page: view.php?image=<filename> shows the photo/video with a large download button. Direct file download (no UI): api/download.php?image=<filename> . Set the QR target in the admin config under qr[url] ; a good default is view.php?image= so guests open the viewer after scanning. Network reminder: guests must reach the URL in the QR. Either put them on the same Wi-Fi/LAN as the Photobooth (no internet needed) or point the QR to a public endpoint that serves the image.","title":"How do I use QR codes for downloads?"},{"location":"faq/#how-to-use-the-image-randomizer","text":"To use the image randomizer images must be placed inside private/images/{folderName} . For hassle-free (ssh/sftp-free) upload, you may want to use the integrated images uploader: http://localhost/admin/upload ( or http://localhost/photobooth/admin/upload ).","title":"How to use the image randomizer"},{"location":"faq/#use-for-picture-frames","text":"Upload / Copy all the (transparent) frames you want to private/images/{FrameFolder} Enable picture_take_frame specify picture_frame url : http://localhost/api/randomImg.php?dir={FrameFolder} (or http://localhost/photobooth/api/randomImg.php?dir={FrameFolder} )","title":"Use for PICTURE FRAMES:"},{"location":"faq/#use-for-collage-frames","text":"Upload / Copy all the (transparent) frames you want to private/images/{FrameFolder} Enable collage_take_frame (always or once) specify collage_frame url : http://localhost/api/randomImg.php?dir={FrameFolder} (or http://localhost/photobooth/api/randomImg.php?dir={FrameFolder} )","title":"Use for COLLAGE FRAMES:"},{"location":"faq/#use-for-backgrounds","text":"Upload / Copy all the backgrounds you want to private/images/{BgFolder} specify collage_background url : http://localhost/api/randomImg.php?dir={BgFolder} (or http://localhost/photobooth/api/randomImg.php?dir={BgFolder} ) NOTES: Replace \"localhost\" with your IP-Adress. Same thing can be applied for collage_placeholderpath so a random holder image takes place. You can specify a diffrent {FrameFolder} for collage frames if needed.","title":"Use for BACKGROUNDS:"},{"location":"faq/#how-do-i-reset-keypad-login-attempts","text":"If the keypad is blocked after too many wrong PINs, clear the throttle file to reset attempts: Open a shell on the photobooth host. Delete the throttle JSON that stores attempt counts: Path may vary based on your installation: rm /var/www/html/photobooth/var/run/login_throttle.json or rm /var/www/html/var/run/login_throttle.json","title":"How do I reset keypad login attempts?"},{"location":"faq/#how-to-use-magic-greenscreen-ai-background-removal","text":"Magic Greenscreen is a feature that uses AI to automatically remove backgrounds from photos, creating professional-looking images with transparent or custom backgrounds. This feature is powered by the rembg library and requires Python 3.","title":"How to use Magic Greenscreen (AI Background Removal)"},{"location":"faq/#prerequisites","text":"Python: >=3.10, <3.14 Internet connection for initial setup Sufficient disk space (approximately 200MB for the AI model)","title":"Prerequisites"},{"location":"faq/#installation","text":"Download and run the the Photobooth Setup Wizard Choose 8 Rembg Setup This script will: Check for Python 3 and required packages Create a virtual environment in /var/www/rembg/rembg_venv Install rembg and its dependencies (PIL, onnxruntime) Verify the installation start rembg server via a system service on port 7000 (API endpoints are used by Photobooth), access rembg server at localhost:7000 ).","title":"Installation"},{"location":"faq/#configuration","text":"Open the Admin Panel: Navigate to http://localhost/admin (or http://localhost/photobooth/admin ) Enable Magic Greenscreen: Go to the \"Magic Greenscreen\" section (positioned between \"Custom\" and \"Gallery\") Check \"Remove background\" to enable the feature Optionally configure: Background image: Path to a custom background image (leave empty for transparent background) Background scaling mode: How the background image is scaled/cropped (default: scale-fill) scale-fill (recommended): Covers entire canvas, preserves aspect ratio, may crop edges scale-fit : Fits inside canvas, preserves aspect ratio, may have black bars crop-center : Crops from center to exact canvas size stretch : Stretches to fit (may distort) none : Direct copy without scaling (original behavior) AI model: Choose the AI model (default: u2net) Alpha matting: Enable for better edge quality Alpha matting thresholds: Fine-tune edge detection (advanced users) Post-processing: Enable for improved results Save Configuration: Click the \"Save\" button in the admin panel","title":"Configuration"},{"location":"faq/#usage","text":"Once enabled, Magic Greenscreen will automatically process photos after they are taken: Take a photo as usual using the photobooth The AI will automatically remove the background The processed image will be saved with a transparent or custom background Both original and processed images are available in the gallery","title":"Usage"},{"location":"faq/#supported-formats","text":"Input: JPEG, PNG, and other common image formats Output: PNG (for transparency) or JPEG (with custom background)","title":"Supported Formats"},{"location":"faq/#performance-notes","text":"Processing is performed on the CPU, it requires faster hardware to achieve optimal performance (not recommended for Raspberry Pi 4 or older) First processing may take longer as the AI model loads Processing time depends on image size and complexity Processing happens after photo capture and doesn't delay the user experience","title":"Performance Notes"},{"location":"faq/#troubleshooting","text":"First, make sure the rembg server is avalable ( localhost:7000 ). In case you're unable to access the rembg server, check the rembg server status: sudo systemctl status rembg.service","title":"Troubleshooting"},{"location":"faq/#rembg-virtual-environment-not-found-error","text":"Ensure the installation completed successfully","title":"\"rembg virtual environment not found\" error"},{"location":"faq/#processing-fails-or-takes-too-long","text":"Check available disk space Verify internet connection (some models may require online access) Check server logs in the debug panel: http://localhost/admin/debug ( or http://localhost/photobooth/admin/debugpanel ).","title":"Processing fails or takes too long"},{"location":"faq/#background-not-removed-properly","text":"Try a different AI model (u2net, u2netp, u2net_cloth_seg) Enable alpha matting for better edge detection Adjust alpha matting thresholds Ensure good lighting and contrast in the original photo","title":"Background not removed properly"},{"location":"faq/#memory-issues","text":"Disable post-processing if memory is limited Consider using a more powerful device","title":"Memory issues"},{"location":"faq/#advanced-configuration","text":"For advanced users, you can modify the rembg processing parameters: AI Models: u2net : General purpose (default) u2netp : Portrait optimized u2net_cloth_seg : Clothing segmentation silueta : Simple backgrounds isnet : High quality Alpha Matting: Improves edge quality around hair and fine details Post-processing: Applies additional smoothing and refinement","title":"Advanced Configuration"},{"location":"faq/#file-locations","text":"Virtual environment: /var/www/rembg/rembg_venv Processed images: /var/www/html/data/images/ (with background removed) Installation and uninstall: Run the Photobooth Setup Wizard","title":"File Locations"},{"location":"faq/#updating","text":"To update rembg to the latest version: source /var/www/rembg/rembg_venv/bin/activate pip install --upgrade rembg For additional support, check the Photobooth logs.","title":"Updating"},{"location":"faq/custom-collage/","text":"Custom collage design Use a custom collage layout by pointing the collage setting to private/collage.json . You can create the file manually or with the generator at http://localhost/admin/generator/index.php (or http://localhost/photobooth/admin/generator/index.php ). Save the admin panel after modifying the file so Photobooth recalculates the number of photos. Collage Layout JSON Lookup This document describes how the application searches for a collage layout .json file. The lookup process follows a strict priority order . Once a file is found, the search stops immediately. File Name The lookup is performed for a layout file defined by Photobooth. Possible file names: 1+2-1.json 1+3-1.json 1+3-2.json 2+1-1.json 2+2-1.json 2+2-2.json 2x3-1.json 2x3-2.json 2x4-1.json 2x4-2.json 2x4-3.json 2x4-4.json 3+1-1.json collage.json Lookup Order The application searches the following locations in order: 1. Private, orientation-specific private/collage/portrait/xxx.json private/collage/landscape/xxx.json 2. Private, collage root private/collage/xxx.json 3. Private, global root private/xxx.json 4. Template, orientation-specific template/collage/landscape/xxx.json template/collage/portrait/xxx.json 5. Template, collage root template/collage/xxx.json Lookup Rules The search is performed sequentially in the order listed above. As soon as a matching file is found, it is loaded and returned . No further locations are checked after a successful match. If no file is found in any location, the layout is considered not available . Basic layout format collage.json must be a valid JSON array; each inner array defines one photo position: [ [ \"0\", \"y * 0.055\", \"1.5 * y * 0.55546\", \"y * 0.55546\", \"10\", true ], [ \"x * 0.555\", \"y * 0.055\", \"1.5 * y * 0.40812\", \"y * 0.40812\", \"0\", false ], [ \"x * 0.555\", \"y * 0.5368\", \"1.5 * y * 0.40812\", \"y * 0.40812\", \"0\", true ] ] [ \"horizontal position\", \"vertical position\", \"width\", \"height\", \"rotation\", \"apply frame\" ] To test changes, reload http://localhost/test/collage.php (or http://localhost/photobooth/test/collage.php when installed in a subfolder). A malformed JSON (missing quotes, trailing commas) will break the layout. Extended collage object (v4.99+) Wrap the layout array in an object to set resolution, text, frames and backgrounds: { \"width\": \"1800\", \"height\": \"1200\", \"text_custom_style\": true, \"text_font_size\": \"50\", \"text_rotation\": \"10\", \"text_locationx\": \"200\", \"text_locationy\": \"220\", \"text_font_color\": \"#420C09\", \"text_font\": \"/resources/fonts/GreatVibes-Regular.ttf\", \"text_line1\": \"This is\", \"text_line2\": \"a\", \"text_line3\": \"Custom Collage\", \"text_linespace\": \"100\", \"apply_frame\": \"once\", \"frame\": \"/resources/img/frames/frame_stone.png\", \"background\": \"/resources/img/background.png\", \"background_color\": \"#FFFFFF\", \"placeholder\": true, \"placeholderpath\": \"/resources/img/background/01.jpg\", \"placeholderposition\": \"1\", \"layout\": [ ...layout array from above... ] } Notes: Define both width and height to override the default resolution. text_custom_style toggles text; the other text properties override admin settings. frame requires apply_frame set to once or always . placeholder uses placeholderpath at placeholderposition . Single framed images only work when apply_frame is always . Collage Frames and Backgrounds: Name Changes This guide explains how layout-specific frames and backgrounds are applied automatically if they exist. The system supports default templates with specific layout prefixes. How Name Changes Work When you select a collage layout, the system looks for layout-specific files : Frames: <layout>_<frame_filename> Backgrounds: <layout>_<background_filename> If the layout-specific file exists, it replaces the default. If it does not exist , the system uses the default file. Example: Default frame: basic.png Layout: 1+2-1 System checks for: 1+2-1_basic.png If exists \u2192 used automatically If not \u2192 falls back to basic.png Supported Layout Prefixes / Default Templates The following prefixes can be used when naming layout-specific frame or background files (based on default available templates): 1+2-1 1+3-1 1+3-2 2+1-1 2+2-1 2+2-2 2x3-1 2x3-2 2x4-1 2x4-2 2x4-3 2x4-4 3+1-1 collage.json User Guidelines Upload layout-specific files using the pattern: <layout>_<filename> Example: 2+2-1_frame.png or 2+4-2_background.jpg or collage.json_background.jpg Keep default files in place for fallback. Example: frame.png , background.jpg Automatic selection: When a layout is selected, the system checks if a layout-specific file exists. If it exists, it replaces the default automatically. If not, the default is used. Example Workflow Selected Layout Default Frame Layout-Specific Frame Used 2+2-1 basic.png 2+2-1_basic.png 2x4-2 basic.png 2x4-2_basic.png Backgrounds follow the same naming convention . Example: 2x3-1_white.png replaces white.png if it exists.","title":"Custom collage design"},{"location":"faq/custom-collage/#custom-collage-design","text":"Use a custom collage layout by pointing the collage setting to private/collage.json . You can create the file manually or with the generator at http://localhost/admin/generator/index.php (or http://localhost/photobooth/admin/generator/index.php ). Save the admin panel after modifying the file so Photobooth recalculates the number of photos.","title":"Custom collage design"},{"location":"faq/custom-collage/#collage-layout-json-lookup","text":"This document describes how the application searches for a collage layout .json file. The lookup process follows a strict priority order . Once a file is found, the search stops immediately.","title":"Collage Layout JSON Lookup"},{"location":"faq/custom-collage/#file-name","text":"The lookup is performed for a layout file defined by Photobooth. Possible file names: 1+2-1.json 1+3-1.json 1+3-2.json 2+1-1.json 2+2-1.json 2+2-2.json 2x3-1.json 2x3-2.json 2x4-1.json 2x4-2.json 2x4-3.json 2x4-4.json 3+1-1.json collage.json","title":"File Name"},{"location":"faq/custom-collage/#lookup-order","text":"The application searches the following locations in order:","title":"Lookup Order"},{"location":"faq/custom-collage/#1-private-orientation-specific","text":"private/collage/portrait/xxx.json private/collage/landscape/xxx.json","title":"1. Private, orientation-specific"},{"location":"faq/custom-collage/#2-private-collage-root","text":"private/collage/xxx.json","title":"2. Private, collage root"},{"location":"faq/custom-collage/#3-private-global-root","text":"private/xxx.json","title":"3. Private, global root"},{"location":"faq/custom-collage/#4-template-orientation-specific","text":"template/collage/landscape/xxx.json template/collage/portrait/xxx.json","title":"4. Template, orientation-specific"},{"location":"faq/custom-collage/#5-template-collage-root","text":"template/collage/xxx.json","title":"5. Template, collage root"},{"location":"faq/custom-collage/#lookup-rules","text":"The search is performed sequentially in the order listed above. As soon as a matching file is found, it is loaded and returned . No further locations are checked after a successful match. If no file is found in any location, the layout is considered not available .","title":"Lookup Rules"},{"location":"faq/custom-collage/#basic-layout-format","text":"collage.json must be a valid JSON array; each inner array defines one photo position: [ [ \"0\", \"y * 0.055\", \"1.5 * y * 0.55546\", \"y * 0.55546\", \"10\", true ], [ \"x * 0.555\", \"y * 0.055\", \"1.5 * y * 0.40812\", \"y * 0.40812\", \"0\", false ], [ \"x * 0.555\", \"y * 0.5368\", \"1.5 * y * 0.40812\", \"y * 0.40812\", \"0\", true ] ] [ \"horizontal position\", \"vertical position\", \"width\", \"height\", \"rotation\", \"apply frame\" ] To test changes, reload http://localhost/test/collage.php (or http://localhost/photobooth/test/collage.php when installed in a subfolder). A malformed JSON (missing quotes, trailing commas) will break the layout.","title":"Basic layout format"},{"location":"faq/custom-collage/#extended-collage-object-v499","text":"Wrap the layout array in an object to set resolution, text, frames and backgrounds: { \"width\": \"1800\", \"height\": \"1200\", \"text_custom_style\": true, \"text_font_size\": \"50\", \"text_rotation\": \"10\", \"text_locationx\": \"200\", \"text_locationy\": \"220\", \"text_font_color\": \"#420C09\", \"text_font\": \"/resources/fonts/GreatVibes-Regular.ttf\", \"text_line1\": \"This is\", \"text_line2\": \"a\", \"text_line3\": \"Custom Collage\", \"text_linespace\": \"100\", \"apply_frame\": \"once\", \"frame\": \"/resources/img/frames/frame_stone.png\", \"background\": \"/resources/img/background.png\", \"background_color\": \"#FFFFFF\", \"placeholder\": true, \"placeholderpath\": \"/resources/img/background/01.jpg\", \"placeholderposition\": \"1\", \"layout\": [ ...layout array from above... ] } Notes: Define both width and height to override the default resolution. text_custom_style toggles text; the other text properties override admin settings. frame requires apply_frame set to once or always . placeholder uses placeholderpath at placeholderposition . Single framed images only work when apply_frame is always .","title":"Extended collage object (v4.99+)"},{"location":"faq/custom-collage/#collage-frames-and-backgrounds-name-changes","text":"This guide explains how layout-specific frames and backgrounds are applied automatically if they exist. The system supports default templates with specific layout prefixes.","title":"Collage Frames and Backgrounds: Name Changes"},{"location":"faq/custom-collage/#how-name-changes-work","text":"When you select a collage layout, the system looks for layout-specific files : Frames: <layout>_<frame_filename> Backgrounds: <layout>_<background_filename> If the layout-specific file exists, it replaces the default. If it does not exist , the system uses the default file. Example: Default frame: basic.png Layout: 1+2-1 System checks for: 1+2-1_basic.png If exists \u2192 used automatically If not \u2192 falls back to basic.png","title":"How Name Changes Work"},{"location":"faq/custom-collage/#supported-layout-prefixes-default-templates","text":"The following prefixes can be used when naming layout-specific frame or background files (based on default available templates): 1+2-1 1+3-1 1+3-2 2+1-1 2+2-1 2+2-2 2x3-1 2x3-2 2x4-1 2x4-2 2x4-3 2x4-4 3+1-1 collage.json","title":"Supported Layout Prefixes / Default Templates"},{"location":"faq/custom-collage/#user-guidelines","text":"Upload layout-specific files using the pattern: <layout>_<filename> Example: 2+2-1_frame.png or 2+4-2_background.jpg or collage.json_background.jpg Keep default files in place for fallback. Example: frame.png , background.jpg Automatic selection: When a layout is selected, the system checks if a layout-specific file exists. If it exists, it replaces the default automatically. If not, the default is used.","title":"User Guidelines"},{"location":"faq/custom-collage/#example-workflow","text":"Selected Layout Default Frame Layout-Specific Frame Used 2+2-1 basic.png 2+2-1_basic.png 2x4-2 basic.png 2x4-2_basic.png Backgrounds follow the same naming convention . Example: 2x3-1_white.png replaces white.png if it exists.","title":"Example Workflow"},{"location":"faq/go2rtc-troubleshooting/","text":"go2rtc Troubleshooting Initial notes make sure your camera is supported by one of the following libraries: gphoto2 rpicam-apps fswebcam make sure your camera is working on Photobooth without setting up go2rtc for preview if not tested: uninstall go2rtc while running the Photobooth Setup Wizard again (4 go2rtc --> 6 Uninstall go2rtc and the related services). make sure you can access http://localhost:1984/api/stream.mjpeg?src=photobooth and having the stream available. If your camera is supported in general but not having a preview available please check go2rtc for errors. Access go2rtc via http://localhost:1984 and, maybe, adjust the config if needed. About the capture wrapper used to capture images capture is simply a wrapper and accepts exactly the same parameters as gphoto2 / rpicam-apps / fswebcam . The only difference is that the wrapper does the following: 1 Stops Go2rtc 2 executes gphoto2 / rpicam-still / fswebcam with the corresponding parameters. If only %s is passed, it uses by default the following arguments: on gphoto2 : --set-config output=Off --capture-image-and-download --filename=%s on rpicam-still : -n -q 100 -o %s on fswebcam : --no-banner -d /dev/video0 -r 1280x720 %s Note: : %s gets replaced by Photobooth with the corresponding path and filename. Run capture --help inside your terminal to get information about the usage of the capture wrapper. 3 Restarts go2rtc That means: anything that works with the command gphoto2 / rpicam-still / fswebcam will also work with capture, and the word can simply be replaced. What\u2019s not covered there is a timing issue related to previewing via go2rtc. Problem Solving: go2rtc Preview via gphoto2 Error: could not claim the USB Device Another process is using the camera. That's what the log says. Therefore, it can't record. If you're using gphoto2 this issue is generally addressed inside the troubleshooting for gphoto2, but could also happen because of timing problems. The preview is created using gphoto2 and streamed by go2rtc. In some rare cases, the preview may not be fully stopped when the capture is triggered. Usually, it's just milliseconds that cause problems. Continue reading on Delay capture to know how to fix possible timing issues. Error: Device is busy If the preview is running, the camera may be busy when trying to capture an image. This can lead to errors like \"Device is busy\" or \"Could not claim the USB device\". There is a bug in go2rtc startingF by version 1.9.10 which keeps the camera in use even after stopping the preview. Try to downgrade to version 1.9.9 as a workaround: sudo bash install-photobooth.sh choose 4 go2rtc choose 5 updat or downgrade go2rtc only chose 1.9.9 Delay capture We can use a tiny pause between stopping the preview and starting the capture to work around this: sudo wget -O /usr/local/bin/capture https://raw.githubusercontent.com/PhotoboothProject/photobooth/refs/heads/dev/scripts/capture-gphoto2 sudo chmod +x /usr/local/bin/capture The updated wrapper includes a half-second pause after stopping the preview and before triggering the capture. Now try again! Didn\u2019t work? Then continue... Force the camera to exit Live View It may be necessary to manually take the camera out of Live View mode. Adjust the capture command (this doesn't work with all cameras!): capture --set-config movie=0 --trigger-capture --wait-event-and-download=FILEADDED --filename=%s Now try again! Didn\u2019t work? Then continue... More alternative capture commands capture --trigger-capture --wait-event-and-download=FILEADDED --filename=%s Or: capture --wait-event=300ms --capture-image-and-download --filename=%s For some cameras, this can also noticeably speed up the capture process. Now try again! Didn\u2019t work? Then continue... Set the default go2rtc config correctly Open http://localhost/admin/captureconfig.php (or http://localhost/photobooth/admin/captureconfig.php ) to apply the default suggested configuration automatically. Then try again. Capture frame directly from preview Another alternative, without starting or stopping the preview, is to pull a frame directly from go2rtc. Open http://localhost/admin/wgetcaptureconfig.php (or http://localhost/photobooth/admin/wgetcaptureconfig.php ) to apply the adjusted configuration. Then try again. Adjusting the go2rtc configuration It might be needed to update the go2rtc configuration for personal needs or because of camera specific needed changes. To allow adjustments of the config via web interface adjust the permissions: sudo chmod 755 /etc/go2rtc.yaml Access go2rtc via http://localhost:1984 . Alternative: Open the corresponding configuration file with root privileges: sudo nano /etc/go2rtc.yaml Make your changes and save them, after that restart go2rtc to apply: sudo systemctl stop go2rtc sudo systemctl start go2rtc The full configuration documentation can be found here inside the go2rtc GitHub repository. Camera specific notes While setting up go2rtc using the Photobooth Setup Wizard we're creating a default configuration which covers a wide range of devices. It might be, that your camera does not work out of the box with the default configuration and requires some extra work to be used on Photobooth. You're always welcome to contribute camera specific notes not listed below. Dont forget to restart go2rtc after changing the configuration! sudo systemctl stop go2rtc sudo systemctl start go2rtc Raspberry Pi Camera Modules Default preview width and height match the Pi Camera v3. You might need to adjust the width and height inside the go2rtc configuration to matching values for your camera module. Canon EOS 500D Camera Mode must be set to P If still having trouble accessing the preview please adjust the go2rtc configuration: streams: photobooth: - \"exec:gphoto2 --capture-movie --stdout#input=mjpeg#video=h264#encoder=h264_v4l2m2m#fps=25#bitrate=2M\" log: exec: trace Canon EOS EOS40D streams: photobooth: - \"exec:gphoto2 --capture-movie --stdout#input=mjpeg#fps=8#scale=640:480#pause-on-snapshot=true\" log: exec: trace","title":"GO2RTC Troubleshooting"},{"location":"faq/go2rtc-troubleshooting/#go2rtc-troubleshooting","text":"","title":"go2rtc Troubleshooting"},{"location":"faq/go2rtc-troubleshooting/#initial-notes","text":"make sure your camera is supported by one of the following libraries: gphoto2 rpicam-apps fswebcam make sure your camera is working on Photobooth without setting up go2rtc for preview if not tested: uninstall go2rtc while running the Photobooth Setup Wizard again (4 go2rtc --> 6 Uninstall go2rtc and the related services). make sure you can access http://localhost:1984/api/stream.mjpeg?src=photobooth and having the stream available. If your camera is supported in general but not having a preview available please check go2rtc for errors. Access go2rtc via http://localhost:1984 and, maybe, adjust the config if needed.","title":"Initial notes"},{"location":"faq/go2rtc-troubleshooting/#about-the-capture-wrapper-used-to-capture-images","text":"capture is simply a wrapper and accepts exactly the same parameters as gphoto2 / rpicam-apps / fswebcam . The only difference is that the wrapper does the following: 1 Stops Go2rtc 2 executes gphoto2 / rpicam-still / fswebcam with the corresponding parameters. If only %s is passed, it uses by default the following arguments: on gphoto2 : --set-config output=Off --capture-image-and-download --filename=%s on rpicam-still : -n -q 100 -o %s on fswebcam : --no-banner -d /dev/video0 -r 1280x720 %s Note: : %s gets replaced by Photobooth with the corresponding path and filename. Run capture --help inside your terminal to get information about the usage of the capture wrapper. 3 Restarts go2rtc That means: anything that works with the command gphoto2 / rpicam-still / fswebcam will also work with capture, and the word can simply be replaced. What\u2019s not covered there is a timing issue related to previewing via go2rtc.","title":"About the capture wrapper used to capture images"},{"location":"faq/go2rtc-troubleshooting/#problem-solving-go2rtc-preview-via-gphoto2","text":"","title":"Problem Solving: go2rtc Preview via gphoto2"},{"location":"faq/go2rtc-troubleshooting/#error-could-not-claim-the-usb-device","text":"Another process is using the camera. That's what the log says. Therefore, it can't record. If you're using gphoto2 this issue is generally addressed inside the troubleshooting for gphoto2, but could also happen because of timing problems. The preview is created using gphoto2 and streamed by go2rtc. In some rare cases, the preview may not be fully stopped when the capture is triggered. Usually, it's just milliseconds that cause problems. Continue reading on Delay capture to know how to fix possible timing issues.","title":"Error: could not claim the USB Device"},{"location":"faq/go2rtc-troubleshooting/#error-device-is-busy","text":"If the preview is running, the camera may be busy when trying to capture an image. This can lead to errors like \"Device is busy\" or \"Could not claim the USB device\". There is a bug in go2rtc startingF by version 1.9.10 which keeps the camera in use even after stopping the preview. Try to downgrade to version 1.9.9 as a workaround: sudo bash install-photobooth.sh choose 4 go2rtc choose 5 updat or downgrade go2rtc only chose 1.9.9","title":"Error: Device is busy"},{"location":"faq/go2rtc-troubleshooting/#delay-capture","text":"We can use a tiny pause between stopping the preview and starting the capture to work around this: sudo wget -O /usr/local/bin/capture https://raw.githubusercontent.com/PhotoboothProject/photobooth/refs/heads/dev/scripts/capture-gphoto2 sudo chmod +x /usr/local/bin/capture The updated wrapper includes a half-second pause after stopping the preview and before triggering the capture. Now try again! Didn\u2019t work? Then continue...","title":"Delay capture"},{"location":"faq/go2rtc-troubleshooting/#force-the-camera-to-exit-live-view","text":"It may be necessary to manually take the camera out of Live View mode. Adjust the capture command (this doesn't work with all cameras!): capture --set-config movie=0 --trigger-capture --wait-event-and-download=FILEADDED --filename=%s Now try again! Didn\u2019t work? Then continue...","title":"Force the camera to exit Live View"},{"location":"faq/go2rtc-troubleshooting/#more-alternative-capture-commands","text":"capture --trigger-capture --wait-event-and-download=FILEADDED --filename=%s Or: capture --wait-event=300ms --capture-image-and-download --filename=%s For some cameras, this can also noticeably speed up the capture process. Now try again! Didn\u2019t work? Then continue...","title":"More alternative capture commands"},{"location":"faq/go2rtc-troubleshooting/#set-the-default-go2rtc-config-correctly","text":"Open http://localhost/admin/captureconfig.php (or http://localhost/photobooth/admin/captureconfig.php ) to apply the default suggested configuration automatically. Then try again.","title":"Set the default go2rtc config correctly"},{"location":"faq/go2rtc-troubleshooting/#capture-frame-directly-from-preview","text":"Another alternative, without starting or stopping the preview, is to pull a frame directly from go2rtc. Open http://localhost/admin/wgetcaptureconfig.php (or http://localhost/photobooth/admin/wgetcaptureconfig.php ) to apply the adjusted configuration. Then try again.","title":"Capture frame directly from preview"},{"location":"faq/go2rtc-troubleshooting/#adjusting-the-go2rtc-configuration","text":"It might be needed to update the go2rtc configuration for personal needs or because of camera specific needed changes. To allow adjustments of the config via web interface adjust the permissions: sudo chmod 755 /etc/go2rtc.yaml Access go2rtc via http://localhost:1984 . Alternative: Open the corresponding configuration file with root privileges: sudo nano /etc/go2rtc.yaml Make your changes and save them, after that restart go2rtc to apply: sudo systemctl stop go2rtc sudo systemctl start go2rtc The full configuration documentation can be found here inside the go2rtc GitHub repository.","title":"Adjusting the go2rtc configuration"},{"location":"faq/go2rtc-troubleshooting/#camera-specific-notes","text":"While setting up go2rtc using the Photobooth Setup Wizard we're creating a default configuration which covers a wide range of devices. It might be, that your camera does not work out of the box with the default configuration and requires some extra work to be used on Photobooth. You're always welcome to contribute camera specific notes not listed below. Dont forget to restart go2rtc after changing the configuration! sudo systemctl stop go2rtc sudo systemctl start go2rtc","title":"Camera specific notes"},{"location":"faq/go2rtc-troubleshooting/#raspberry-pi-camera-modules","text":"Default preview width and height match the Pi Camera v3. You might need to adjust the width and height inside the go2rtc configuration to matching values for your camera module.","title":"Raspberry Pi Camera Modules"},{"location":"faq/go2rtc-troubleshooting/#canon-eos-500d","text":"Camera Mode must be set to P If still having trouble accessing the preview please adjust the go2rtc configuration: streams: photobooth: - \"exec:gphoto2 --capture-movie --stdout#input=mjpeg#video=h264#encoder=h264_v4l2m2m#fps=25#bitrate=2M\" log: exec: trace","title":"Canon EOS 500D"},{"location":"faq/go2rtc-troubleshooting/#canon-eos-eos40d","text":"streams: photobooth: - \"exec:gphoto2 --capture-movie --stdout#input=mjpeg#fps=8#scale=640:480#pause-on-snapshot=true\" log: exec: trace","title":"Canon EOS EOS40D"},{"location":"faq/gphoto2-troubleshooting/","text":"GPhoto2 Troubleshooting GPhoto2 is a software that allows taking images via Photobooth. Full documentation is available at gphoto.org . General Known Issues Check Camera Support Ensure \"Image capture\" is supported for your camera: Camera Support List Try Different Camera Modes Not every mode is supported by GPhoto2. Set Camera to JPEG/JPG Only Photobooth does not support RAW images. Reducing image quality may improve performance, especially on low-end hardware like Raspberry Pi. Disable Auto-Focus GPhoto2 cannot take pictures if the camera cannot find focus. Turn Off WiFi Some cameras have connection issues when WiFi is enabled. Insert SD Card GPhoto2 may fail to trigger images if no SD card is inserted. Set Capture Target to Memory Card Sometimes, you need to manually set the capture target: gphoto2 --get-config capturetarget Example output: pi@raspberrypi:~ $ gphoto2 --get-config capturetarget Label: Capture Target Readonly: 0 Type: RADIO Current: Internal RAM Choice: 0 Internal RAM Choice: 1 Memory card <--- !!! Adjust your capture command: gphoto2 --set-config capturetarget=1 --capture-image-and-download --filename=%s Hardware Issues Ensure the USB port provides enough power. Check for defective USB cables. Permission Issues 1. Test as Current User gphoto2 --capture-image-and-download --filename=test.jpg No: Recheck previous steps Yes: Continue testing 2. Test as www-data User cd /var/www/html sudo -u www-data -s gphoto2 --capture-image-and-download --filename=test.jpg Yes: Check Photobooth configuration or reset it No: Fix permissions: sudo chown -R www-data:www-data /var/www/ sudo gpasswd -a www-data plugdev reboot 3. Check for Conflicting Processes Disable gvfs-gphoto2-volume-monitor if necessary: sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor reboot 4. Update GPhoto2 and libgphoto2 wget -O gphoto2-updater.sh https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/gphoto2-updater.sh wget -O .env https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/.env chmod +x gphoto2-updater.sh sudo ./gphoto2-updater.sh --development sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor reboot Special Notes Alternative Capture Commands gphoto2 --trigger-capture --wait-event-and-download=FILEADDED --filename=%s gphoto2 --wait-event=300ms --capture-image-and-download --filename=%s gphoto2 --set-config output=Off --trigger-capture --wait-event-and-download=FILEADDED --filename=%s gphoto2 --set-config output=Off --wait-event=300ms --capture-image-and-download --filename=%s Canon EOS Models EOS 1300D gphoto2 --wait-event=300ms --capture-image-and-download --filename=%s EOS 2000D gphoto2 --set-config output=Off --trigger-capture --wait-event-and-download=FILEADDED --filename=%s","title":"gphoto2 Troubleshooting"},{"location":"faq/gphoto2-troubleshooting/#gphoto2-troubleshooting","text":"GPhoto2 is a software that allows taking images via Photobooth. Full documentation is available at gphoto.org .","title":"GPhoto2 Troubleshooting"},{"location":"faq/gphoto2-troubleshooting/#general-known-issues","text":"Check Camera Support Ensure \"Image capture\" is supported for your camera: Camera Support List Try Different Camera Modes Not every mode is supported by GPhoto2. Set Camera to JPEG/JPG Only Photobooth does not support RAW images. Reducing image quality may improve performance, especially on low-end hardware like Raspberry Pi. Disable Auto-Focus GPhoto2 cannot take pictures if the camera cannot find focus. Turn Off WiFi Some cameras have connection issues when WiFi is enabled. Insert SD Card GPhoto2 may fail to trigger images if no SD card is inserted. Set Capture Target to Memory Card Sometimes, you need to manually set the capture target: gphoto2 --get-config capturetarget Example output: pi@raspberrypi:~ $ gphoto2 --get-config capturetarget Label: Capture Target Readonly: 0 Type: RADIO Current: Internal RAM Choice: 0 Internal RAM Choice: 1 Memory card <--- !!! Adjust your capture command: gphoto2 --set-config capturetarget=1 --capture-image-and-download --filename=%s","title":"General Known Issues"},{"location":"faq/gphoto2-troubleshooting/#hardware-issues","text":"Ensure the USB port provides enough power. Check for defective USB cables.","title":"Hardware Issues"},{"location":"faq/gphoto2-troubleshooting/#permission-issues","text":"1. Test as Current User gphoto2 --capture-image-and-download --filename=test.jpg No: Recheck previous steps Yes: Continue testing 2. Test as www-data User cd /var/www/html sudo -u www-data -s gphoto2 --capture-image-and-download --filename=test.jpg Yes: Check Photobooth configuration or reset it No: Fix permissions: sudo chown -R www-data:www-data /var/www/ sudo gpasswd -a www-data plugdev reboot 3. Check for Conflicting Processes Disable gvfs-gphoto2-volume-monitor if necessary: sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor reboot 4. Update GPhoto2 and libgphoto2 wget -O gphoto2-updater.sh https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/gphoto2-updater.sh wget -O .env https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/.env chmod +x gphoto2-updater.sh sudo ./gphoto2-updater.sh --development sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor reboot","title":"Permission Issues"},{"location":"faq/gphoto2-troubleshooting/#special-notes","text":"","title":"Special Notes"},{"location":"faq/gphoto2-troubleshooting/#alternative-capture-commands","text":"gphoto2 --trigger-capture --wait-event-and-download=FILEADDED --filename=%s gphoto2 --wait-event=300ms --capture-image-and-download --filename=%s gphoto2 --set-config output=Off --trigger-capture --wait-event-and-download=FILEADDED --filename=%s gphoto2 --set-config output=Off --wait-event=300ms --capture-image-and-download --filename=%s","title":"Alternative Capture Commands"},{"location":"faq/gphoto2-troubleshooting/#canon-eos-models","text":"EOS 1300D gphoto2 --wait-event=300ms --capture-image-and-download --filename=%s EOS 2000D gphoto2 --set-config output=Off --trigger-capture --wait-event-and-download=FILEADDED --filename=%s","title":"Canon EOS Models"},{"location":"faq/hide-cursor/","text":"Hide cursor, screen blanking and screen saver Note: Tools like unclutter do not work on Wayland. Pi OS Trixie (Wayland) Hide the cursor by renaming the pointer icon: sudo mv /usr/share/icons/PiXtrix/cursors/left_ptr /usr/share/icons/PiXtrix/cursors/left_ptr.bak Restore it later: sudo mv /usr/share/icons/PiXtrix/cursors/left_ptr.bak /usr/share/icons/PiXtrix/cursors/left_ptr Pi OS Bookworm (Wayland) Hide the cursor: sudo mv /usr/share/icons/PiXflat/cursors/left_ptr /usr/share/icons/PiXflat/cursors/left_ptr.bak Disable screen blanking: sudo raspi-config nonint do_blanking 1 Re-enable: sudo raspi-config nonint do_blanking 0 Turn off the screensaver by editing /etc/xdg/lxsession/LXDE-pi/autostart and removing @xscreensaver -no-splash . Prevent DPMS screen blanking by creating /etc/X11/xorg.conf.d/99-dpms.conf : Section \"Monitor\" Identifier \"HDMI-1\" Option \"DPMS\" \"false\" EndSection Restart LXDE to apply: lxsession-logout Pi OS Bullseye and earlier (X11) Disable screensaver and screen blanking with sudo raspi-config : 1 System Options \u2192 S6 Boot / Auto Login \u2192 choose desktop auto-login. 1 System Options \u2192 S6 Screen Blanking \u2192 disable. If needed, add to /etc/xdg/lxsession/LXDE-pi/autostart : @xset s off @xset -dpms @xset s noblank @unclutter -idle 0","title":"Hide cursor & screen blanking"},{"location":"faq/hide-cursor/#hide-cursor-screen-blanking-and-screen-saver","text":"Note: Tools like unclutter do not work on Wayland.","title":"Hide cursor, screen blanking and screen saver"},{"location":"faq/hide-cursor/#pi-os-trixie-wayland","text":"Hide the cursor by renaming the pointer icon: sudo mv /usr/share/icons/PiXtrix/cursors/left_ptr /usr/share/icons/PiXtrix/cursors/left_ptr.bak Restore it later: sudo mv /usr/share/icons/PiXtrix/cursors/left_ptr.bak /usr/share/icons/PiXtrix/cursors/left_ptr","title":"Pi OS Trixie (Wayland)"},{"location":"faq/hide-cursor/#pi-os-bookworm-wayland","text":"Hide the cursor: sudo mv /usr/share/icons/PiXflat/cursors/left_ptr /usr/share/icons/PiXflat/cursors/left_ptr.bak Disable screen blanking: sudo raspi-config nonint do_blanking 1 Re-enable: sudo raspi-config nonint do_blanking 0 Turn off the screensaver by editing /etc/xdg/lxsession/LXDE-pi/autostart and removing @xscreensaver -no-splash . Prevent DPMS screen blanking by creating /etc/X11/xorg.conf.d/99-dpms.conf : Section \"Monitor\" Identifier \"HDMI-1\" Option \"DPMS\" \"false\" EndSection Restart LXDE to apply: lxsession-logout","title":"Pi OS Bookworm (Wayland)"},{"location":"faq/hide-cursor/#pi-os-bullseye-and-earlier-x11","text":"Disable screensaver and screen blanking with sudo raspi-config : 1 System Options \u2192 S6 Boot / Auto Login \u2192 choose desktop auto-login. 1 System Options \u2192 S6 Screen Blanking \u2192 disable. If needed, add to /etc/xdg/lxsession/LXDE-pi/autostart : @xset s off @xset -dpms @xset s noblank @unclutter -idle 0","title":"Pi OS Bullseye and earlier (X11)"},{"location":"faq/kiosk-mode/","text":"Enable kiosk mode Use the Photobooth Setup Wizard first: 7 Misc \u2192 1 Autostart and shortcut . If you need manual steps, use the OS-specific guidance below. Firefox Basic Kiosk Mode firefox --kiosk http://localhost Notes Launches Firefox fullscreen Hides UI elements and prevents normal window controls Chrome / Chromium Use chromium or google-chrome depending on your distribution/installed package. Basic Kiosk Mode chromium --kiosk http://localhost Recommended Kiosk Flags chromium \\ --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic Flag Descriptions Flag Purpose --kiosk Fullscreen kiosk mode --noerrdialogs Suppresses crash and error dialogs --disable-infobars Hides automation and warning banners --disable-features=Translate Disables translation prompts --no-first-run Skips first-run UI --check-for-update-interval=31536000 Effectively disables update checks --touch-events=enabled Enables touchscreen input --password-store=basic Avoids dependency on desktop keyrings Raspberry Pi\u2013Specific Options Wayland (Recommended on Newer Raspberry Pi OS) chromium \\ --kiosk http://localhost \\ --ozone-platform=wayland \\ --start-maximized Notes --ozone-platform=wayland enables native Wayland support --start-maximized ensures correct initial sizing X11 (Legacy / Fallback) chromium \\ --kiosk http://localhost \\ --use-gl=egl Notes --use-gl=egl improves GPU acceleration on Raspberry Pi under X11 Full Example (Raspberry Pi + Wayland) chromium \\ --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized Example .desktop File The following example assumes: Application name: Photobooth The icon ( photobooth ) was installed by the SetupWizard Chromium is used as the kiosk browser photobooth.desktop [Desktop Entry] Version=1.3 Type=Application Name=Photobooth Comment=Photobooth Kiosk Application Terminal=false Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic Icon=photobooth StartupNotify=false Categories=Utility; Raspberry Pi Wayland Variant ( Exec Line Only) Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized Raspberry Pi X11 Variant ( Exec Line Only) Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --use-gl=egl Installation Locations System-wide /usr/share/applications/photobooth.desktop Per-user ~/.local/share/applications/photobooth.desktop After installing or modifying the file: update-desktop-database System-Wide Autostart with XDG Using /etc/xdg/autostart/photobooth.desktop ensures the application launches automatically for all users when a graphical session starts (LXDE, XFCE, GNOME, etc.). Autostart on Raspberry Pi OS Bookworm (Wayland) Raspberry Pi OS Bookworm uses Wayland by default. The two supported compositors documented here are labwc (default) and Wayfire . labwc (default) Create ~/.config/labwc/autostart (or add to the existing [autostart] section) as follows: [autostart] chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized Wayfire Edit ~/.config/wayfire.ini and add or update the [autostart] section as follows: [autostart] chromium = chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized","title":"Kiosk mode"},{"location":"faq/kiosk-mode/#enable-kiosk-mode","text":"Use the Photobooth Setup Wizard first: 7 Misc \u2192 1 Autostart and shortcut . If you need manual steps, use the OS-specific guidance below.","title":"Enable kiosk mode"},{"location":"faq/kiosk-mode/#firefox","text":"","title":"Firefox"},{"location":"faq/kiosk-mode/#basic-kiosk-mode","text":"firefox --kiosk http://localhost Notes Launches Firefox fullscreen Hides UI elements and prevents normal window controls","title":"Basic Kiosk Mode"},{"location":"faq/kiosk-mode/#chrome-chromium","text":"Use chromium or google-chrome depending on your distribution/installed package.","title":"Chrome / Chromium"},{"location":"faq/kiosk-mode/#basic-kiosk-mode_1","text":"chromium --kiosk http://localhost","title":"Basic Kiosk Mode"},{"location":"faq/kiosk-mode/#recommended-kiosk-flags","text":"chromium \\ --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic Flag Descriptions Flag Purpose --kiosk Fullscreen kiosk mode --noerrdialogs Suppresses crash and error dialogs --disable-infobars Hides automation and warning banners --disable-features=Translate Disables translation prompts --no-first-run Skips first-run UI --check-for-update-interval=31536000 Effectively disables update checks --touch-events=enabled Enables touchscreen input --password-store=basic Avoids dependency on desktop keyrings","title":"Recommended Kiosk Flags"},{"location":"faq/kiosk-mode/#raspberry-pispecific-options","text":"","title":"Raspberry Pi\u2013Specific Options"},{"location":"faq/kiosk-mode/#wayland-recommended-on-newer-raspberry-pi-os","text":"chromium \\ --kiosk http://localhost \\ --ozone-platform=wayland \\ --start-maximized Notes --ozone-platform=wayland enables native Wayland support --start-maximized ensures correct initial sizing","title":"Wayland (Recommended on Newer Raspberry Pi OS)"},{"location":"faq/kiosk-mode/#x11-legacy-fallback","text":"chromium \\ --kiosk http://localhost \\ --use-gl=egl Notes --use-gl=egl improves GPU acceleration on Raspberry Pi under X11","title":"X11 (Legacy / Fallback)"},{"location":"faq/kiosk-mode/#full-example-raspberry-pi-wayland","text":"chromium \\ --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized","title":"Full Example (Raspberry Pi + Wayland)"},{"location":"faq/kiosk-mode/#example-desktop-file","text":"The following example assumes: Application name: Photobooth The icon ( photobooth ) was installed by the SetupWizard Chromium is used as the kiosk browser","title":"Example .desktop File"},{"location":"faq/kiosk-mode/#photoboothdesktop","text":"[Desktop Entry] Version=1.3 Type=Application Name=Photobooth Comment=Photobooth Kiosk Application Terminal=false Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic Icon=photobooth StartupNotify=false Categories=Utility;","title":"photobooth.desktop"},{"location":"faq/kiosk-mode/#raspberry-pi-wayland-variant-exec-line-only","text":"Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized","title":"Raspberry Pi Wayland Variant (Exec Line Only)"},{"location":"faq/kiosk-mode/#raspberry-pi-x11-variant-exec-line-only","text":"Exec=chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --use-gl=egl","title":"Raspberry Pi X11 Variant (Exec Line Only)"},{"location":"faq/kiosk-mode/#installation-locations","text":"System-wide /usr/share/applications/photobooth.desktop Per-user ~/.local/share/applications/photobooth.desktop After installing or modifying the file: update-desktop-database","title":"Installation Locations"},{"location":"faq/kiosk-mode/#system-wide-autostart-with-xdg","text":"Using /etc/xdg/autostart/photobooth.desktop ensures the application launches automatically for all users when a graphical session starts (LXDE, XFCE, GNOME, etc.).","title":"System-Wide Autostart with XDG"},{"location":"faq/kiosk-mode/#autostart-on-raspberry-pi-os-bookworm-wayland","text":"Raspberry Pi OS Bookworm uses Wayland by default. The two supported compositors documented here are labwc (default) and Wayfire .","title":"Autostart on Raspberry Pi OS Bookworm (Wayland)"},{"location":"faq/kiosk-mode/#labwc-default","text":"Create ~/.config/labwc/autostart (or add to the existing [autostart] section) as follows: [autostart] chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized","title":"labwc (default)"},{"location":"faq/kiosk-mode/#wayfire","text":"Edit ~/.config/wayfire.ini and add or update the [autostart] section as follows: [autostart] chromium = chromium --kiosk http://localhost \\ --noerrdialogs \\ --disable-infobars \\ --disable-features=Translate \\ --no-first-run \\ --check-for-update-interval=31536000 \\ --touch-events=enabled \\ --password-store=basic \\ --ozone-platform=wayland \\ --start-maximized","title":"Wayfire"},{"location":"faq/pi-camera/","text":"Pi Camera setup Yes, Pi Cameras are supported. Make sure your Pi can capture an image from the terminal before using Photobooth. Verify your camera works Try a capture command that matches your Pi OS version: Bookworm: rpicam-still -n -o test.jpg -q 100 -t 1 Bullseye: libcamera-still -n -o test.jpg -q 100 -t 1 Buster and earlier: raspistill -n -o test.jpg -q 100 -t 1 Add the web server user to the video group and reboot: sudo gpasswd -a www-data video reboot Configure Photobooth commands Open the adminpanel ( http://localhost/admin or http://localhost/photobooth/admin ) and set the capture command that matches your OS: Pi OS (Bookworm and newer): rpicam-still -n -o %s -q 100 -t 1 | echo Done Pi OS (Bullseye): libcamera-still -n -o %s -q 100 -t 1 | echo Done Pi OS (Buster): raspistill -n -o %s -q 100 -t 1 | echo Done The echo ensures Photobooth sees a response after the capture finishes. You can append extra parameters (ISO, exposure, white balance, etc.); run the command with -? to list options.","title":"Pi Camera setup"},{"location":"faq/pi-camera/#pi-camera-setup","text":"Yes, Pi Cameras are supported. Make sure your Pi can capture an image from the terminal before using Photobooth.","title":"Pi Camera setup"},{"location":"faq/pi-camera/#verify-your-camera-works","text":"Try a capture command that matches your Pi OS version: Bookworm: rpicam-still -n -o test.jpg -q 100 -t 1 Bullseye: libcamera-still -n -o test.jpg -q 100 -t 1 Buster and earlier: raspistill -n -o test.jpg -q 100 -t 1 Add the web server user to the video group and reboot: sudo gpasswd -a www-data video reboot","title":"Verify your camera works"},{"location":"faq/pi-camera/#configure-photobooth-commands","text":"Open the adminpanel ( http://localhost/admin or http://localhost/photobooth/admin ) and set the capture command that matches your OS: Pi OS (Bookworm and newer): rpicam-still -n -o %s -q 100 -t 1 | echo Done Pi OS (Bullseye): libcamera-still -n -o %s -q 100 -t 1 | echo Done Pi OS (Buster): raspistill -n -o %s -q 100 -t 1 | echo Done The echo ensures Photobooth sees a response after the capture finishes. You can append extra parameters (ISO, exposure, white balance, etc.); run the command with -? to list options.","title":"Configure Photobooth commands"},{"location":"faq/preview/","text":"Preview and live background Set up a live preview or countdown background that fits your hardware. Make sure Photobooth works without preview first\u2014debugging is easier that way. Preview \u201cfrom URL\u201d (remote preview, preferred) Use when you want the same preview on every device (tablet, phone, kiosk): Admin panel: Preview mode \u2192 from URL Example Preview-URL : http://192.168.0.2:8081 (replace with your stream IP) Do not enable \u201cCapture screenshot (preview \u2018from device cam\u2019 only)\u201d Pi Camera preview via this method fails if motion is installed Requires Photobooth v2.2.1+ go2rtc stream from DSLR or Pi Camera Provides a stream you can consume via Preview-URL . Install via Photobooth Setup Wizard: 4 go2rtc \u2192 choose variant, then reboot. Use http://localhost:1984/api/stream.mjpeg?src=photobooth as Preview-URL (replace localhost for remote access). Adjust capture command: capture %s Verify camera commands: DSLR gphoto2 --capture-movie ; Pi Camera rpicam-vid or libcamera-vid Pi Camera defaults: width 2304px, height 1296px (edit /etc/go2rtc.yaml if needed) Preview \u201cfrom device cam\u201d (no remote preview) Uses the camera of the device you open Photobooth on (e.g. tablet/phone/desktop). Admin panel: Preview mode \u2192 from device cam Notes: Uses the local device camera only; not shared across other devices Pi Camera capture via raspistill / libcamera-still / rpicam-still does not work here Secure origin or exception required for camera access \u201cCapture screenshot (preview \u2018from device cam\u2019 only)\u201d captures from this preview instead of gphoto/digicamcontrol/raspistill/libcamera-still/rpicam-still DSLR preview via device cam mode (cameracontrol.py) Keeps the DSLR connection alive for preview + capture on Linux. Run Photobooth Setup Wizard: 5 gphoto2 webcam \u2192 install service (recommended) or cronjob. Admin panel: Live Preview \u2192 Preview Mode : from device cam If Execute start command for preview on take picture/collage is enabled: Command to generate a live preview : python3 cameracontrol.py --bsm If disabled: python3 cameracontrol.py Take picture command : python3 cameracontrol.py --capture-image-and-download %s Optional: Background video timeout: python3 cameracontrol.py --bsmtime 1 Use background video continuously: disable \u201cExecute start command for preview on take picture/collage\u201d and add --bsm Capture target (keep images on camera): python3 cameracontrol.py --set-config capturetarget=1 --capture-image-and-download %s Permissions: ensure www-data is in video group ( sudo gpasswd -a www-data video ; reboot). Liveview must be supported by your camera ( check list ). Troubleshooting Check v4l2loopback after updates: v4l2-ctl --list-devices Expected: GPhoto2 Webcam (platform:v4l2loopback-000): /dev/video0 If missing, rebuild v4l2loopback: curl -LO https://github.com/umlaeute/v4l2loopback/archive/refs/tags/v0.12.7.tar.gz tar xzf v0.12.7.tar.gz && cd v4l2loopback-0.12.7 make && sudo make install sudo depmod -a sudo modprobe v4l2loopback exclusive_caps=1 card_label=\"GPhoto2 Webcam\" Chromium may pick the wrong webcam (e.g. bcm2835-isp ); disable other webcams if needed. Long preview startup? Increase countdown (e.g. 8s) or run preview continuously (higher battery/CPU). For command help: python3 /var/www/html/api/cameracontrol.py --help (adjust path if installed in a subfolder).","title":"Preview and live background"},{"location":"faq/preview/#preview-and-live-background","text":"Set up a live preview or countdown background that fits your hardware. Make sure Photobooth works without preview first\u2014debugging is easier that way.","title":"Preview and live background"},{"location":"faq/preview/#preview-from-url-remote-preview-preferred","text":"Use when you want the same preview on every device (tablet, phone, kiosk): Admin panel: Preview mode \u2192 from URL Example Preview-URL : http://192.168.0.2:8081 (replace with your stream IP) Do not enable \u201cCapture screenshot (preview \u2018from device cam\u2019 only)\u201d Pi Camera preview via this method fails if motion is installed Requires Photobooth v2.2.1+","title":"Preview \u201cfrom URL\u201d (remote preview, preferred)"},{"location":"faq/preview/#go2rtc-stream-from-dslr-or-pi-camera","text":"Provides a stream you can consume via Preview-URL . Install via Photobooth Setup Wizard: 4 go2rtc \u2192 choose variant, then reboot. Use http://localhost:1984/api/stream.mjpeg?src=photobooth as Preview-URL (replace localhost for remote access). Adjust capture command: capture %s Verify camera commands: DSLR gphoto2 --capture-movie ; Pi Camera rpicam-vid or libcamera-vid Pi Camera defaults: width 2304px, height 1296px (edit /etc/go2rtc.yaml if needed)","title":"go2rtc stream from DSLR or Pi Camera"},{"location":"faq/preview/#preview-from-device-cam-no-remote-preview","text":"Uses the camera of the device you open Photobooth on (e.g. tablet/phone/desktop). Admin panel: Preview mode \u2192 from device cam Notes: Uses the local device camera only; not shared across other devices Pi Camera capture via raspistill / libcamera-still / rpicam-still does not work here Secure origin or exception required for camera access \u201cCapture screenshot (preview \u2018from device cam\u2019 only)\u201d captures from this preview instead of gphoto/digicamcontrol/raspistill/libcamera-still/rpicam-still","title":"Preview \u201cfrom device cam\u201d (no remote preview)"},{"location":"faq/preview/#dslr-preview-via-device-cam-mode-cameracontrolpy","text":"Keeps the DSLR connection alive for preview + capture on Linux. Run Photobooth Setup Wizard: 5 gphoto2 webcam \u2192 install service (recommended) or cronjob. Admin panel: Live Preview \u2192 Preview Mode : from device cam If Execute start command for preview on take picture/collage is enabled: Command to generate a live preview : python3 cameracontrol.py --bsm If disabled: python3 cameracontrol.py Take picture command : python3 cameracontrol.py --capture-image-and-download %s Optional: Background video timeout: python3 cameracontrol.py --bsmtime 1 Use background video continuously: disable \u201cExecute start command for preview on take picture/collage\u201d and add --bsm Capture target (keep images on camera): python3 cameracontrol.py --set-config capturetarget=1 --capture-image-and-download %s Permissions: ensure www-data is in video group ( sudo gpasswd -a www-data video ; reboot). Liveview must be supported by your camera ( check list ).","title":"DSLR preview via device cam mode (cameracontrol.py)"},{"location":"faq/preview/#troubleshooting","text":"Check v4l2loopback after updates: v4l2-ctl --list-devices Expected: GPhoto2 Webcam (platform:v4l2loopback-000): /dev/video0 If missing, rebuild v4l2loopback: curl -LO https://github.com/umlaeute/v4l2loopback/archive/refs/tags/v0.12.7.tar.gz tar xzf v0.12.7.tar.gz && cd v4l2loopback-0.12.7 make && sudo make install sudo depmod -a sudo modprobe v4l2loopback exclusive_caps=1 card_label=\"GPhoto2 Webcam\" Chromium may pick the wrong webcam (e.g. bcm2835-isp ); disable other webcams if needed. Long preview startup? Increase countdown (e.g. 8s) or run preview continuously (higher battery/CPU). For command help: python3 /var/www/html/api/cameracontrol.py --help (adjust path if installed in a subfolder).","title":"Troubleshooting"},{"location":"faq/printer-troubleshooting/","text":"Printer troubleshooting Dye-Sublimation Photo Printers and Linux Informative read about Dye-Sublimation Photo Printers and Linux can be found at Peachy Photos Blog Printing on Linux with USB Printers If your printer is connected via USB , you\u2019ll need local drivers for it to work. In many cases, there may not be an official driver provided by the manufacturer. Gutenprint Drivers The OpenSource Gutenprint project provides support for a wide range of printers and is often the best option when no vendor drivers are available. Project website: Gutenprint Supported printers: Hundreds of models across multiple brands Recommendation: Compile and install the latest Gutenprint driver from source to ensure your printer drivers are fully up to date. Building the Latest Gutenprint on Linux A detailed guide for compiling the latest Gutenprint driver can be found here: Building Modern Gutenprint How to administer CUPS remotely using the web interface? By default the CUPS webinterface can only be accessed via http://localhost:631 from your local machine. To remote access CUPS from other clients you need to run the following commands: sudo cupsctl --remote-any sudo /etc/init.d/cups restart Printing fails - Debugging Set the log level to 2 in the admin panel. After printing shoes an error message, open the debugpanel and check the Photobooth log . The log usually shows why the error occurs (most often a wrong print command). If printing fails, make sure a default printer is defined. You can check or set it using: lpoptions If needed, you can specify the printer directly in the print command: lp -d <Printer_Name> <file_to_print> or using lpr : lpr -P <Printer_Name> <file_to_print> Make sure www-data user can print Sometimes, the web server user ( www-data ) does not have permission to print. You can fix this by adding www-data to the lp or lpadmin group (depending on your system): sudo usermod -aG lp,www-data After that, you need to reboot once to apply. Tips: Replace <Printer_Name> with the exact name of your printer (use lpstat -p to list printers). Ensure the printer is online and connected. For network printers, make sure the hostname or IP is correct. Replace <file_to_print> with %s if adding your print command to your Photobooth configuration. Enable the printer via CUPS Enable the printer (optional, only needed if it was disabled, e.g. paper empty). Via command line you can enable the printer as follows (adjust the printer name as needed). cupsenable Canon_SELPHY_CP1300 Print with specific options (adjust printer name and options as needed, %s will be replaced by Photobooth, which is the fule to print): lp -d Canon_SELPHY_CP1300 -o landscape -o fit-to-page %s In some cases it might be useful to combine both commands, trying to activate the printer if needed and start the print job right after that: cupsenable Canon_SELPHY_CP1300; lp -d Canon_SELPHY_CP1300 -o landscape -o fit-to-page %s Using systems default printer via Photobooth If the printer is set as default and CUPS default settings should be used, Photobooth print command can look simple like this: lp %s Multi-print If multi-print is enabled, two arguments are required (copies + file). On Linux the Print command on Photobooth should look like this: lp -n %d %s or with own options defined: lp -o landscape -o fit-to-page -n %d %s Notes first argument = number of copies second argument = path and filename Special printer specific notes Canon Selphy CP1300/CP1500 make sure using latest firmware on your Canon Selphy","title":"Printer Troubleshooting"},{"location":"faq/printer-troubleshooting/#printer-troubleshooting","text":"","title":"Printer troubleshooting"},{"location":"faq/printer-troubleshooting/#dye-sublimation-photo-printers-and-linux","text":"Informative read about Dye-Sublimation Photo Printers and Linux can be found at Peachy Photos Blog","title":"Dye-Sublimation Photo Printers and Linux"},{"location":"faq/printer-troubleshooting/#printing-on-linux-with-usb-printers","text":"If your printer is connected via USB , you\u2019ll need local drivers for it to work. In many cases, there may not be an official driver provided by the manufacturer.","title":"Printing on Linux with USB Printers"},{"location":"faq/printer-troubleshooting/#gutenprint-drivers","text":"The OpenSource Gutenprint project provides support for a wide range of printers and is often the best option when no vendor drivers are available. Project website: Gutenprint Supported printers: Hundreds of models across multiple brands Recommendation: Compile and install the latest Gutenprint driver from source to ensure your printer drivers are fully up to date.","title":"Gutenprint Drivers"},{"location":"faq/printer-troubleshooting/#building-the-latest-gutenprint-on-linux","text":"A detailed guide for compiling the latest Gutenprint driver can be found here: Building Modern Gutenprint","title":"Building the Latest Gutenprint on Linux"},{"location":"faq/printer-troubleshooting/#how-to-administer-cups-remotely-using-the-web-interface","text":"By default the CUPS webinterface can only be accessed via http://localhost:631 from your local machine. To remote access CUPS from other clients you need to run the following commands: sudo cupsctl --remote-any sudo /etc/init.d/cups restart","title":"How to administer CUPS remotely using the web interface?"},{"location":"faq/printer-troubleshooting/#printing-fails-debugging","text":"Set the log level to 2 in the admin panel. After printing shoes an error message, open the debugpanel and check the Photobooth log . The log usually shows why the error occurs (most often a wrong print command). If printing fails, make sure a default printer is defined. You can check or set it using: lpoptions If needed, you can specify the printer directly in the print command: lp -d <Printer_Name> <file_to_print> or using lpr : lpr -P <Printer_Name> <file_to_print>","title":"Printing fails - Debugging"},{"location":"faq/printer-troubleshooting/#make-sure-www-data-user-can-print","text":"Sometimes, the web server user ( www-data ) does not have permission to print. You can fix this by adding www-data to the lp or lpadmin group (depending on your system): sudo usermod -aG lp,www-data After that, you need to reboot once to apply. Tips: Replace <Printer_Name> with the exact name of your printer (use lpstat -p to list printers). Ensure the printer is online and connected. For network printers, make sure the hostname or IP is correct. Replace <file_to_print> with %s if adding your print command to your Photobooth configuration.","title":"Make sure www-data user can print"},{"location":"faq/printer-troubleshooting/#enable-the-printer-via-cups","text":"Enable the printer (optional, only needed if it was disabled, e.g. paper empty). Via command line you can enable the printer as follows (adjust the printer name as needed). cupsenable Canon_SELPHY_CP1300 Print with specific options (adjust printer name and options as needed, %s will be replaced by Photobooth, which is the fule to print): lp -d Canon_SELPHY_CP1300 -o landscape -o fit-to-page %s In some cases it might be useful to combine both commands, trying to activate the printer if needed and start the print job right after that: cupsenable Canon_SELPHY_CP1300; lp -d Canon_SELPHY_CP1300 -o landscape -o fit-to-page %s","title":"Enable the printer via CUPS"},{"location":"faq/printer-troubleshooting/#using-systems-default-printer-via-photobooth","text":"If the printer is set as default and CUPS default settings should be used, Photobooth print command can look simple like this: lp %s","title":"Using systems default printer via Photobooth"},{"location":"faq/printer-troubleshooting/#multi-print","text":"If multi-print is enabled, two arguments are required (copies + file). On Linux the Print command on Photobooth should look like this: lp -n %d %s or with own options defined: lp -o landscape -o fit-to-page -n %d %s Notes first argument = number of copies second argument = path and filename","title":"Multi-print"},{"location":"faq/printer-troubleshooting/#special-printer-specific-notes","text":"","title":"Special printer specific notes"},{"location":"faq/printer-troubleshooting/#canon-selphy-cp1300cp1500","text":"make sure using latest firmware on your Canon Selphy","title":"Canon Selphy CP1300/CP1500"},{"location":"faq/remote-button/","text":"Remote Buttons & Triggers Everything about triggering Photobooth via hardware buttons or remote calls. 1) Local browser hotkeys (simple HID to browser) Connect the HID to the device running the browser. Adminpanel \u2192 set per-action key codes: Picture/Collage/Print/Video/Custom \u2192 \u201cKey code which triggers \u2026\u201d. Browser window must be focused; Photobooth listens for JavaScript keyup keyCode. 2) Direct USB HID on the Photobooth host (no browser focus) The remotebuzzer server reads a Linux input device and maps EV_KEY codes to your action key codes. How it works Remotebuzzer opens /dev/input/... (e.g. /dev/input/by-id/...-event-kbd ). Incoming key codes are matched against picture.key , collage.key , print.key , video.key , custom.key . On match, the corresponding action is triggered for all connected clients. Requirements Remotebuzzer server enabled (Adminpanel \u2192 Hardware Button \u2192 Start remote buzzer Server). Hardware Buttons enabled and the target action enabled. HID device visible under /dev/input/... and readable by the remotebuzzer process. Configure 1) Find device: ls -l /dev/input/by-id \u2192 choose the -event-kbd (or your HID). 2) Set Hardware Button \u2192 Input device to that path. 3) Set per-action key codes (Linux key codes, e.g. sudo showkey -k \u2192 108). 4) Save and restart the remotebuzzer server. Permissions Many devices are root:input with crw-r----- . Give the Photobooth user read access: add user to input group ( sudo usermod -a -G input www-data + restart), or udev rule to set group/mode for this device find the device under /dev/input/by-id (e.g. ls -l /dev/input/by-id | grep event ) and pick the matching -event-kbd (keyboard-like HID) symlink udev rule example Create /etc/udev/rules.d/99-photobooth-input.rules (adjust as needed): General rule (applies to all input event nodes): KERNEL==\"event*\", SUBSYSTEM==\"input\", MODE=\"660\", GROUP=\"input\" Apply: sudo udevadm control --reload && sudo udevadm trigger Ensure your Photobooth user is in the chosen group (e.g. input ) or change GROUP to your service user. Test Remotebuzzer log: Listening for USB input on [...] keycodes [...] . Press button \u2192 log triggering action [picture] \u2192 workflow starts. Notes Remotebuzzer must be running and trigger must be armed (not already taking a picture). Uses key press (value 1); key repeat will also trigger. 3) Remote trigger via Socket.io Channel: photobooth-socket Commands: start-picture , start-collage , collage-next , start-custom , start-video , print , rotary-cw , rotary-ccw , rotary-btn-press , move2usb Response: completed after the workflow finishes. 4) Remote trigger via simple web requests (HTTP) Depends on the socket.io implementation; requires Hardware Button \u2192 Enable Hardware Buttons and Hardware Button \u2192 Remote buzzer Server IP to be set. Photobooth can start the Remotebuzzer server itself (enable Hardware Button \u2192 Start remote buzzer Server in Adminpanel). Enable Hardware Buttons and set Remotebuzzer IP/Port. Base URL: http://[Server IP]:[Port] Available endpoints (depending on enabled features and buttons): [Base URL]/ Simple help page with all available endpoints [Base URL]/commands/start-picture [Base URL]/commands/start-collage [Base URL]/commands/start-custom [Base URL]/commands/start-print [Base URL]/commands/start-video [Base URL]/commands/start-move2usb [Base URL]/commands/reboot-now [Base URL]/commands/shutdown-now [Base URL]/commands/rotary-cw [Base URL]/commands/rotary-ccw [Base URL]/commands/rotary-btn-press Example: curl http://<IP>:<PORT>/commands/start-picture IP/Port notes: [Hardware Button Server IP] must match Hardware Button \u2192 Remote buzzer Server IP (typically the Photobooth host IP). [Hardware Button Server Port] is the Hardware Button \u2192 Enable Hardware Buttons value. Common hardware for HTTP triggers: myStrom WiFi Button , Shelly Button , ESP32/ESP8266, Raspberry Pi Pico/Pico W (see examples below). 5) Hardware button examples (HTTP) myStrom WiFi Button: curl --location -g --request POST http://[Button IP]/api/v1/action/single --data-raw get://[Photobooth IP]:[Port]/commands/start-picture curl --location -g --request POST http://[Button IP]/api/v1/action/long --data-raw get://[Photobooth IP]:[Port]/commands/start-collage ESP32/ESP8266: github.com/PhotoboothProject/photobooth-ino Raspberry Pi Pico / Pico W: github.com/frogro/PhotoboothProject_Pico_as_HID_Button_and_rotary_encoder github.com/frogro/PhotoboothProject_Pico_W_as_remote_button_and_rotary_encoder Troubleshooting Remotebuzzer running and reachable; avoid 127.0.0.1 for remote clients\u2014use the host IP. Trigger affects all connected clients simultaneously. Increase Photobooth loglevel (Adminpanel \u2192 General) and check Debugpanel; for HTTP/web triggers also check the browser console/network tab. Fallback re-arms after a timeout if no completed arrives (fixed 60s; not configurable via UI). Avoid loopback for cross-device use; use host IP/hostname. Every trigger hits all connected clients at once\u2014plan accordingly.","title":"Remote Buttons"},{"location":"faq/remote-button/#remote-buttons-triggers","text":"Everything about triggering Photobooth via hardware buttons or remote calls.","title":"Remote Buttons &amp; Triggers"},{"location":"faq/remote-button/#1-local-browser-hotkeys-simple-hid-to-browser","text":"Connect the HID to the device running the browser. Adminpanel \u2192 set per-action key codes: Picture/Collage/Print/Video/Custom \u2192 \u201cKey code which triggers \u2026\u201d. Browser window must be focused; Photobooth listens for JavaScript keyup keyCode.","title":"1) Local browser hotkeys (simple HID to browser)"},{"location":"faq/remote-button/#2-direct-usb-hid-on-the-photobooth-host-no-browser-focus","text":"The remotebuzzer server reads a Linux input device and maps EV_KEY codes to your action key codes. How it works Remotebuzzer opens /dev/input/... (e.g. /dev/input/by-id/...-event-kbd ). Incoming key codes are matched against picture.key , collage.key , print.key , video.key , custom.key . On match, the corresponding action is triggered for all connected clients. Requirements Remotebuzzer server enabled (Adminpanel \u2192 Hardware Button \u2192 Start remote buzzer Server). Hardware Buttons enabled and the target action enabled. HID device visible under /dev/input/... and readable by the remotebuzzer process. Configure 1) Find device: ls -l /dev/input/by-id \u2192 choose the -event-kbd (or your HID). 2) Set Hardware Button \u2192 Input device to that path. 3) Set per-action key codes (Linux key codes, e.g. sudo showkey -k \u2192 108). 4) Save and restart the remotebuzzer server. Permissions Many devices are root:input with crw-r----- . Give the Photobooth user read access: add user to input group ( sudo usermod -a -G input www-data + restart), or udev rule to set group/mode for this device find the device under /dev/input/by-id (e.g. ls -l /dev/input/by-id | grep event ) and pick the matching -event-kbd (keyboard-like HID) symlink udev rule example Create /etc/udev/rules.d/99-photobooth-input.rules (adjust as needed): General rule (applies to all input event nodes): KERNEL==\"event*\", SUBSYSTEM==\"input\", MODE=\"660\", GROUP=\"input\" Apply: sudo udevadm control --reload && sudo udevadm trigger Ensure your Photobooth user is in the chosen group (e.g. input ) or change GROUP to your service user. Test Remotebuzzer log: Listening for USB input on [...] keycodes [...] . Press button \u2192 log triggering action [picture] \u2192 workflow starts. Notes Remotebuzzer must be running and trigger must be armed (not already taking a picture). Uses key press (value 1); key repeat will also trigger.","title":"2) Direct USB HID on the Photobooth host (no browser focus)"},{"location":"faq/remote-button/#3-remote-trigger-via-socketio","text":"Channel: photobooth-socket Commands: start-picture , start-collage , collage-next , start-custom , start-video , print , rotary-cw , rotary-ccw , rotary-btn-press , move2usb Response: completed after the workflow finishes.","title":"3) Remote trigger via Socket.io"},{"location":"faq/remote-button/#4-remote-trigger-via-simple-web-requests-http","text":"Depends on the socket.io implementation; requires Hardware Button \u2192 Enable Hardware Buttons and Hardware Button \u2192 Remote buzzer Server IP to be set. Photobooth can start the Remotebuzzer server itself (enable Hardware Button \u2192 Start remote buzzer Server in Adminpanel). Enable Hardware Buttons and set Remotebuzzer IP/Port. Base URL: http://[Server IP]:[Port] Available endpoints (depending on enabled features and buttons): [Base URL]/ Simple help page with all available endpoints [Base URL]/commands/start-picture [Base URL]/commands/start-collage [Base URL]/commands/start-custom [Base URL]/commands/start-print [Base URL]/commands/start-video [Base URL]/commands/start-move2usb [Base URL]/commands/reboot-now [Base URL]/commands/shutdown-now [Base URL]/commands/rotary-cw [Base URL]/commands/rotary-ccw [Base URL]/commands/rotary-btn-press Example: curl http://<IP>:<PORT>/commands/start-picture IP/Port notes: [Hardware Button Server IP] must match Hardware Button \u2192 Remote buzzer Server IP (typically the Photobooth host IP). [Hardware Button Server Port] is the Hardware Button \u2192 Enable Hardware Buttons value. Common hardware for HTTP triggers: myStrom WiFi Button , Shelly Button , ESP32/ESP8266, Raspberry Pi Pico/Pico W (see examples below).","title":"4) Remote trigger via simple web requests (HTTP)"},{"location":"faq/remote-button/#5-hardware-button-examples-http","text":"myStrom WiFi Button: curl --location -g --request POST http://[Button IP]/api/v1/action/single --data-raw get://[Photobooth IP]:[Port]/commands/start-picture curl --location -g --request POST http://[Button IP]/api/v1/action/long --data-raw get://[Photobooth IP]:[Port]/commands/start-collage ESP32/ESP8266: github.com/PhotoboothProject/photobooth-ino Raspberry Pi Pico / Pico W: github.com/frogro/PhotoboothProject_Pico_as_HID_Button_and_rotary_encoder github.com/frogro/PhotoboothProject_Pico_W_as_remote_button_and_rotary_encoder","title":"5) Hardware button examples (HTTP)"},{"location":"faq/remote-button/#troubleshooting","text":"Remotebuzzer running and reachable; avoid 127.0.0.1 for remote clients\u2014use the host IP. Trigger affects all connected clients simultaneously. Increase Photobooth loglevel (Adminpanel \u2192 General) and check Debugpanel; for HTTP/web triggers also check the browser console/network tab. Fallback re-arms after a timeout if no completed arrives (fixed 60s; not configurable via UI). Avoid loopback for cross-device use; use host IP/hostname. Every trigger hits all connected clients at once\u2014plan accordingly.","title":"Troubleshooting"},{"location":"faq/screensaver/","text":"Screensaver function The screensaver keeps the start screen fresh and prevents burn\u2011in when guests are idle. Configure it in the Admin Panel under General \u2192 Screensaver . What it can show Image : Display a single image. Use Screensaver image path . Video : Loop a single video. Use Screensaver video path . Folder : Cycle through files in private/screensavers/ . Supported: .jpg , .png , .gif , .mp4 , .webm . Gallery : Cycle through gallery photos guests already took; falls back to the image path if the gallery is empty. Text overlay and styling Optional Screensaver text shows on top of the media. Choose Text position ( top , bottom , center ) to avoid covering key visuals. Adjust Text backdrop color and Backdrop opacity (0 = fully transparent, 1 = solid) if the text needs contrast; set opacity to 0 to turn the backdrop off. Use Text color and Custom font file for branding; upload fonts into private/fonts/ and select them from the picker. In Gallery mode the overlay alternates between your text and event text to avoid screen burn. Timing Timeout before screensaver : minutes of no interaction before it starts. Set to 0 to keep the screensaver off even if enabled. Slide change interval : minutes between media switches in Folder or Gallery mode (minimum 1 ). Has no effect for single image/video modes. Any click or touch hides the screensaver and resets the timer.","title":"Screensaver"},{"location":"faq/screensaver/#screensaver-function","text":"The screensaver keeps the start screen fresh and prevents burn\u2011in when guests are idle. Configure it in the Admin Panel under General \u2192 Screensaver .","title":"Screensaver function"},{"location":"faq/screensaver/#what-it-can-show","text":"Image : Display a single image. Use Screensaver image path . Video : Loop a single video. Use Screensaver video path . Folder : Cycle through files in private/screensavers/ . Supported: .jpg , .png , .gif , .mp4 , .webm . Gallery : Cycle through gallery photos guests already took; falls back to the image path if the gallery is empty.","title":"What it can show"},{"location":"faq/screensaver/#text-overlay-and-styling","text":"Optional Screensaver text shows on top of the media. Choose Text position ( top , bottom , center ) to avoid covering key visuals. Adjust Text backdrop color and Backdrop opacity (0 = fully transparent, 1 = solid) if the text needs contrast; set opacity to 0 to turn the backdrop off. Use Text color and Custom font file for branding; upload fonts into private/fonts/ and select them from the picker. In Gallery mode the overlay alternates between your text and event text to avoid screen burn.","title":"Text overlay and styling"},{"location":"faq/screensaver/#timing","text":"Timeout before screensaver : minutes of no interaction before it starts. Set to 0 to keep the screensaver off even if enabled. Slide change interval : minutes between media switches in Folder or Gallery mode (minimum 1 ). Has no effect for single image/video modes. Any click or touch hides the screensaver and resets the timer.","title":"Timing"},{"location":"faq/tutorials/","text":"Tutorials Installation DE - Installation und Projekt Vorstellung Buzzer & LED DE - Hardware-Buttons verbinden mit Hilfe eines Raspberry Pi Pioco\u00b4s DE - Rotary Encoder Steuerung per HTTP requests \u00fcber HID Keyboardbefehle und Evsieve","title":"Tutorials"},{"location":"faq/tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"faq/tutorials/#installation","text":"DE - Installation und Projekt Vorstellung","title":"Installation"},{"location":"faq/tutorials/#buzzer-led","text":"DE - Hardware-Buttons verbinden mit Hilfe eines Raspberry Pi Pioco\u00b4s DE - Rotary Encoder Steuerung per HTTP requests \u00fcber HID Keyboardbefehle und Evsieve","title":"Buzzer &amp; LED"},{"location":"install/","text":"Install & setup Pick the guide that matches your environment: Prerequisites \u2013 hardware, OS and software requirements. Supported platforms and cameras \u2013 check compatibility before installing. Photobooth setup wizard \u2013 guided setup inside the app. Linux: Install on Debian Enable PHP in nginx Windows: Install on Windows","title":"Overview"},{"location":"install/#install-setup","text":"Pick the guide that matches your environment: Prerequisites \u2013 hardware, OS and software requirements. Supported platforms and cameras \u2013 check compatibility before installing. Photobooth setup wizard \u2013 guided setup inside the app. Linux: Install on Debian Enable PHP in nginx Windows: Install on Windows","title":"Install &amp; setup"},{"location":"install/install-debian/","text":"Automated installation on Raspberry Pi OS (previously called Raspbian) and on Debian / Debian based distributions: To start the installation, simply run the Photobooth Setup Wizard . If you encounter any issues or want more freedom to configure your Pi, Computer or Laptop, we recommend you look at the detailed installation instruction below. Manually install Photobooth on Raspberry Pi OS (previously called Raspbian) and on Debian / Debian based distributions: The steps below were tested on \"Raspberry Pi OS with desktop\" based on Debian Buster, but should work for Debian and all Debian based distributions. Photobooth can also be used on any other PC/Laptop running a supported OS. Update your system sudo apt update sudo apt dist-upgrade Install a Webserver Currently NGINX and Apache Webserver are supported. For an easy and no-hassle setup you should install Apache Webserver. NGINX has a smaller memory footprint and typically better performance, which is especially important on the Raspberry Pis, but it needs some additional steps until you're good to go. Install Apache & PHP sudo apt install -y libapache2-mod-php or Install NGINX & PHP sudo apt install -y nginx php-fpm Additional needed steps to enable PHP in NGINX Install dependencies sudo apt install -y curl gcc g++ make git ffmpeg gphoto2 libimage-exiftool-perl nodejs php-xml php-gd php-zip php-mbstring python3 python3-gphoto2 python3-psutil python3-zmq rsync udisks2 v4l2loopback-dkms v4l-utils Optional: If you have a new camera, you can also install the latest version of libgphoto2 directly from the maintainer. Choose \"Install last stable release\": wget -O gphoto2-updater.sh https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/gphoto2-updater.sh wget -O .env https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/.env chmod +x gphoto2-updater.sh sudo ./gphoto2-updater.sh Install photobooth Give our webserver user access to /var/www/ : sudo chown -R www-data:www-data /var/www/ Get the Photobooth source: cd /var/www/ sudo -u www-data -s rm -r html/* git clone https://github.com/PhotoboothProject/photobooth html cd /var/www/html git submodule update --init npm install npm run build exit Please note: depending on your hardware npm install and npm run build takes up to 15min! Node.js is needed in v20 or later! Next we have to give our webserver user access to the USB device: sudo gpasswd -a www-data plugdev If you like to use a printer you need to have CUPS installed. On Raspbian CUPS is not installed by default: sudo apt install -y cups Next you also have to add your webserver user to the lp and lpadmin group: sudo gpasswd -a www-data lp sudo gpasswd -a www-data lpadmin By default the CUPS webinterface can only be accessed via http://localhost:631 from your local machine. To remote access CUPS from other clients you need to run the following commands: sudo cupsctl --remote-any sudo /etc/init.d/cups restart Install Remote Buzzer support Please follow the steps mentioned in the FAQ: Q: Can I use Hardware Button to take a Picture? Try it out Now you should restart your Raspberry Pi to apply those settings: reboot Please use the following to test if your Webserver is able to take pictures (gphoto must be executed in a dir with write permission): cd /var/www/html sudo -u www-data gphoto2 --capture-image If it is not working, your operation system probably automatically mounted your camera. You can unmount it, or remove execution permission for gphoto2 Volume Monitor to ensure that the camera is not mounted anymore: sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor Now reboot or unmount your camera with the following commands (you get a list of mounted cameras with gio mount -l ): gio mount -u gphoto2://YOUR-CAMERA Now try again. If everything is working, open the IP address (you get it via ip addr ) of your Raspberry Pi, or if you open it on your machine, type http://localhost in your browser.","title":"Install on Debian"},{"location":"install/install-debian/#automated-installation-on-raspberry-pi-os-previously-called-raspbian-and-on-debian-debian-based-distributions","text":"To start the installation, simply run the Photobooth Setup Wizard . If you encounter any issues or want more freedom to configure your Pi, Computer or Laptop, we recommend you look at the detailed installation instruction below.","title":"Automated installation on Raspberry Pi OS (previously called Raspbian) and on Debian / Debian based distributions:"},{"location":"install/install-debian/#manually-install-photobooth-on-raspberry-pi-os-previously-called-raspbian-and-on-debian-debian-based-distributions","text":"The steps below were tested on \"Raspberry Pi OS with desktop\" based on Debian Buster, but should work for Debian and all Debian based distributions. Photobooth can also be used on any other PC/Laptop running a supported OS.","title":"Manually install Photobooth on Raspberry Pi OS (previously called Raspbian) and on Debian / Debian based distributions:"},{"location":"install/install-debian/#update-your-system","text":"sudo apt update sudo apt dist-upgrade","title":"Update your system"},{"location":"install/install-debian/#install-a-webserver","text":"Currently NGINX and Apache Webserver are supported. For an easy and no-hassle setup you should install Apache Webserver. NGINX has a smaller memory footprint and typically better performance, which is especially important on the Raspberry Pis, but it needs some additional steps until you're good to go.","title":"Install a Webserver"},{"location":"install/install-debian/#install-apache-php","text":"sudo apt install -y libapache2-mod-php","title":"Install Apache &amp; PHP"},{"location":"install/install-debian/#or-install-nginx-php","text":"sudo apt install -y nginx php-fpm Additional needed steps to enable PHP in NGINX","title":"or Install NGINX &amp; PHP"},{"location":"install/install-debian/#install-dependencies","text":"sudo apt install -y curl gcc g++ make git ffmpeg gphoto2 libimage-exiftool-perl nodejs php-xml php-gd php-zip php-mbstring python3 python3-gphoto2 python3-psutil python3-zmq rsync udisks2 v4l2loopback-dkms v4l-utils Optional: If you have a new camera, you can also install the latest version of libgphoto2 directly from the maintainer. Choose \"Install last stable release\": wget -O gphoto2-updater.sh https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/gphoto2-updater.sh wget -O .env https://raw.githubusercontent.com/gonzalo/gphoto2-updater/master/.env chmod +x gphoto2-updater.sh sudo ./gphoto2-updater.sh","title":"Install dependencies"},{"location":"install/install-debian/#install-photobooth","text":"Give our webserver user access to /var/www/ : sudo chown -R www-data:www-data /var/www/ Get the Photobooth source: cd /var/www/ sudo -u www-data -s rm -r html/* git clone https://github.com/PhotoboothProject/photobooth html cd /var/www/html git submodule update --init npm install npm run build exit Please note: depending on your hardware npm install and npm run build takes up to 15min! Node.js is needed in v20 or later! Next we have to give our webserver user access to the USB device: sudo gpasswd -a www-data plugdev If you like to use a printer you need to have CUPS installed. On Raspbian CUPS is not installed by default: sudo apt install -y cups Next you also have to add your webserver user to the lp and lpadmin group: sudo gpasswd -a www-data lp sudo gpasswd -a www-data lpadmin By default the CUPS webinterface can only be accessed via http://localhost:631 from your local machine. To remote access CUPS from other clients you need to run the following commands: sudo cupsctl --remote-any sudo /etc/init.d/cups restart","title":"Install photobooth"},{"location":"install/install-debian/#install-remote-buzzer-support","text":"Please follow the steps mentioned in the FAQ: Q: Can I use Hardware Button to take a Picture?","title":"Install Remote Buzzer support"},{"location":"install/install-debian/#try-it-out","text":"Now you should restart your Raspberry Pi to apply those settings: reboot Please use the following to test if your Webserver is able to take pictures (gphoto must be executed in a dir with write permission): cd /var/www/html sudo -u www-data gphoto2 --capture-image If it is not working, your operation system probably automatically mounted your camera. You can unmount it, or remove execution permission for gphoto2 Volume Monitor to ensure that the camera is not mounted anymore: sudo chmod -x /usr/lib/gvfs/gvfs-gphoto2-volume-monitor Now reboot or unmount your camera with the following commands (you get a list of mounted cameras with gio mount -l ): gio mount -u gphoto2://YOUR-CAMERA Now try again. If everything is working, open the IP address (you get it via ip addr ) of your Raspberry Pi, or if you open it on your machine, type http://localhost in your browser.","title":"Try it out"},{"location":"install/install-nginx/","text":"Additional needed steps to enable PHP in NGINX Once NGINX is installed we need to enable PHP in NGINX. If you haven't made any changes to your NGINX config you can run the following commands: sudo cp /etc/nginx/sites-enabled/default ~/nginx-default.bak sudo sed -i 's/^\\(\\s*\\)index index\\.html\\(.*\\)/\\1index index\\.php index\\.html\\2/g' /etc/nginx/sites-available/default sudo sed -i '/location ~ \\\\.php$ {/s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/include snippets\\/fastcgi-php.conf/s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/fastcgi_pass unix:\\/run\\/php\\//s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/.*fastcgi_pass unix:\\/run\\/php\\//,// { /}/s/^\\(\\s*\\)#/\\1/g; }' /etc/nginx/sites-available/default If you've made changes by hand already to /etc/nginx/sites-enabled/default you have to do all changes by hand: sudo nano /etc/nginx/sites-enabled/default Find the line index index.html index.htm; and add index.php after index (the line now should look like this: index index.php index.html index.htm; ). Now scroll down until you find a section with the following content: # pass the PHP scripts to FastCGI server # # location ~ \\.php$ { Edit by removing the # characters on the following lines: location ~ \\.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.4-fpm.sock; } It should look like this: location ~ \\.php$ { include snippets/fastcgi-php.conf; # # # With php-fpm (or other unix sockets): fastcgi_pass unix:/run/php/php8.4-fpm.sock; # # With php-cgi (or other tcp sockets): # fastcgi_pass 127.0.0.1:9000; } Test the config once /etc/nginx/sites-enabled/default was changed: sudo /usr/sbin/nginx -t -c /etc/nginx/nginx.conf &>/dev/null && echo 'config test ok' || echo 'config test failed' If you get the response 'config test ok' then it is time to restart the server with: sudo systemctl reload nginx","title":"Enable PHP in nginx"},{"location":"install/install-nginx/#additional-needed-steps-to-enable-php-in-nginx","text":"Once NGINX is installed we need to enable PHP in NGINX. If you haven't made any changes to your NGINX config you can run the following commands: sudo cp /etc/nginx/sites-enabled/default ~/nginx-default.bak sudo sed -i 's/^\\(\\s*\\)index index\\.html\\(.*\\)/\\1index index\\.php index\\.html\\2/g' /etc/nginx/sites-available/default sudo sed -i '/location ~ \\\\.php$ {/s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/include snippets\\/fastcgi-php.conf/s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/fastcgi_pass unix:\\/run\\/php\\//s/^\\(\\s*\\)#/\\1/g' /etc/nginx/sites-available/default sudo sed -i '/.*fastcgi_pass unix:\\/run\\/php\\//,// { /}/s/^\\(\\s*\\)#/\\1/g; }' /etc/nginx/sites-available/default If you've made changes by hand already to /etc/nginx/sites-enabled/default you have to do all changes by hand: sudo nano /etc/nginx/sites-enabled/default Find the line index index.html index.htm; and add index.php after index (the line now should look like this: index index.php index.html index.htm; ). Now scroll down until you find a section with the following content: # pass the PHP scripts to FastCGI server # # location ~ \\.php$ { Edit by removing the # characters on the following lines: location ~ \\.php$ { include snippets/fastcgi-php.conf; fastcgi_pass unix:/run/php/php8.4-fpm.sock; } It should look like this: location ~ \\.php$ { include snippets/fastcgi-php.conf; # # # With php-fpm (or other unix sockets): fastcgi_pass unix:/run/php/php8.4-fpm.sock; # # With php-cgi (or other tcp sockets): # fastcgi_pass 127.0.0.1:9000; } Test the config once /etc/nginx/sites-enabled/default was changed: sudo /usr/sbin/nginx -t -c /etc/nginx/nginx.conf &>/dev/null && echo 'config test ok' || echo 'config test failed' If you get the response 'config test ok' then it is time to restart the server with: sudo systemctl reload nginx","title":"Additional needed steps to enable PHP in NGINX"},{"location":"install/install-windows/","text":"Installation on Windows There are two supported installation methods for windows. Installation in the windows subsystem for linux (wsl) Recommended Direct installation on the windows host Which installation method to use Both variants work, but only with the first you will be able to use gphoto2 to capture images with your camera. The corresponding windows tool digicamcontrol , which will be used in the second method, does it job, but is not maintained anymore and has many open issues . Installation in the windows subsystem (method 1) The first methods covers the following steps: Activating the windows subsystem for linux Installing the required additional tools Configuring windows to automatically start Installing photobooth in the subsystem Step 1: Activating the windows subsystem for linux Open a powershell and run: wsl --install This will enable the required windows features, install ubuntu and sets the default version of wsl to version 2. If something goes wrong here, check out this page . Do not restart the computer yet. Step 2: Installing the required additional tools We'll need usbipd-win to make the dslr camera inside of wsl available. Here are the steps you'll need to do: Open a powershell and run the installation command: winget install --exact dorssel.usbipd-win Now connect your camera via usb. Next open a powershell with admin privileges and run: # get the busid of your camera usbipd list # now bind the camera usbipd bind --busid=<BUSID> Now we can use usbipd attach -a --wsl --busid=<BUSID> to attach the camera to the wsl machine. Step 3: Configuring windows to automatically start Press WIN+R and run shell:startup . This will open the startup directory in your explorer. Create a file named wsl_start.bat with this content (adjust the BUSID ): wsl --exec dbus-launch true :loop usbipd attach -a --wsl --busid=<BUSID> timeout 1 goto loop The wsl command will startup the ubuntu machine and keeps it running. The usbipd command will attach the camera to the ubuntu machine as soon as you plug it in. Now restart your computer. Step 4: Installing photobooth in the subsystem Open a powershell and run wsl . This will open a shell to the ubuntu machine. It will ask you for a username and password. You can choose anything you want. After creating the account, run these commands: wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh --username='<YourUsername>' --silent Enjoy your Photobooth installation! Direct installation on windows (method 2) Download needed files Download Apache2 and Visual C++ Redistributable for Visual Studio: https://www.apachelounge.com/download Download PHP 8.4 (Thread Safe): https://windows.php.net/download Download Digicamcontrol: http://digicamcontrol.com/download Download Notepad++: https://notepad-plus-plus.org/downloads Download latest Photobooth release ( photobooth-4.x.x.zip or photobooth-4.x.x.tar.gz Note: the Source code files won't work!): https://github.com/PhotoboothProject/photobooth/releases Install & extract needed Software Install Notepad++ Install Visual C++ Redistributable for Visual Studio Extract the Apache2 ZIP ( httpd-2.4.X-winXX-XXXX.zip ) to C:/ Extract the PHP ZIP to C:/php Prepare Apache HTTP Server Edit C:\\Apache24\\conf\\httpd.conf using Notepad++ Find the following text (~ on line 284): <IfModule dir_module> DirectoryIndex index.html </IfModule> And change it to <IfModule dir_module> DirectoryIndex index.html index.php </IfModule> To the end of the file add the following: LoadModule php_module \"C:/php/php8apache2_4.dll\" <FilesMatch \\.php$> SetHandler application/x-httpd-php </FilesMatch> PHPIniDir \"C:/php\" For reference see f260b49 Inside C:\\Apache24\\htdocs add a new file called info.php and add the following content: <?php phpinfo(); ?> Inside C:\\Apache24 create a new file called cmd.bat and add the following content: cd \"C:\\Apache24\\bin\" cmd Prepare PHP Go to C:\\php and rename the php.ini-production to php.ini . Edit the php.ini using Notepad++ to enable the GD library: Find ;extension=fileinfo and remove the ; in front of the line. Find ;extension=gd and remove the ; in front of the line. Find ;extension=mbstring and remove the ; in front of the line. Find ;extension_dir = \"ext\" and remove the ; in front of the line and change it to extension_dir = \"C:/php/ext\" . For reference see ff4259a Start Apache Server Go to C:\\Apache24 and right click on the cmd.bat, choose \"Run as administrator\": To start the Webserver on boot automatically, type httpd.exe -k install . Once that's done, lets start our webserver: httpd.exe -k start If you need to stop the webserver (e.g. if you like to change the php.ini ): httpd.exe -k stop Test your Webserver & PHP Open http://localhost/info.php (or http://localhost/photobooth/info.php ) in your Browser, you should see the PHP Information page. Install Digicamcontrol Install Digicamcontrol to C:\\Apache24\\htdocs\\digicamcontrol\\ Setup Photobooth Remove all files inside C:\\Apache24\\htdocs\\ . Next you need to extract the Photobooth Release-ZIP to C:\\Apache24\\htdocs\\ . Open http://localhost/admin (or http://localhost/photobooth/admin ) in your Browser and adjust your \" take picture command \" (inside the \" Commands \" section): C:\\Apache24\\htdocs\\digicamcontrol\\CameraControlCmd.exe /capture /filename %s Enjoy You should now be able to access photobooth (or http://localhost/photobooth/ ) on your Windows machine!","title":"Install on Windows"},{"location":"install/install-windows/#installation-on-windows","text":"There are two supported installation methods for windows. Installation in the windows subsystem for linux (wsl) Recommended Direct installation on the windows host","title":"Installation on Windows"},{"location":"install/install-windows/#which-installation-method-to-use","text":"Both variants work, but only with the first you will be able to use gphoto2 to capture images with your camera. The corresponding windows tool digicamcontrol , which will be used in the second method, does it job, but is not maintained anymore and has many open issues .","title":"Which installation method to use"},{"location":"install/install-windows/#installation-in-the-windows-subsystem-method-1","text":"The first methods covers the following steps: Activating the windows subsystem for linux Installing the required additional tools Configuring windows to automatically start Installing photobooth in the subsystem","title":"Installation in the windows subsystem (method 1)"},{"location":"install/install-windows/#step-1-activating-the-windows-subsystem-for-linux","text":"Open a powershell and run: wsl --install This will enable the required windows features, install ubuntu and sets the default version of wsl to version 2. If something goes wrong here, check out this page . Do not restart the computer yet.","title":"Step 1: Activating the windows subsystem for linux"},{"location":"install/install-windows/#step-2-installing-the-required-additional-tools","text":"We'll need usbipd-win to make the dslr camera inside of wsl available. Here are the steps you'll need to do: Open a powershell and run the installation command: winget install --exact dorssel.usbipd-win Now connect your camera via usb. Next open a powershell with admin privileges and run: # get the busid of your camera usbipd list # now bind the camera usbipd bind --busid=<BUSID> Now we can use usbipd attach -a --wsl --busid=<BUSID> to attach the camera to the wsl machine.","title":"Step 2: Installing the required additional tools"},{"location":"install/install-windows/#step-3-configuring-windows-to-automatically-start","text":"Press WIN+R and run shell:startup . This will open the startup directory in your explorer. Create a file named wsl_start.bat with this content (adjust the BUSID ): wsl --exec dbus-launch true :loop usbipd attach -a --wsl --busid=<BUSID> timeout 1 goto loop The wsl command will startup the ubuntu machine and keeps it running. The usbipd command will attach the camera to the ubuntu machine as soon as you plug it in. Now restart your computer.","title":"Step 3: Configuring windows to automatically start"},{"location":"install/install-windows/#step-4-installing-photobooth-in-the-subsystem","text":"Open a powershell and run wsl . This will open a shell to the ubuntu machine. It will ask you for a username and password. You can choose anything you want. After creating the account, run these commands: wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh --username='<YourUsername>' --silent Enjoy your Photobooth installation!","title":"Step 4: Installing photobooth in the subsystem"},{"location":"install/install-windows/#direct-installation-on-windows-method-2","text":"","title":"Direct installation on windows (method 2)"},{"location":"install/install-windows/#download-needed-files","text":"Download Apache2 and Visual C++ Redistributable for Visual Studio: https://www.apachelounge.com/download Download PHP 8.4 (Thread Safe): https://windows.php.net/download Download Digicamcontrol: http://digicamcontrol.com/download Download Notepad++: https://notepad-plus-plus.org/downloads Download latest Photobooth release ( photobooth-4.x.x.zip or photobooth-4.x.x.tar.gz Note: the Source code files won't work!): https://github.com/PhotoboothProject/photobooth/releases","title":"Download needed files"},{"location":"install/install-windows/#install-extract-needed-software","text":"Install Notepad++ Install Visual C++ Redistributable for Visual Studio Extract the Apache2 ZIP ( httpd-2.4.X-winXX-XXXX.zip ) to C:/ Extract the PHP ZIP to C:/php","title":"Install &amp; extract needed Software"},{"location":"install/install-windows/#prepare-apache-http-server","text":"Edit C:\\Apache24\\conf\\httpd.conf using Notepad++ Find the following text (~ on line 284): <IfModule dir_module> DirectoryIndex index.html </IfModule> And change it to <IfModule dir_module> DirectoryIndex index.html index.php </IfModule> To the end of the file add the following: LoadModule php_module \"C:/php/php8apache2_4.dll\" <FilesMatch \\.php$> SetHandler application/x-httpd-php </FilesMatch> PHPIniDir \"C:/php\" For reference see f260b49 Inside C:\\Apache24\\htdocs add a new file called info.php and add the following content: <?php phpinfo(); ?> Inside C:\\Apache24 create a new file called cmd.bat and add the following content: cd \"C:\\Apache24\\bin\" cmd","title":"Prepare Apache HTTP Server"},{"location":"install/install-windows/#prepare-php","text":"Go to C:\\php and rename the php.ini-production to php.ini . Edit the php.ini using Notepad++ to enable the GD library: Find ;extension=fileinfo and remove the ; in front of the line. Find ;extension=gd and remove the ; in front of the line. Find ;extension=mbstring and remove the ; in front of the line. Find ;extension_dir = \"ext\" and remove the ; in front of the line and change it to extension_dir = \"C:/php/ext\" . For reference see ff4259a","title":"Prepare PHP"},{"location":"install/install-windows/#start-apache-server","text":"Go to C:\\Apache24 and right click on the cmd.bat, choose \"Run as administrator\": To start the Webserver on boot automatically, type httpd.exe -k install . Once that's done, lets start our webserver: httpd.exe -k start If you need to stop the webserver (e.g. if you like to change the php.ini ): httpd.exe -k stop","title":"Start Apache Server"},{"location":"install/install-windows/#test-your-webserver-php","text":"Open http://localhost/info.php (or http://localhost/photobooth/info.php ) in your Browser, you should see the PHP Information page.","title":"Test your Webserver &amp; PHP"},{"location":"install/install-windows/#install-digicamcontrol","text":"Install Digicamcontrol to C:\\Apache24\\htdocs\\digicamcontrol\\","title":"Install Digicamcontrol"},{"location":"install/install-windows/#setup-photobooth","text":"Remove all files inside C:\\Apache24\\htdocs\\ . Next you need to extract the Photobooth Release-ZIP to C:\\Apache24\\htdocs\\ . Open http://localhost/admin (or http://localhost/photobooth/admin ) in your Browser and adjust your \" take picture command \" (inside the \" Commands \" section): C:\\Apache24\\htdocs\\digicamcontrol\\CameraControlCmd.exe /capture /filename %s","title":"Setup Photobooth"},{"location":"install/install-windows/#enjoy","text":"You should now be able to access photobooth (or http://localhost/photobooth/ ) on your Windows machine!","title":"Enjoy"},{"location":"install/prerequisites/","text":"Prerequisites Software Required version Note Node.js >=v20.15.0 Currently only v20 is tested. Our installer will check your Node.js version and suggest an update/downgrade if needed. Versions below v20 aren't supported anymore. npm >=v10.7.0 php >=v8.4 Webserver Apache or Nginx is needed. By default Apache webserver is installed by our installer.","title":"Prerequisites"},{"location":"install/prerequisites/#prerequisites","text":"Software Required version Note Node.js >=v20.15.0 Currently only v20 is tested. Our installer will check your Node.js version and suggest an update/downgrade if needed. Versions below v20 aren't supported anymore. npm >=v10.7.0 php >=v8.4 Webserver Apache or Nginx is needed. By default Apache webserver is installed by our installer.","title":"Prerequisites"},{"location":"install/setup_wizard/","text":"Photobooth Setup Wizard To make the installation and optional feature setup as simple as possible, we have created the \"Photobooth Setup Wizard\" for you. It can setup your Raspberry Pi, Computer or Laptop as a full blown Photobooth. This means: Photobooth and all needed packages and dependencies get installed and the automatic camera mount is disabled on installaion. Optional permissions can be set/unset Shortcuts and autostart in kiosk mode can be setup/removed ... Running the Photobooth Setup Wizard Download latest Setup Wizard and execute it: wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh On Photobooth installation by default Apache is used for an easy and no-hassle setup. Adjust your installation setup if needed: 1 Installation configuration To get to know all options you can simply run sudo bash install-photobooth.sh --help .","title":"Photobooth Setup Wizard"},{"location":"install/setup_wizard/#photobooth-setup-wizard","text":"To make the installation and optional feature setup as simple as possible, we have created the \"Photobooth Setup Wizard\" for you. It can setup your Raspberry Pi, Computer or Laptop as a full blown Photobooth. This means: Photobooth and all needed packages and dependencies get installed and the automatic camera mount is disabled on installaion. Optional permissions can be set/unset Shortcuts and autostart in kiosk mode can be setup/removed ...","title":"Photobooth Setup Wizard"},{"location":"install/setup_wizard/#running-the-photobooth-setup-wizard","text":"Download latest Setup Wizard and execute it: wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh On Photobooth installation by default Apache is used for an easy and no-hassle setup. Adjust your installation setup if needed: 1 Installation configuration To get to know all options you can simply run sudo bash install-photobooth.sh --help .","title":"Running the Photobooth Setup Wizard"},{"location":"install/supported_platformscand_cameras/","text":"Supported Platforms and Cameras Hardware-Platform Software-Platform Supported Cameras Raspberry Pi 3 / 4 / 5 Raspberry Pi OS 64bit Bookworm / Trixie Camera Modules , gphoto2 DSLR , webcam *1 Generic PC Debian/Ubuntu gphoto2 DSLR , webcam *1 Generic PC Windows digiCamControl , webcam *1 *1 Capture from webcam is possible using third party software e.g. fswebcam on Linux, else it only works on access via http://localhost","title":"Supported Platforms and Cameras"},{"location":"install/supported_platformscand_cameras/#supported-platforms-and-cameras","text":"Hardware-Platform Software-Platform Supported Cameras Raspberry Pi 3 / 4 / 5 Raspberry Pi OS 64bit Bookworm / Trixie Camera Modules , gphoto2 DSLR , webcam *1 Generic PC Debian/Ubuntu gphoto2 DSLR , webcam *1 Generic PC Windows digiCamControl , webcam *1 *1 Capture from webcam is possible using third party software e.g. fswebcam on Linux, else it only works on access via http://localhost","title":"Supported Platforms and Cameras"},{"location":"scripts/","text":"Scripts Auto copy to USB (NTFS)","title":"Scripts"},{"location":"scripts/#scripts","text":"Auto copy to USB (NTFS)","title":"Scripts"},{"location":"scripts/auto-copy-to-usb-ntfs/","text":"Auto copy zu USB NTFS formatiert Auto copy script to copy images and temp files to an USB drive formatted with NTFS when plugged in. This script uses rsync to copy files from the Photobooth data folder to the USB drive when it is plugged in. It also creates a status file that can be used to monitor the copy progress via a web page. The script is triggered via a udev rule when an USB drive with NTFS filesystem is plugged in. Requires: python3 rsync ntfs-3g udev Installation sudo touch /usr/local/bin/fotobox-copy.sh sudo chmod +x /usr/local/bin/fotobox-copy.sh sudo nano /usr/local/bin/fotobox-copy.sh #!/usr/bin/env bash set -Eeuo pipefail # Configuration PART=\"${1}\" # e.g. sdb1 DEV=\"/dev/${PART}\" SRC=\"/var/www/html/data\" SUB1=\"images\" SUB2=\"tmp\" STATUS=\"/var/www/html/private/copystatus.json\" # ---------- Status helper ---------- write_status() { local state=\"$1\" pct=\"$2\" msg=\"$3\" local tmp=\"${STATUS}.tmp\" # Create JSON safely printf '{\"state\":\"%s\",\"percent\":%s,\"message\":%s}\\n' \\ \"$state\" \"$pct\" \"$(python3 -c \"import json; print(json.dumps('$msg'))\")\" | sudo tee \"$tmp\" >/dev/null sudo mv \"$tmp\" \"$STATUS\" } fail() { local code=\"$1\" local line=\"$2\" write_status \"error\" 0 \"Error (code ${code}) in line ${line}.\" exit \"$code\" } trap 'fail $? $LINENO' ERR # ---------- Start ---------- write_status \"starting\" 0 \"USB detected: ${DEV}. Prepare...\" # Check if device exists if [[ ! -b \"$DEV\" ]]; then write_status \"error\" 0 \"Device ${DEV} not found.\" exit 1 fi # Mount device if not already mounted MNT=\"$(lsblk -no MOUNTPOINT \"$DEV\" | head -n1 || true)\" if [[ -z \"${MNT}\" ]]; then sudo mkdir -p /mnt/usbdrive # mount mit 'flush' Option f\u00fcr exFAT hilft, Puffer schneller zu leeren sudo mount -o flush \"$DEV\" /mnt/usbdrive MNT=\"/mnt/usbdrive\" fi DEST=\"${MNT}/images\" sudo mkdir -p \"$DEST\" # Existenz der Quellordner pr\u00fcfen [[ -d \"${SRC}/${SUB1}\" ]] || { write_status \"error\" 0 \"Source ${SUB1} missing\"; exit 2; } [[ -d \"${SRC}/${SUB2}\" ]] || { write_status \"error\" 0 \"Source ${SUB2} missing\"; exit 2; } # ---------- Prepare Rsync ---------- # --no-inc-recursive: No jumping progress percentage # --info=progress2: Compact progress output RSYNC_OPTS=( -rltD --info=progress2 --no-inc-recursive --no-owner --no-group --no-perms --no-acls --no-xattrs --omit-dir-times --modify-window=2 ) write_status \"copying\" 1 \"Calculate copy size...\" # Run rdync in dry-run to get total size # stdbuf & tr to handle progress output line by line set +e sudo stdbuf -oL rsync \"${RSYNC_OPTS[@]}\" \\ \"${SRC}/${SUB1}\" \"${SRC}/${SUB2}\" \\ \"$DEST/\" 2>&1 | tr '\\r' '\\n' | while IFS= read -r line; do if [[ \"$line\" =~ ([0-9]{1,3})% ]]; then p=\"${BASH_REMATCH[1]}\" # Scale to 95% to leave room for final sync step # Prevents user from thinking it hung at 100% display_p=$(( p * 95 / 100 )) # Only update every percent to reduce writes write_status \"copying\" \"$display_p\" \"Copied ${p}%...\" fi done RSYNC_EXIT=${PIPESTATUS[0]} set -e if [ \"$RSYNC_EXIT\" -ne 0 ] && [ \"$RSYNC_EXIT\" -ne 24 ]; then fail \"$RSYNC_EXIT\" \"rsync failed\" fi # ---------- Final sync ---------- write_status \"syncing\" 96 \"Finalise copy...\" # Sync to ensure all data is written to stick to avoid corruption sync write_status \"done\" 100 \"Done. You can remove the USB drive now.\" # Unmount only if we mounted it if [[ \"${MNT}\" == \"/mnt/usbdrive\" ]]; then # Give some time to ensure all writes are done sleep 1 sudo umount /mnt/usbdrive || sudo umount -l /mnt/usbdrive fi exit 0 Setup udev rule echo 'ACTION==\"add\", SUBSYSTEM==\"block\", ENV{DEVTYPE}==\"partition\", ENV{ID_FS_TYPE}==\"ntfs\", RUN+=\"/usr/local/bin/fotobox-copy.sh %k\"' | sudo tee /etc/udev/rules.d/99-fotobox-autocopy.rules sudo udevadm control --reload-rules sudo udevadm trigger Create status file and set permissions sudo touch /var/www/html/private/copystatus.json sudo chown root:www-data /var/www/html/private/copystatus.json sudo chmod 664 /var/www/html/private/copystatus.json sudo chown -R www-data:www-data /var/www/html/private Create status page to monitor progress in folder private sudo -u www-data nano /var/www/html/private/status.php <?php ?> <!doctype html> <html lang=\"de\"> <head> <meta charset=\"utf-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <title>Kopiervorgang\u2026</title> </head> <body style=\" background-image: url('/private/images/background/Copy_Background.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; margin: 0; padding: 0; overflow-x:hidden; overflow-y:hidden;\"> <div id=\"wrap\" style=\"min-height:100vh; display:flex; align-items:center; justify-content:center; padding:20px;\"> <div style=\"background:#fff; padding:20px; border-radius:12px; width:min(520px,90vw); box-shadow:0 10px 30px rgba(0,0,0,.3);\"> <div id=\"copyMsg\" style=\"margin-bottom:10px;\">Warte auf Status\u2026</div> <div style=\"height:18px; background:#eee; border-radius:10px; overflow:hidden;\"> <div id=\"copyBar\" style=\"height:100%; width:0%; background:#3b82f6;\"></div> </div> <div id=\"copyPct\" style=\"margin-top:8px; font-size:14px; opacity:.8;\">0%</div> </div> </div> <script> (async function(){ const bar = document.getElementById('copyBar'); const msg = document.getElementById('copyMsg'); const pct = document.getElementById('copyPct'); // Passe ggf. den Pfad an: const STATUS_URL = '/private/copystatus.json'; const BACK_URL = '../index.php'; async function poll(){ try { const r = await fetch(STATUS_URL, { cache: 'no-store' }); if(!r.ok) throw new Error('Status page not reachable: ' + r.status); const s = await r.json(); const state = (s.state || '').toLowerCase(); const p = Math.max(0, Math.min(100, Number(s.percent ?? 0))); bar.style.width = p + '%'; msg.textContent = s.message || (state ? ('Status: ' + state) : 'Kopiere '); pct.textContent = p + '%'; if (state === 'done') { bar.style.width = '100%'; msg.textContent = s.message || 'Fertig.'; pct.textContent = '100%'; setTimeout(() => window.location.href = BACK_URL, 3000); return; } // Optional: handle error state if (state === 'error') { msg.textContent = s.message || 'Copy error.'; return; } } catch(e) { msg.textContent = 'No status available.'; // do not jump to status page, it will flicker otherwise } finally { setTimeout(poll, 400); } } poll(); })(); </script> </body> </html> Create auto-refresh script to redirect to status page when copy is running sudo nano /var/www/html/private/copyrun.js (async function(){ const STATUS_URL = '/private/copystatus.json'; const STATUS_PAGE = '/private/status.php'; async function check(){ try { const r = await fetch(STATUS_URL + '?t=' + Date.now(), { cache: 'no-store' }); if (!r.ok) throw new Error('no status'); const s = await r.json(); const state = (s.state || '').toLowerCase(); if (state === 'starting' || state === 'copying') { // >>> HIER passiert der Sprung <<< window.location.href = STATUS_PAGE; return; } } catch(e) { // no status file or error - do nothing } setTimeout(check, 600); } check(); })();","title":"Auto copy zu USB NTFS formatiert"},{"location":"scripts/auto-copy-to-usb-ntfs/#auto-copy-zu-usb-ntfs-formatiert","text":"Auto copy script to copy images and temp files to an USB drive formatted with NTFS when plugged in. This script uses rsync to copy files from the Photobooth data folder to the USB drive when it is plugged in. It also creates a status file that can be used to monitor the copy progress via a web page. The script is triggered via a udev rule when an USB drive with NTFS filesystem is plugged in.","title":"Auto copy zu USB NTFS formatiert"},{"location":"scripts/auto-copy-to-usb-ntfs/#requires","text":"python3 rsync ntfs-3g udev","title":"Requires:"},{"location":"scripts/auto-copy-to-usb-ntfs/#installation","text":"sudo touch /usr/local/bin/fotobox-copy.sh sudo chmod +x /usr/local/bin/fotobox-copy.sh sudo nano /usr/local/bin/fotobox-copy.sh #!/usr/bin/env bash set -Eeuo pipefail # Configuration PART=\"${1}\" # e.g. sdb1 DEV=\"/dev/${PART}\" SRC=\"/var/www/html/data\" SUB1=\"images\" SUB2=\"tmp\" STATUS=\"/var/www/html/private/copystatus.json\" # ---------- Status helper ---------- write_status() { local state=\"$1\" pct=\"$2\" msg=\"$3\" local tmp=\"${STATUS}.tmp\" # Create JSON safely printf '{\"state\":\"%s\",\"percent\":%s,\"message\":%s}\\n' \\ \"$state\" \"$pct\" \"$(python3 -c \"import json; print(json.dumps('$msg'))\")\" | sudo tee \"$tmp\" >/dev/null sudo mv \"$tmp\" \"$STATUS\" } fail() { local code=\"$1\" local line=\"$2\" write_status \"error\" 0 \"Error (code ${code}) in line ${line}.\" exit \"$code\" } trap 'fail $? $LINENO' ERR # ---------- Start ---------- write_status \"starting\" 0 \"USB detected: ${DEV}. Prepare...\" # Check if device exists if [[ ! -b \"$DEV\" ]]; then write_status \"error\" 0 \"Device ${DEV} not found.\" exit 1 fi # Mount device if not already mounted MNT=\"$(lsblk -no MOUNTPOINT \"$DEV\" | head -n1 || true)\" if [[ -z \"${MNT}\" ]]; then sudo mkdir -p /mnt/usbdrive # mount mit 'flush' Option f\u00fcr exFAT hilft, Puffer schneller zu leeren sudo mount -o flush \"$DEV\" /mnt/usbdrive MNT=\"/mnt/usbdrive\" fi DEST=\"${MNT}/images\" sudo mkdir -p \"$DEST\" # Existenz der Quellordner pr\u00fcfen [[ -d \"${SRC}/${SUB1}\" ]] || { write_status \"error\" 0 \"Source ${SUB1} missing\"; exit 2; } [[ -d \"${SRC}/${SUB2}\" ]] || { write_status \"error\" 0 \"Source ${SUB2} missing\"; exit 2; } # ---------- Prepare Rsync ---------- # --no-inc-recursive: No jumping progress percentage # --info=progress2: Compact progress output RSYNC_OPTS=( -rltD --info=progress2 --no-inc-recursive --no-owner --no-group --no-perms --no-acls --no-xattrs --omit-dir-times --modify-window=2 ) write_status \"copying\" 1 \"Calculate copy size...\" # Run rdync in dry-run to get total size # stdbuf & tr to handle progress output line by line set +e sudo stdbuf -oL rsync \"${RSYNC_OPTS[@]}\" \\ \"${SRC}/${SUB1}\" \"${SRC}/${SUB2}\" \\ \"$DEST/\" 2>&1 | tr '\\r' '\\n' | while IFS= read -r line; do if [[ \"$line\" =~ ([0-9]{1,3})% ]]; then p=\"${BASH_REMATCH[1]}\" # Scale to 95% to leave room for final sync step # Prevents user from thinking it hung at 100% display_p=$(( p * 95 / 100 )) # Only update every percent to reduce writes write_status \"copying\" \"$display_p\" \"Copied ${p}%...\" fi done RSYNC_EXIT=${PIPESTATUS[0]} set -e if [ \"$RSYNC_EXIT\" -ne 0 ] && [ \"$RSYNC_EXIT\" -ne 24 ]; then fail \"$RSYNC_EXIT\" \"rsync failed\" fi # ---------- Final sync ---------- write_status \"syncing\" 96 \"Finalise copy...\" # Sync to ensure all data is written to stick to avoid corruption sync write_status \"done\" 100 \"Done. You can remove the USB drive now.\" # Unmount only if we mounted it if [[ \"${MNT}\" == \"/mnt/usbdrive\" ]]; then # Give some time to ensure all writes are done sleep 1 sudo umount /mnt/usbdrive || sudo umount -l /mnt/usbdrive fi exit 0 Setup udev rule echo 'ACTION==\"add\", SUBSYSTEM==\"block\", ENV{DEVTYPE}==\"partition\", ENV{ID_FS_TYPE}==\"ntfs\", RUN+=\"/usr/local/bin/fotobox-copy.sh %k\"' | sudo tee /etc/udev/rules.d/99-fotobox-autocopy.rules sudo udevadm control --reload-rules sudo udevadm trigger Create status file and set permissions sudo touch /var/www/html/private/copystatus.json sudo chown root:www-data /var/www/html/private/copystatus.json sudo chmod 664 /var/www/html/private/copystatus.json sudo chown -R www-data:www-data /var/www/html/private Create status page to monitor progress in folder private sudo -u www-data nano /var/www/html/private/status.php <?php ?> <!doctype html> <html lang=\"de\"> <head> <meta charset=\"utf-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <title>Kopiervorgang\u2026</title> </head> <body style=\" background-image: url('/private/images/background/Copy_Background.jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; margin: 0; padding: 0; overflow-x:hidden; overflow-y:hidden;\"> <div id=\"wrap\" style=\"min-height:100vh; display:flex; align-items:center; justify-content:center; padding:20px;\"> <div style=\"background:#fff; padding:20px; border-radius:12px; width:min(520px,90vw); box-shadow:0 10px 30px rgba(0,0,0,.3);\"> <div id=\"copyMsg\" style=\"margin-bottom:10px;\">Warte auf Status\u2026</div> <div style=\"height:18px; background:#eee; border-radius:10px; overflow:hidden;\"> <div id=\"copyBar\" style=\"height:100%; width:0%; background:#3b82f6;\"></div> </div> <div id=\"copyPct\" style=\"margin-top:8px; font-size:14px; opacity:.8;\">0%</div> </div> </div> <script> (async function(){ const bar = document.getElementById('copyBar'); const msg = document.getElementById('copyMsg'); const pct = document.getElementById('copyPct'); // Passe ggf. den Pfad an: const STATUS_URL = '/private/copystatus.json'; const BACK_URL = '../index.php'; async function poll(){ try { const r = await fetch(STATUS_URL, { cache: 'no-store' }); if(!r.ok) throw new Error('Status page not reachable: ' + r.status); const s = await r.json(); const state = (s.state || '').toLowerCase(); const p = Math.max(0, Math.min(100, Number(s.percent ?? 0))); bar.style.width = p + '%'; msg.textContent = s.message || (state ? ('Status: ' + state) : 'Kopiere '); pct.textContent = p + '%'; if (state === 'done') { bar.style.width = '100%'; msg.textContent = s.message || 'Fertig.'; pct.textContent = '100%'; setTimeout(() => window.location.href = BACK_URL, 3000); return; } // Optional: handle error state if (state === 'error') { msg.textContent = s.message || 'Copy error.'; return; } } catch(e) { msg.textContent = 'No status available.'; // do not jump to status page, it will flicker otherwise } finally { setTimeout(poll, 400); } } poll(); })(); </script> </body> </html> Create auto-refresh script to redirect to status page when copy is running sudo nano /var/www/html/private/copyrun.js (async function(){ const STATUS_URL = '/private/copystatus.json'; const STATUS_PAGE = '/private/status.php'; async function check(){ try { const r = await fetch(STATUS_URL + '?t=' + Date.now(), { cache: 'no-store' }); if (!r.ok) throw new Error('no status'); const s = await r.json(); const state = (s.state || '').toLowerCase(); if (state === 'starting' || state === 'copying') { // >>> HIER passiert der Sprung <<< window.location.href = STATUS_PAGE; return; } } catch(e) { // no status file or error - do nothing } setTimeout(check, 600); } check(); })();","title":"Installation"},{"location":"update/","text":"Upgrade & maintenance Update Photobooth on Linux \u2013 update steps and checks. Changelog \u2013 detailed release notes. Security policy \u2013 how to report vulnerabilities.","title":"Overview"},{"location":"update/#upgrade-maintenance","text":"Update Photobooth on Linux \u2013 update steps and checks. Changelog \u2013 detailed release notes. Security policy \u2013 how to report vulnerabilities.","title":"Upgrade &amp; maintenance"},{"location":"update/update-linux/","text":"Updating Photobooth on Linux Node.js must be installed in v20. Our installer will check your Node.js version and suggest an update/downgrade if needed. Update will fail if Node.js is installed in a version below! Updating from v2.x or older To update from an old version to latest Photobooth it's recommend to make a clean installalation . Updating from v3.x or v4.x to latest stable release Note: You must have the git-version of Photobooth installed. To update an existing Photobooth-Installation via git, run below commands in your terminal to start the Photobooth Setup Wizard. If an Photobooth installation is found, an option to update can be found as \"2 Update Photobooth\": wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh Special note: If you have accessed Photobooth earlier from your Browser, please clear your Browsers Cache once to avoid graphical glitches or being unable to save config changes using the Adminpanel. Troubleshooting In some cases, the v4l2loopback doesn't seem to be working after an update and breaking the preview from DSLR. After a reboot run v4l2-ctl --list-devices from your terminal to see if everything is fine. If it works you get the following output: GPhoto2 Webcam (platform:v4l2loopback-000): /dev/video0 If it doesn't work: Cannot open device /dev/video0, exiting If it doesn't work, you might need to compile the v4l2loopback Module yourself by running the following commands: curl -LO https://github.com/umlaeute/v4l2loopback/archive/refs/tags/v0.12.7.tar.gz tar xzf v0.12.7.tar.gz && cd v4l2loopback-0.12.7 make && sudo make install sudo depmod -a sudo modprobe v4l2loopback exclusive_caps=1 card_label=\"GPhoto2 Webcam\" Now again check if everything is fine ( v4l2-ctl --list-devices ). If you're still having trouble feel free to join us at Telegram to get further support.","title":"Update on Linux"},{"location":"update/update-linux/#updating-photobooth-on-linux","text":"Node.js must be installed in v20. Our installer will check your Node.js version and suggest an update/downgrade if needed. Update will fail if Node.js is installed in a version below!","title":"Updating Photobooth on Linux"},{"location":"update/update-linux/#updating-from-v2x-or-older","text":"To update from an old version to latest Photobooth it's recommend to make a clean installalation .","title":"Updating from v2.x or older"},{"location":"update/update-linux/#updating-from-v3x-or-v4x-to-latest-stable-release","text":"Note: You must have the git-version of Photobooth installed. To update an existing Photobooth-Installation via git, run below commands in your terminal to start the Photobooth Setup Wizard. If an Photobooth installation is found, an option to update can be found as \"2 Update Photobooth\": wget -O install-photobooth.sh https://raw.githubusercontent.com/PhotoboothProject/photobooth/dev/install-photobooth.sh sudo bash install-photobooth.sh Special note: If you have accessed Photobooth earlier from your Browser, please clear your Browsers Cache once to avoid graphical glitches or being unable to save config changes using the Adminpanel. Troubleshooting In some cases, the v4l2loopback doesn't seem to be working after an update and breaking the preview from DSLR. After a reboot run v4l2-ctl --list-devices from your terminal to see if everything is fine. If it works you get the following output: GPhoto2 Webcam (platform:v4l2loopback-000): /dev/video0 If it doesn't work: Cannot open device /dev/video0, exiting If it doesn't work, you might need to compile the v4l2loopback Module yourself by running the following commands: curl -LO https://github.com/umlaeute/v4l2loopback/archive/refs/tags/v0.12.7.tar.gz tar xzf v0.12.7.tar.gz && cd v4l2loopback-0.12.7 make && sudo make install sudo depmod -a sudo modprobe v4l2loopback exclusive_caps=1 card_label=\"GPhoto2 Webcam\" Now again check if everything is fine ( v4l2-ctl --list-devices ). If you're still having trouble feel free to join us at Telegram to get further support.","title":"Updating from v3.x or v4.x to latest stable release"}]}